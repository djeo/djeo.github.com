/*
 COPYRIGHT 2009 ESRI

 TRADE SECRETS: ESRI PROPRIETARY AND CONFIDENTIAL
 Unpublished material - all rights reserved under the
 Copyright Laws of the United States and applicable international
 laws, treaties, and conventions.

 For additional information, contact:
 Environmental Systems Research Institute, Inc.
 Attn: Contracts and Legal Services Department
 380 New York Street
 Redlands, California, 92373
 USA

 email: contracts@esri.com
 */
//>>built
define(["dijit","dojo","dojox","dojo/require!esri/tasks/_task"],function(_1,_2,_3){_2.provide("esri.tasks.geometry");_2.require("esri.tasks._task");_2.declare("esri.tasks.GeometryService",esri.tasks._Task,{constructor:function(_4){var _5=_2.hitch;this._projectHandler=_5(this,this._projectHandler);this._simplifyHandler=_5(this,this._simplifyHandler);this._bufferHandler=_5(this,this._bufferHandler);this._areasAndLengthsHandler=_5(this,this._areasAndLengthsHandler);this._lengthsHandler=_5(this,this._lengthsHandler);this._labelPointsHandler=_5(this,this._labelPointsHandler);this._relationHandler=_5(this,this._relationHandler);this._convexHullHandler=_5(this,this._convexHullHandler);this._unionHandler=_5(this,this._unionHandler);this._autoCompleteHandler=_5(this,this._autoCompleteHandler);this._reshapeHandler=_5(this,this._reshapeHandler);this._cutHandler=_5(this,this._cutHandler);this._intersectHandler=_5(this,this._intersectHandler);this._differenceHandler=_5(this,this._differenceHandler);this._trimExtendHandler=_5(this,this._trimExtendHandler);this._densifyHandler=_5(this,this._densifyHandler);this._generalizeHandler=_5(this,this._densifyHandler);this._offsetHandler=_5(this,this._offsetHandler);this._distanceHandler=_5(this,this._distanceHandler);},_encodeGeometries:function(_6){var gs=[];for(var i=0,il=_6.length;i<il;i++){gs.push(_6[i].toJson());}return {geometryType:esri.geometry.getJsonType(_6[0]),geometries:gs};},_decodeGeometries:function(_7,_8,sr){var _9=esri.geometry.getGeometryType(_8),_a=_7.geometries,fs=[],_b={spatialReference:sr.toJson()},_c=_2.mixin;_2.forEach(_a,function(g,i){fs[i]=new _9(_c(g,_b));});return fs;},_toProjectGeometry:function(_d){var sr=_d.spatialReference.toJson();if(_d instanceof esri.geometry.Extent){return new esri.geometry.Polygon({rings:[[[_d.xmin,_d.ymin],[_d.xmin,_d.ymax],[_d.xmax,_d.ymax],[_d.xmax,_d.ymin],[_d.xmin,_d.ymin]]],spatialReference:sr});}else{return new esri.geometry.Polyline({paths:[[].concat(_d.points)],spatialReference:sr});}},_fromProjectedGeometry:function(_e,_f,_10){if(_f==="esriGeometryEnvelope"){var _11=_e.rings[0];return new esri.geometry.Extent(_11[0][0],_11[0][1],_11[2][0],_11[2][1],_10);}else{return new esri.geometry.Multipoint({points:_e.paths[0],spatialReference:_10.toJson()});}},project:function(_12,_13,_14,_15){var _16=_2.mixin({},this._url.query,{f:"json"}),_17;if(!_12.geometries){_17=_12[0];_16=_2.mixin(_16,{outSR:_13.wkid||_2.toJson(_13.toJson()),inSR:_17.spatialReference.wkid||_2.toJson(_17.spatialReference.toJson()),geometries:_2.toJson(this._encodeGeometries(_12))});}else{_15=_14;_14=_13;_13=_12.outSR;_17=_12.geometries[0];_16=_2.mixin(_16,_12.toJson());}var _18=esri.geometry.getJsonType(_17),_19=this._projectHandler,_1a=this._errorHandler,dfd=new _2.Deferred(esri._dfdCanceller);dfd._pendingDfd=esri.request({url:this._url.path+"/project",content:_16,callbackParamName:"callback",load:(function(r,i){_19(r,i,_18,_13,_14,_15,dfd);}),error:(function(r){_1a(r,_15,dfd);})});return dfd;},_projectHandler:function(_1b,io,_1c,_1d,_1e,_1f,dfd){try{var fs=this._decodeGeometries(_1b,_1c,_1d);this._successHandler([fs],"onProjectComplete",_1e,dfd);}catch(err){this._errorHandler(err,_1f,dfd);}},onProjectComplete:function(){},simplify:function(_20,_21,_22){var _23=_20[0].spatialReference;var _24=_2.mixin({},this._url.query,{f:"json",sr:_23.wkid?_23.wkid:_2.toJson(_23.toJson()),geometries:_2.toJson(this._encodeGeometries(_20))}),_25=esri.geometry.getJsonType(_20[0]),_26=this._simplifyHandler,_27=this._errorHandler,dfd=new _2.Deferred(esri._dfdCanceller);dfd._pendingDfd=esri.request({url:this._url.path+"/simplify",content:_24,callbackParamName:"callback",load:(function(r,i){_26(r,i,_25,_23,_21,_22,dfd);}),error:(function(r){_27(r,_22,dfd);})});return dfd;},_simplifyHandler:function(_28,io,_29,sr,_2a,_2b,dfd){try{var fs=this._decodeGeometries(_28,_29,sr);this._successHandler([fs],"onSimplifyComplete",_2a,dfd);}catch(err){this._errorHandler(err,_2b,dfd);}},onSimplifyComplete:function(){},convexHull:function(_2c,_2d,_2e){var _2f=_2c[0].spatialReference;var _30=_2.mixin({},this._url.query,{f:"json",sr:_2.toJson(_2f.toJson()),geometries:_2.toJson(this._encodeGeometries(_2c))}),_31=this._convexHullHandler,_32=this._errorHandler,dfd=new _2.Deferred(esri._dfdCanceller);dfd._pendingDfd=esri.request({url:this._url.path+"/convexHull",content:_30,callbackParamName:"callback",load:(function(r,i){_31(r,i,_2f,_2d,_2e,dfd);}),error:(function(r){_32(r,_2e,dfd);})});return dfd;},_convexHullHandler:function(_33,io,_34,_35,_36,dfd){try{var _37=esri.geometry.fromJson(_33.geometry).setSpatialReference(_34);this._successHandler([_37],"onConvexHullComplete",_35,dfd);}catch(err){this._errorHandler(err,_36,dfd);}},onConvexHullComplete:function(){},union:function(_38,_39,_3a){var _3b=_38[0].spatialReference;var _3c=_2.mixin({},this._url.query,{f:"json",sr:_2.toJson(_3b.toJson()),geometries:_2.toJson(this._encodeGeometries(_38))}),_3d=this._unionHandler,_3e=this._errorHandler,dfd=new _2.Deferred(esri._dfdCanceller);dfd._pendingDfd=esri.request({url:this._url.path+"/union",content:_3c,callbackParamName:"callback",load:(function(r,i){_3d(r,i,_3b,_39,_3a,dfd);}),error:(function(r){_3e(r,_3a,dfd);})});return dfd;},_unionHandler:function(_3f,io,_40,_41,_42,dfd){try{var _43=esri.geometry.fromJson(_3f.geometry).setSpatialReference(_40);this._successHandler([_43],"onUnionComplete",_41,dfd);}catch(err){this._errorHandler(err,_42,dfd);}},onUnionComplete:function(){},autoComplete:function(_44,_45,_46,_47){var _48=_44[0].spatialReference;var _49=_2.mixin({},this._url.query,{f:"json",sr:_2.toJson(_48.toJson()),polygons:_2.toJson(this._encodeGeometries(_44).geometries),polylines:_2.toJson(this._encodeGeometries(_45).geometries)}),_4a=this._autoCompleteHandler,_4b=this._errorHandler,dfd=new _2.Deferred(esri._dfdCanceller);dfd._pendingDfd=esri.request({url:this._url.path+"/autoComplete",content:_49,callbackParamName:"callback",load:(function(r,i){_4a(r,i,_48,_46,_47,dfd);}),error:(function(r){_4b(r,_47,dfd);})});return dfd;},_autoCompleteHandler:function(_4c,io,_4d,_4e,_4f,dfd){try{var _50=esri.geometry.Polygon,_51=_4c.geometries,_52=[];for(var i=0,il=_51.length;i<il;i++){_52[i]=new _50({spatialReference:_4d,rings:_51[i].rings});}this._successHandler([_52],"onAutoCompleteComplete",_4e,dfd);}catch(err){this._errorHandler(err,_4f,dfd);}},onAutoCompleteComplete:function(){},reshape:function(_53,_54,_55,_56){var _57=_53.spatialReference;var _58=_2.mixin({},this._url.query,{f:"json",sr:_2.toJson(_57.toJson()),target:_2.toJson({geometryType:esri.geometry.getJsonType(_53),geometry:_53.toJson()}),reshaper:_2.toJson(_54.toJson())}),_59=this._reshapeHandler,_5a=this._errorHandler,dfd=new _2.Deferred(esri._dfdCanceller);dfd._pendingDfd=esri.request({url:this._url.path+"/reshape",content:_58,callbackParamName:"callback",load:(function(r,i){_59(r,i,_57,_55,_56,dfd);}),error:(function(r){_5a(r,_56,dfd);})});return dfd;},_reshapeHandler:function(_5b,io,_5c,_5d,_5e,dfd){try{var _5f=esri.geometry.fromJson(_5b.geometry).setSpatialReference(_5c);this._successHandler([_5f],"onReshapeComplete",_5d,dfd);}catch(err){this._errorHandler(err,_5e,dfd);}},onReshapeComplete:function(){},cut:function(_60,_61,_62,_63){var _64=_60[0].spatialReference;var _65=_2.map(_60,function(_66){return _66.toJson();});var _67=_2.mixin({},this._url.query,{f:"json",sr:_2.toJson(_64.toJson()),target:_2.toJson({geometryType:esri.geometry.getJsonType(_60[0]),geometries:_65}),cutter:_2.toJson(_61.toJson())}),_68=this._cutHandler,_69=this._errorHandler,dfd=new _2.Deferred(esri._dfdCanceller);dfd._pendingDfd=esri.request({url:this._url.path+"/cut",content:_67,callbackParamName:"callback",load:(function(r,i){_68(r,i,_64,_62,_63,dfd);}),error:(function(r){_69(r,_63,dfd);})});return dfd;},_cutHandler:function(_6a,io,_6b,_6c,_6d,dfd){try{var _6e=_6a.geometries;var _6f={};_6f.cutIndexes=_6a.cutIndexes;_6f.geometries=[];_2.forEach(_6e,function(_70){_6f.geometries.push(esri.geometry.fromJson(_70).setSpatialReference(_6b));});this._successHandler([_6f],"onCutComplete",_6c,dfd);}catch(err){this._errorHandler(err,_6d,dfd);}},onCutComplete:function(){},intersect:function(_71,_72,_73,_74){var _75=_71[0].spatialReference;var _76=_2.mixin({},this._url.query,{f:"json",sr:_2.toJson(_75.toJson()),geometries:_2.toJson(this._encodeGeometries(_71)),geometry:_2.toJson({geometryType:esri.geometry.getJsonType(_72),geometry:_72.toJson()})}),_77=this._intersectHandler,_78=this._errorHandler,dfd=new _2.Deferred(esri._dfdCanceller);dfd._pendingDfd=esri.request({url:this._url.path+"/intersect",content:_76,callbackParamName:"callback",load:(function(r,i){_77(r,i,_75,_73,_74,dfd);}),error:(function(r){_78(r,_74,dfd);})});return dfd;},_intersectHandler:function(_79,io,_7a,_7b,_7c,dfd){try{var _7d=_79.geometries,_7e=[];_2.forEach(_7d,function(_7f){_7e.push(esri.geometry.fromJson(_7f).setSpatialReference(_7a));});this._successHandler([_7e],"onIntersectComplete",_7b,dfd);}catch(err){this._errorHandler(err,_7c,dfd);}},onIntersectComplete:function(){},difference:function(_80,_81,_82,_83){var _84=_80[0].spatialReference;var _85=_2.mixin({},this._url.query,{f:"json",sr:_2.toJson(_84.toJson()),geometries:_2.toJson(this._encodeGeometries(_80)),geometry:_2.toJson({geometryType:esri.geometry.getJsonType(_81),geometry:_81.toJson()})}),_86=this._differenceHandler,_87=this._errorHandler,dfd=new _2.Deferred(esri._dfdCanceller);dfd._pendingDfd=esri.request({url:this._url.path+"/difference",content:_85,callbackParamName:"callback",load:(function(r,i){_86(r,i,_84,_82,_83,dfd);}),error:(function(r){_87(r,_83,dfd);})});return dfd;},_differenceHandler:function(_88,io,_89,_8a,_8b,dfd){try{var _8c=_88.geometries,_8d=[];_2.forEach(_8c,function(_8e){_8d.push(esri.geometry.fromJson(_8e).setSpatialReference(_89));});this._successHandler([_8d],"onDifferenceComplete",_8a,dfd);}catch(err){this._errorHandler(err,_8b,dfd);}},onDifferenceComplete:function(){},buffer:function(_8f,_90,_91){var _92=_2.mixin({},this._url.query,{f:"json"},_8f.toJson()),sr=_8f.outSpatialReference||_8f.geometries[0].spatialReference,_93=this._bufferHandler,_94=this._errorHandler,dfd=new _2.Deferred(esri._dfdCanceller);dfd._pendingDfd=esri.request({url:this._url.path+"/buffer",content:_92,callbackParamName:"callback",load:(function(r,i){_93(r,i,sr,_90,_91,dfd);}),error:(function(r){_94(r,_91,dfd);})});return dfd;},_bufferHandler:function(_95,io,sr,_96,_97,dfd){try{var _98=esri.geometry.Polygon,_99=_95.geometries,_9a=[];for(var i=0,il=_99.length;i<il;i++){_9a[i]=new _98({spatialReference:sr,rings:_99[i].rings});}this._successHandler([_9a],"onBufferComplete",_96,dfd);}catch(err){this._errorHandler(err,_97,dfd);}},onBufferComplete:function(){},areasAndLengths:function(_9b,_9c,_9d){var _9e=_2.mixin({},this._url.query,{f:"json"},_9b.toJson()),_9f=this._areasAndLengthsHandler,_a0=this._errorHandler,dfd=new _2.Deferred(esri._dfdCanceller);dfd._pendingDfd=esri.request({url:this._url.path+"/areasAndLengths",content:_9e,callbackParamName:"callback",load:(function(r,i){_9f(r,i,_9c,_9d,dfd);}),error:(function(r){_a0(r,_9d,dfd);})});return dfd;},_areasAndLengthsHandler:function(_a1,io,_a2,_a3,dfd){try{this._successHandler([_a1],"onAreasAndLengthsComplete",_a2,dfd);}catch(err){this._errorHandler(err,_a3,dfd);}},onAreasAndLengthsComplete:function(){},lengths:function(_a4,_a5,_a6){var _a7=_2.mixin({},this._url.query,{f:"json"},_a4.toJson()),_a8=this._lengthsHandler,_a9=this._errorHandler,dfd=new _2.Deferred(esri._dfdCanceller);dfd._pendingDfd=esri.request({url:this._url.path+"/lengths",content:_a7,callbackParamName:"callback",load:(function(r,i){_a8(r,i,_a5,_a6,dfd);}),error:(function(r){_a9(r,_a6,dfd);})});return dfd;},_lengthsHandler:function(_aa,io,_ab,_ac,dfd){try{this._successHandler([_aa],"onLengthsComplete",_ab,dfd);}catch(err){this._errorHandler(err,_ac,dfd);}},onLengthsComplete:function(){},labelPoints:function(_ad,_ae,_af){var _b0=_2.map(_ad,function(_b1){return _b1.toJson();});var sr=_ad[0].spatialReference,_b2=_2.mixin({},this._url.query,{f:"json",sr:sr.wkid?sr.wkid:_2.toJson(sr.toJson()),polygons:_2.toJson(_b0)}),_b3=this._labelPointsHandler,_b4=this._errorHandler,dfd=new _2.Deferred(esri._dfdCanceller);dfd._pendingDfd=esri.request({url:this._url.path+"/labelPoints",content:_b2,callbackParamName:"callback",load:(function(r,i){_b3(r,i,_ad,sr,_ae,_af,dfd);}),error:(function(r){_b4(r,_af,dfd);})});return dfd;},_labelPointsHandler:function(_b5,io,_b6,sr,_b7,_b8,dfd){try{var _b9=_b5.labelPoints,_ba=[];_2.forEach(_b9,function(_bb){_ba.push(esri.geometry.fromJson(_bb).setSpatialReference(sr));});this._successHandler([_ba],"onLabelPointsComplete",_b7,dfd);}catch(err){this._errorHandler(err,_b8,dfd);}},onLabelPointsComplete:function(){},relation:function(_bc,_bd,_be){var _bf=_2.mixin({},this._url.query,{f:"json"},_bc.toJson()),_c0=this._relationHandler,_c1=this._errorHandler,dfd=new _2.Deferred(esri._dfdCanceller);dfd._pendingDfd=esri.request({url:this._url.path+"/relation",content:_bf,callbackParamName:"callback",load:(function(r,i){_c0(r,i,_bd,_be,dfd);}),error:(function(r){_c1(r,_be,dfd);})});return dfd;},_relationHandler:function(_c2,io,_c3,_c4,dfd){try{var _c5=_c2.relations;this._successHandler([_c5],"onRelationComplete",_c3,dfd);}catch(err){this._errorHandler(err,_c4,dfd);}},onRelationComplete:function(){},trimExtend:function(_c6,_c7,_c8){var _c9=_2.mixin({},this._url.query,{f:"json"},_c6.toJson()),_ca=_c6.sr,_cb=this._trimExtendHandler,_cc=this._errorHandler,dfd=new _2.Deferred(esri._dfdCanceller);dfd._pendingDfd=esri.request({url:this._url.path+"/trimExtend",content:_c9,callbackParamName:"callback",load:(function(r,i){_cb(r,i,_ca,_c7,_c8,dfd);}),error:(function(r){_cc(r,_c8,dfd);})});return dfd;},_trimExtendHandler:function(_cd,io,_ce,_cf,_d0,dfd){try{var _d1=esri.geometry.Polyline,_d2=_cd.geometries,_d3=[];for(var i=0,il=_d2.length;i<il;i++){_d3[i]=new _d1({spatialReference:_ce,paths:_d2[i].paths});}this._successHandler([_d3],"onTrimExtendComplete",_cf,dfd);}catch(err){this._errorHandler(err,_d0,dfd);}},onTrimExtendComplete:function(){},densify:function(_d4,_d5,_d6){var _d7=_2.mixin({},this._url.query,{f:"json"},_d4.toJson()),_d8=_d4.geometries[0].spatialReference,_d9=this._densifyHandler,_da=this._errorHandler,dfd=new _2.Deferred(esri._dfdCanceller);dfd._pendingDfd=esri.request({url:this._url.path+"/densify",content:_d7,callbackParamName:"callback",load:(function(r,i){_d9(r,i,_d8,_d5,_d6,dfd);}),error:(function(r){_da(r,_d6,dfd);})});return dfd;},_densifyHandler:function(_db,io,_dc,_dd,_de,dfd){try{var _df=_db.geometries,_e0=[];_2.forEach(_df,function(_e1){_e0.push(esri.geometry.fromJson(_e1).setSpatialReference(_dc));});this._successHandler([_e0],"onDensifyComplete",_dd,dfd);}catch(err){this._errorHandler(err,_de,dfd);}},onDensifyComplete:function(){},generalize:function(_e2,_e3,_e4){var _e5=_2.mixin({},this._url.query,{f:"json"},_e2.toJson()),_e6=_e2.geometries[0].spatialReference,_e7=this._generalizeHandler,_e8=this._errorHandler,dfd=new _2.Deferred(esri._dfdCanceller);dfd._pendingDfd=esri.request({url:this._url.path+"/generalize",content:_e5,callbackParamName:"callback",load:(function(r,i){_e7(r,i,_e6,_e3,_e4,dfd);}),error:(function(r){_e8(r,_e4,dfd);})});return dfd;},_generalizeHandler:function(_e9,io,_ea,_eb,_ec,dfd){try{var _ed=_e9.geometries,_ee=[];_2.forEach(_ed,function(_ef){_ee.push(esri.geometry.fromJson(_ef).setSpatialReference(_ea));});this._successHandler([_ee],"onGeneralizeComplete",_eb,dfd);}catch(err){this._errorHandler(err,_ec,dfd);}},onGeneralizeComplete:function(){},offset:function(_f0,_f1,_f2){var _f3=_2.mixin({},this._url.query,{f:"json"},_f0.toJson()),_f4=_f0.geometries[0].spatialReference,_f5=this._offsetHandler,_f6=this._errorHandler,dfd=new _2.Deferred(esri._dfdCanceller);dfd._pendingDfd=esri.request({url:this._url.path+"/offset",content:_f3,callbackParamName:"callback",load:(function(r,i){_f5(r,i,_f4,_f1,_f2,dfd);}),error:(function(r){_f6(r,_f2,dfd);})});return dfd;},_offsetHandler:function(_f7,io,_f8,_f9,_fa,dfd){try{var _fb=_f7.geometries,_fc=[];_2.forEach(_fb,function(_fd){_fc.push(esri.geometry.fromJson(_fd).setSpatialReference(_f8));});this._successHandler([_fc],"onOffsetComplete",_f9,dfd);}catch(err){this._errorHandler(err,_fa,dfd);}},onOffsetComplete:function(){},distance:function(_fe,_ff,_100){var _101=_2.mixin({},this._url.query,{f:"json"},_fe.toJson()),_102=_fe.geometry1.spatialReference,_103=this._distanceHandler,_104=this._errorHandler,dfd=new _2.Deferred(esri._dfdCanceller);dfd._pendingDfd=esri.request({url:this._url.path+"/distance",content:_101,callbackParamName:"callback",load:(function(r,i){_103(r,i,_102,_ff,_100,dfd);}),error:(function(r){_104(r,_100,dfd);})});return dfd;},_distanceHandler:function(_105,io,_106,_107,_108,dfd){try{_105=_105&&_105.distance;this._successHandler([_105],"onDistanceComplete",_107,dfd);}catch(err){this._errorHandler(err,_108,dfd);}},onDistanceComplete:function(){}});_2.declare("esri.tasks.TrimExtendParameters",null,{polylines:null,trimExtendTo:null,extendHow:null,toJson:function(){var _109=_2.map(this.polylines,function(geom){return geom.toJson();});var json={};json.polylines=_2.toJson(_109);json.trimExtendTo=_2.toJson(this.trimExtendTo.toJson());json.sr=_2.toJson(this.polylines[0].spatialReference.toJson());json.extendHow=this.extendHow||0;return json;}});_2.mixin(esri.tasks.TrimExtendParameters,{DEFAULT_CURVE_EXTENSION:0,RELOCATE_ENDS:1,KEEP_END_ATTRIBUTES:2,NO_END_ATTRIBUTES:4,NO_EXTEND_AT_FROM:8,NO_EXTEND_AT_TO:16});_2.declare("esri.tasks.BufferParameters",null,{geometries:null,outSpatialReference:null,bufferSpatialReference:null,distances:null,unit:null,unionResults:false,geodesic:false,toJson:function(){var json={unit:this.unit,unionResults:this.unionResults,geodesic:this.geodesic},dt=this.distances,_10a=this.outSpatialReference,_10b=this.bufferSpatialReference;var _10c=_2.map(this.geometries,function(geom){geom=(geom.type==="extent")?this._extentToPolygon(geom):geom;return geom.toJson();},this);var _10d=this.geometries;if(_10d&&_10d.length>0){var _10e=_10d[0].type==="extent"?"esriGeometryPolygon":esri.geometry.getJsonType(_10d[0]);json.geometries=_2.toJson({geometryType:_10e,geometries:_10c});json.inSR=_10d[0].spatialReference.wkid?_10d[0].spatialReference.wkid:_2.toJson(_10d[0].spatialReference.toJson());}if(dt){json.distances=dt.join(",");}if(_10a){json.outSR=_10a.wkid?_10a.wkid:_2.toJson(_10a.toJson());}if(_10b){json.bufferSR=_10b.wkid?_10b.wkid:_2.toJson(_10b.toJson());}return json;},_extentToPolygon:function(_10f){var xmin=_10f.xmin,ymin=_10f.ymin,xmax=_10f.xmax,ymax=_10f.ymax;return new esri.geometry.Polygon({"rings":[[[xmin,ymin],[xmin,ymax],[xmax,ymax],[xmax,ymin],[xmin,ymin]]],"spatialReference":_10f.spatialReference.toJson()});}});_2.mixin(esri.tasks.GeometryService,{UNIT_METER:9001,UNIT_GERMAN_METER:9031,UNIT_FOOT:9002,UNIT_SURVEY_FOOT:9003,UNIT_CLARKE_FOOT:9005,UNIT_FATHOM:9014,UNIT_NAUTICAL_MILE:9030,UNIT_SURVEY_CHAIN:9033,UNIT_SURVEY_LINK:9034,UNIT_SURVEY_MILE:9035,UNIT_KILOMETER:9036,UNIT_CLARKE_YARD:9037,UNIT_CLARKE_CHAIN:9038,UNIT_CLARKE_LINK:9039,UNIT_SEARS_YARD:9040,UNIT_SEARS_FOOT:9041,UNIT_SEARS_CHAIN:9042,UNIT_SEARS_LINK:9043,UNIT_BENOIT_1895A_YARD:9050,UNIT_BENOIT_1895A_FOOT:9051,UNIT_BENOIT_1895A_CHAIN:9052,UNIT_BENOIT_1895A_LINK:9053,UNIT_BENOIT_1895B_YARD:9060,UNIT_BENOIT_1895B_FOOT:9061,UNIT_BENOIT_1895B_CHAIN:9062,UNIT_BENOIT_1895B_LINK:9063,UNIT_INDIAN_FOOT:9080,UNIT_INDIAN_1937_FOOT:9081,UNIT_INDIAN_1962_FOOT:9082,UNIT_INDIAN_1975_FOOT:9083,UNIT_INDIAN_YARD:9084,UNIT_INDIAN_1937_YARD:9085,UNIT_INDIAN_1962_YARD:9086,UNIT_INDIAN_1975_YARD:9087,UNIT_FOOT_1865:9070,UNIT_RADIAN:9101,UNIT_DEGREE:9102,UNIT_ARCMINUTE:9103,UNIT_ARCSECOND:9104,UNIT_GRAD:9105,UNIT_GON:9106,UNIT_MICRORADIAN:9109,UNIT_ARCMINUTE_CENTESIMAL:9112,UNIT_ARCSECOND_CENTESIMAL:9113,UNIT_MIL6400:9114,UNIT_BRITISH_1936_FOOT:9095,UNIT_GOLDCOAST_FOOT:9094,UNIT_INTERNATIONAL_CHAIN:109003,UNIT_INTERNATIONAL_LINK:109004,UNIT_INTERNATIONAL_YARD:109001,UNIT_STATUTE_MILE:9093,UNIT_SURVEY_YARD:109002,UNIT_50KILOMETER_LENGTH:109030,UNIT_150KILOMETER_LENGTH:109031,UNIT_DECIMETER:109005,UNIT_CENTIMETER:109006,UNIT_MILLIMETER:109007,UNIT_INTERNATIONAL_INCH:109008,UNIT_US_SURVEY_INCH:109009,UNIT_INTERNATIONAL_ROD:109010,UNIT_US_SURVEY_ROD:109011,UNIT_US_NAUTICAL_MILE:109012,UNIT_UK_NAUTICAL_MILE:109013,UNIT_SQUARE_INCHES:"esriSquareInches",UNIT_SQUARE_FEET:"esriSquareFeet",UNIT_SQUARE_YARDS:"esriSquareYards",UNIT_ACRES:"esriAcres",UNIT_SQUARE_MILES:"esriSquareMiles",UNIT_SQUARE_MILLIMETERS:"esriSquareMillimeters",UNIT_SQUARE_CENTIMETERS:"esriSquareCentimeters",UNIT_SQUARE_DECIMETERS:"esriSquareDecimeters",UNIT_SQUARE_METERS:"esriSquareMeters",UNIT_ARES:"esriAres",UNIT_HECTARES:"esriHectares",UNIT_SQUARE_KILOMETERS:"esriSquareKilometers"});_2.declare("esri.tasks.AreasAndLengthsParameters",null,{polygons:null,lengthUnit:null,areaUnit:null,calculationType:null,toJson:function(){var _110=_2.map(this.polygons,function(geom){return geom.toJson();});var json={};json.polygons=_2.toJson(_110);var _111=this.polygons[0].spatialReference;json.sr=_111.wkid?_111.wkid:_2.toJson(_111.toJson());if(this.lengthUnit){json.lengthUnit=this.lengthUnit;}if(this.areaUnit){if(_2.isString(this.areaUnit)){json.areaUnit=_2.toJson({"areaUnit":this.areaUnit});}else{json.areaUnit=this.areaUnit;}}if(this.calculationType){json.calculationType=this.calculationType;}return json;}});_2.declare("esri.tasks.LengthsParameters",null,{polylines:null,lengthUnit:null,geodesic:null,calculationType:null,toJson:function(){var _112=_2.map(this.polylines,function(geom){return geom.toJson();});var json={};json.polylines=_2.toJson(_112);var _113=this.polylines[0].spatialReference;json.sr=_113.wkid?_113.wkid:_2.toJson(_113.toJson());if(this.lengthUnit){json.lengthUnit=this.lengthUnit;}if(this.geodesic){json.geodesic=this.geodesic;}if(this.calculationType){json.calculationType=this.calculationType;}return json;}});_2.declare("esri.tasks.RelationParameters",null,{geometries1:null,geometries2:null,relation:null,relationParam:null,toJson:function(){var _114=_2.map(this.geometries1,function(geom){return geom.toJson();});var _115=_2.map(this.geometries2,function(geom){return geom.toJson();});var json={};var _116=this.geometries1;if(_116&&_116.length>0){json.geometries1=_2.toJson({geometryType:esri.geometry.getJsonType(_116[0]),geometries:_114});var _117=this.geometries1[0].spatialReference;json.sr=_117.wkid?_117.wkid:_2.toJson(_117.toJson());}var _118=this.geometries2;if(_118&&_118.length>0){json.geometries2=_2.toJson({geometryType:esri.geometry.getJsonType(_118[0]),geometries:_115});}if(this.relation){json.relation=this.relation;}if(this.relationParam){json.relationParam=_2.toJson(this.relationParam);}return json;}});_2.mixin(esri.tasks.RelationParameters,{SPATIAL_REL_CROSS:"esriGeometryRelationCross",SPATIAL_REL_DISJOINT:"esriGeometryRelationDisjoint",SPATIAL_REL_IN:"esriGeometryRelationIn",SPATIAL_REL_INTERIORINTERSECTION:"esriGeometryRelationInteriorIntersection",SPATIAL_REL_INTERSECTION:"esriGeometryRelationIntersection",SPATIAL_REL_COINCIDENCE:"esriGeometryRelationLineCoincidence",SPATIAL_REL_LINETOUCH:"esriGeometryRelationLineTouch",SPATIAL_REL_OVERLAP:"esriGeometryRelationOverlap",SPATIAL_REL_POINTTOUCH:"esriGeometryRelationPointTouch",SPATIAL_REL_TOUCH:"esriGeometryRelationTouch",SPATIAL_REL_WITHIN:"esriGeometryRelationWithin",SPATIAL_REL_RELATION:"esriGeometryRelationRelation"});_2.declare("esri.tasks.DensifyParameters",null,{geometries:null,geodesic:null,lengthUnit:null,maxSegmentLength:null,toJson:function(){var _119=_2.map(this.geometries,function(geom){return geom.toJson();});var json={};if(this.geometries&&this.geometries.length>0){json.geometries=_2.toJson({geometryType:esri.geometry.getJsonType(this.geometries[0]),geometries:_119});json.sr=_2.toJson(this.geometries[0].spatialReference.toJson());}if(this.geodesic){json.geodesic=this.geodesic;}if(this.lengthUnit){json.lengthUnit=this.lengthUnit;}if(this.maxSegmentLength){json.maxSegmentLength=this.maxSegmentLength;}return json;}});_2.declare("esri.tasks.GeneralizeParameters",null,{geometries:null,deviationUnit:null,maxDeviation:null,toJson:function(){var _11a=_2.map(this.geometries,function(geom){return geom.toJson();});var json={};if(this.geometries&&this.geometries.length>0){json.geometries=_2.toJson({geometryType:esri.geometry.getJsonType(this.geometries[0]),geometries:_11a});json.sr=_2.toJson(this.geometries[0].spatialReference.toJson());}if(this.deviationUnit){json.deviationUnit=this.deviationUnit;}if(this.maxDeviation){json.maxDeviation=this.maxDeviation;}return json;}});_2.declare("esri.tasks.OffsetParameters",null,{geometries:null,bevelRatio:null,offsetDistance:null,offsetHow:null,offsetUnit:null,toJson:function(){var _11b=_2.map(this.geometries,function(geom){return geom.toJson();});var json={};if(this.geometries&&this.geometries.length>0){json.geometries=_2.toJson({geometryType:esri.geometry.getJsonType(this.geometries[0]),geometries:_11b});json.sr=_2.toJson(this.geometries[0].spatialReference.toJson());}if(this.bevelRatio){json.bevelRatio=this.bevelRatio;}if(this.offsetDistance){json.offsetDistance=this.offsetDistance;}if(this.offsetHow){json.offsetHow=this.offsetHow;}if(this.offsetUnit){json.offsetUnit=this.offsetUnit;}return json;}});_2.mixin(esri.tasks.OffsetParameters,{OFFSET_BEVELLED:"esriGeometryOffsetBevelled",OFFSET_MITERED:"esriGeometryOffsetMitered",OFFSET_ROUNDED:"esriGeometryOffsetRounded"});_2.declare("esri.tasks.DistanceParameters",null,{geometry1:null,geometry2:null,distanceUnit:null,geodesic:null,toJson:function(){var json={};var _11c=this.geometry1;if(_11c){json.geometry1=_2.toJson({geometryType:esri.geometry.getJsonType(_11c),geometry:_11c});}var _11d=this.geometry2;if(_11d){json.geometry2=_2.toJson({geometryType:esri.geometry.getJsonType(_11d),geometry:_11d});}json.sr=_2.toJson(this.geometry1.spatialReference.toJson());if(this.distanceUnit){json.distanceUnit=this.distanceUnit;}if(this.geodesic){json.geodesic=this.geodesic;}return json;}});_2.declare("esri.tasks.ProjectParameters",null,{geometries:null,outSR:null,transformation:null,transformationForward:null,toJson:function(){var _11e=_2.map(this.geometries,function(geom){return geom.toJson();});var json={};json.outSR=this.outSR.wkid||_2.toJson(this.outSR.toJson());json.inSR=this.geometries[0].spatialReference.wkid||_2.toJson(this.geometries[0].spatialReference.toJson());json.geometries=_2.toJson({geometryType:esri.geometry.getJsonType(this.geometries[0]),geometries:_11e});if(this.transformation){json.transformation=this.transformation.wkid||_2.toJson(this.transformation);}if(this.tranformationForward){json.transformationForward=this.transformationForward;}return json;}});});