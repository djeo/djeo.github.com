//>>built
require({cache:{"dojo/_base/fx":function(){define("dojo/_base/fx",["./kernel","./lang","../Evented","./Color","./connect","./sniff","../dom","../dom-style"],function(a,l,f,o,i,h,j,e){var k=l.mixin;a._Line=function(b,d){this.start=b;this.end=d};a._Line.prototype.getValue=function(b){return(this.end-this.start)*b+this.start};a.Animation=function(b){k(this,b);if(l.isArray(this.curve))this.curve=new a._Line(this.curve[0],this.curve[1])};a.Animation.prototype=new f;a._Animation=a.Animation;l.extend(a.Animation,
{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var b=this._percent,d=this.easing;return d?d(b):b},_fire:function(b,d){var c=d||[];if(this[b])if(a.config.debugAtAllCosts)this[b].apply(this,c);else try{this[b].apply(this,c)}catch(r){}return this},play:function(b,d){this._delayTimer&&this._clearTimer();if(d)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);var c=b||this.delay,
r=l.hitch(this,"_play",d);if(c>0)return this._delayTimer=setTimeout(r,c),this;r();return this},_play:function(){this._delayTimer&&this._clearTimer();this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;var b=this.curve.getValue(this._getStep());if(!this._percent){if(!this._startRepeatCount)this._startRepeatCount=this.repeat;this._fire("onBegin",[b])}this._fire("onPlay",[b]);this._cycle();return this},pause:function(){this._delayTimer&&
this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);return this},gotoPercent:function(b,d){this._stopTimer();this._active=this._paused=!0;this._percent=b;d&&this.play();return this},stop:function(b){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();if(b)this._percent=1;this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},status:function(){if(this._active)return this._paused?
"paused":"playing";return"stopped"},_cycle:function(){if(this._active){var b=((new Date).valueOf()-this._startTime)/this.duration;b>=1&&(b=1);this._percent=b;this.easing&&(b=this.easing(b));this._fire("onAnimate",[this.curve.getValue(b)]);if(this._percent<1)this._startTimer();else{this._active=!1;if(this.repeat>0)this.repeat--,this.play(null,!0);else if(this.repeat==-1)this.play(null,!0);else if(this._startRepeatCount)this.repeat=this._startRepeatCount,this._startRepeatCount=0;this._percent=0;this._fire("onEnd",
[this.node]);!this.repeat&&this._stopTimer()}}return this},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var b=0,q=null,p={run:function(){}};l.extend(a.Animation,{_startTimer:function(){if(!this._timer)this._timer=i.connect(p,"run",this,"_cycle"),b++;q||(q=setInterval(l.hitch(p,"run"),this.rate))},_stopTimer:function(){if(this._timer)i.disconnect(this._timer),this._timer=null,b--;b<=0&&(clearInterval(q),q=null,b=0)}});var m=h("ie")?function(b){var d=b.style;if(!d.width.length&&
e.get(b,"width")=="auto")d.width="auto"}:function(){};a._fade=function(b){b.node=j.byId(b.node);var d=k({properties:{}},b),b=d.properties.opacity={};b.start=!("start"in d)?function(){return+e.get(d.node,"opacity")||0}:d.start;b.end=d.end;b=a.animateProperty(d);i.connect(b,"beforeBegin",l.partial(m,d.node));return b};a.fadeIn=function(b){return a._fade(k({end:1},b))};a.fadeOut=function(b){return a._fade(k({end:0},b))};a._defaultEasing=function(b){return 0.5+Math.sin((b+1.5)*Math.PI)/2};var g=function(b){this._properties=
b;for(var d in b){var c=b[d];if(c.start instanceof o)c.tempColor=new o}};g.prototype.getValue=function(b){var d={},c;for(c in this._properties){var r=this._properties[c],g=r.start;g instanceof o?d[c]=o.blendColors(g,r.end,b,r.tempColor).toCss():l.isArray(g)||(d[c]=(r.end-g)*b+g+(c!="opacity"?r.units||"px":0))}return d};a.animateProperty=function(b){var d=b.node=j.byId(b.node);if(!b.easing)b.easing=a._defaultEasing;b=new a.Animation(b);i.connect(b,"beforeBegin",b,function(){var c={},b;for(b in this.properties){if(b==
"width"||b=="height")this.node.display="block";var t=this.properties[b];l.isFunction(t)&&(t=t(d));t=c[b]=k({},l.isObject(t)?t:{end:t});if(l.isFunction(t.start))t.start=t.start(d);if(l.isFunction(t.end))t.end=t.end(d);var a=b.toLowerCase().indexOf("color")>=0,h=function(c,b){var d={height:c.offsetHeight,width:c.offsetWidth}[b];if(d!==void 0)return d;d=e.get(c,b);return b=="opacity"?+d:a?d:parseFloat(d)};if("end"in t){if(!("start"in t))t.start=h(d,b)}else t.end=h(d,b);a?(t.start=new o(t.start),t.end=
new o(t.end)):t.start=b=="opacity"?+t.start:parseFloat(t.start)}this.curve=new g(c)});i.connect(b,"onAnimate",l.hitch(e,"set",b.node));return b};a.anim=function(b,d,c,g,t,e){return a.animateProperty({node:b,duration:c||a.Animation.prototype.duration,properties:d,easing:g,onEnd:t}).play(e||0)};return{_Line:a._Line,Animation:a.Animation,_fade:a._fade,fadeIn:a.fadeIn,fadeOut:a.fadeOut,_defaultEasing:a._defaultEasing,animateProperty:a.animateProperty,anim:a.anim}})},"dojo/i18n":function(){define("dojo/i18n",
["./_base/kernel","require","./has","./_base/array","./_base/config","./_base/lang","./_base/xhr","./json"],function(a,l,f,o,i,h,j,e){f.add("dojo-preload-i18n-Api",1);var k=a.i18n={},b=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,q=function(c,b,n,d){for(var g=[n+d],b=b.split("-"),r="",t=0;t<b.length;t++)r+=(r?"-":"")+b[t],(!c||c[r])&&g.push(n+r+"/"+d);return g},p={},m=a.getL10nName=function(c,b,n){n=n?n.toLowerCase():a.locale;c="dojo/i18n!"+c.replace(/\./g,"/");b=b.replace(/\./g,"/");return/root/i.test(n)?
c+"/nls/"+b:c+"/nls/"+n+"/"+b},g=function(c,b,n,d,g,r){c([b],function(t){var e=h.clone(t.root),u=q(!t._v1x&&t,g,n,d);c(u,function(){for(var c=1;c<u.length;c++)e=h.mixin(h.clone(e),arguments[c]);p[b+"/"+g]=e;r()})})},s=function(c){var b=i.extraLocale||[],b=h.isArray(b)?b:[b];b.push(c);return b},d=function(c,n,d){if(f("dojo-preload-i18n-Api")){var r=c.split("*"),u=r[1]=="preload";u&&(p[c]||(p[c]=1,x(r[2],e.parse(r[3]),1)),d(1));if(!(r=u))t&&v.push([c,n,d]),r=t;if(r)return}var c=b.exec(c),j=c[1]+"/",
k=c[5]||c[4],q=j+k,r=(c=c[5]&&c[4])||a.locale,i=q+"/"+r,c=c?[r]:s(r),m=c.length,l=function(){--m||d(h.delegate(p[i]))};o.forEach(c,function(c){var b=q+"/"+c;f("dojo-preload-i18n-Api")&&w(b);p[b]?l():g(n,q,j,k,c,l)})};if(f("dojo-unit-tests"))var c=k.unitTests=[];f("dojo-preload-i18n-Api");var r=k.normalizeLocale=function(c){c=c?c.toLowerCase():a.locale;return c=="root"?"ROOT":c},t=0,v=[],x=k._preloadLocalizations=function(c,b,n){function g(c,b){for(var n=c.split("-");n.length;){if(b(n.join("-")))return!0;
n.pop()}return b("ROOT")}function e(a){a=r(a);g(a,function(r){if(o.indexOf(b,r)>=0)return r=c.replace(/\./g,"/")+"_"+r,t++,(l.isXdUrl(l.toUrl(r+".js"))||n?l:u)([r],function(c){for(var b in c)p[b+"/"+a]=c[b];for(--t;!t&&v.length;)d.apply(null,v.shift())}),!0;return!1})}e();o.forEach(a.config.extraLocale,e)},n=new Function("__bundle","__checkForLegacyModules","__mid","var define = function(){define.called = 1;},    require = function(){define.called = 1;};try{define.called = 0;eval(__bundle);if(define.called==1)return 1;if((__checkForLegacyModules = __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
u=function(c,b){var d=[];o.forEach(c,function(c){function b(g){g=n(g,w,c);g===1?l([c],function(c){d.push(p[r]=c)}):(g instanceof Error&&(g={}),d.push(p[r]=/nls\/[^\/]+\/[^\/]+$/.test(r)?g:{root:g,_v1x:1}))}var r=l.toUrl(c+".js");if(p[r])d.push(p[r]);else{var g=l.syncLoadNls(c);if(g)d.push(g);else if(j)j.get({url:r,sync:!0,load:b,error:function(){d.push(p[r]={})}});else try{l.getText(r,!0,b)}catch(t){d.push(p[r]={})}}});b&&b.apply(null,d)},w=function(c){for(var b,n=c.split("/"),d=a.global[n[0]],r=
1;d&&r<n.length-1;d=d[n[r++]]);d&&((b=d[n[r]])||(b=d[n[r].replace(/-/g,"_")]),b&&(p[c]=b));return b};k.getLocalization=function(c,b,n){var r,c=m(c,b,n).substring(10);d(c,!l.isXdUrl(l.toUrl(c+".js"))?u:l,function(c){r=c});return r};f("dojo-unit-tests")&&c.push(function(c){c.register("tests.i18n.unit",function(c){var b;b=n("{prop:1}");c.is({prop:1},b);c.is(void 0,b[1]);b=n("({prop:1})");c.is({prop:1},b);c.is(void 0,b[1]);b=n("{'prop-x':1}");c.is({"prop-x":1},b);c.is(void 0,b[1]);b=n("({'prop-x':1})");
c.is({"prop-x":1},b);c.is(void 0,b[1]);b=n("define({'prop-x':1})");c.is(1,b);b=n("this is total nonsense and should throw an error");c.is(b instanceof Error,!0)})});return h.mixin(k,{dynamic:!0,normalize:function(c,b){return/^\./.test(c)?b(c):c},load:d,cache:p})})},"dojo/_base/html":function(){define("dojo/_base/html",["./kernel","../dom","../dom-style","../dom-attr","../dom-prop","../dom-class","../dom-construct","../dom-geometry"],function(a,l,f,o,i,h,j,e){a.byId=l.byId;a.isDescendant=l.isDescendant;
a.setSelectable=l.setSelectable;a.getAttr=o.get;a.setAttr=o.set;a.hasAttr=o.has;a.removeAttr=o.remove;a.getNodeProp=o.getNodeProp;a.attr=function(e,b,a){if(arguments.length==2)return o[typeof b=="string"?"get":"set"](e,b);return o.set(e,b,a)};a.hasClass=h.contains;a.addClass=h.add;a.removeClass=h.remove;a.toggleClass=h.toggle;a.replaceClass=h.replace;a._toDom=a.toDom=j.toDom;a.place=j.place;a.create=j.create;a.empty=function(e){j.empty(e)};a._destroyElement=a.destroy=function(e){j.destroy(e)};a._getPadExtents=
a.getPadExtents=e.getPadExtents;a._getBorderExtents=a.getBorderExtents=e.getBorderExtents;a._getPadBorderExtents=a.getPadBorderExtents=e.getPadBorderExtents;a._getMarginExtents=a.getMarginExtents=e.getMarginExtents;a._getMarginSize=a.getMarginSize=e.getMarginSize;a._getMarginBox=a.getMarginBox=e.getMarginBox;a.setMarginBox=e.setMarginBox;a._getContentBox=a.getContentBox=e.getContentBox;a.setContentSize=e.setContentSize;a._isBodyLtr=a.isBodyLtr=e.isBodyLtr;a._docScroll=a.docScroll=e.docScroll;a._getIeDocumentElementOffset=
a.getIeDocumentElementOffset=e.getIeDocumentElementOffset;a._fixIeBiDiScrollLeft=a.fixIeBiDiScrollLeft=e.fixIeBiDiScrollLeft;a.position=e.position;a.marginBox=function(a,b){return b?e.setMarginBox(a,b):e.getMarginBox(a)};a.contentBox=function(a,b){return b?e.setContentSize(a,b):e.getContentBox(a)};a.coords=function(h,b){a.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");var h=l.byId(h),j=f.getComputedStyle(h),j=e.getMarginBox(h,j),i=e.position(h,b);j.x=i.x;j.y=i.y;return j};
a.getProp=i.get;a.setProp=i.set;a.prop=function(e,b,a){if(arguments.length==2)return i[typeof b=="string"?"get":"set"](e,b);return i.set(e,b,a)};a.getStyle=f.get;a.setStyle=f.set;a.getComputedStyle=f.getComputedStyle;a.__toPixelValue=a.toPixelValue=f.toPixelValue;a.style=function(e,b,a){switch(arguments.length){case 1:return f.get(e);case 2:return f[typeof b=="string"?"get":"set"](e,b)}return f.set(e,b,a)};return a})},"dojox/gfx/arc":function(){define("dojox/gfx/arc",["./_base","dojo/_base/lang",
"./matrix"],function(a,l,f){function o(b){var e=Math.cos(b),b=Math.sin(b),a={x:e+4/3*(1-e),y:b-4/3*e*(1-e)/b};return{s:{x:e,y:-b},c1:{x:a.x,y:-a.y},c2:a,e:{x:e,y:b}}}var i=2*Math.PI,h=Math.PI/4,j=Math.PI/8,e=h+j,k=o(j);return a.arc={unitArcAsBezier:o,curvePI4:k,arcAsBezier:function(b,a,p,m,g,s,d,c){var g=Boolean(g),s=Boolean(s),r=f._degToRad(m),m=a*a,t=p*p,v=f.multiplyPoint(f.rotate(-r),{x:(b.x-d)/2,y:(b.y-c)/2}),l=v.x*v.x,n=v.y*v.y,m=Math.sqrt((m*t-m*n-t*l)/(m*n+t*l));isNaN(m)&&(m=0);m={x:m*a*v.y/
p,y:-m*p*v.x/a};g==s&&(m={x:-m.x,y:-m.y});m=f.multiplyPoint([f.translate((b.x+d)/2,(b.y+c)/2),f.rotate(r)],m);a=f.normalize([f.translate(m.x,m.y),f.rotate(r),f.scale(a,p)]);m=f.invert(a);b=f.multiplyPoint(m,b);c=f.multiplyPoint(m,d,c);d=Math.atan2(b.y,b.x);m=d-Math.atan2(c.y,c.x);s&&(m=-m);m<0?m+=i:m>i&&(m-=i);p=j;c=k;p=s?p:-p;b=[];for(g=m;g>0;g-=h)g<e&&(p=g/2,c=o(p),p=s?p:-p,g=0),v=f.normalize([a,f.rotate(d+p)]),s?(m=f.multiplyPoint(v,c.c1),r=f.multiplyPoint(v,c.c2),v=f.multiplyPoint(v,c.e)):(m=
f.multiplyPoint(v,c.c2),r=f.multiplyPoint(v,c.c1),v=f.multiplyPoint(v,c.s)),b.push([m.x,m.y,r.x,r.y,v.x,v.y]),d+=2*p;return b}}})},"dojo/NodeList-dom":function(){define("dojo/NodeList-dom",["./_base/kernel","./query","./_base/array","./_base/lang","./dom-class","./dom-construct","./dom-geometry","./dom-attr","./dom-style"],function(a,l,f,o,i,h,j,e,k){function b(c){return function(b,d,g){if(arguments.length==2)return c[typeof d=="string"?"get":"set"](b,d);return c.set(b,d,g)}}var q=function(c){return c.length==
1&&typeof c[0]=="string"},p=function(c){var b=c.parentNode;b&&b.removeChild(c)},m=l.NodeList,g=m._adaptWithCondition,s=m._adaptAsForEach,d=m._adaptAsMap;o.extend(m,{_normalize:function(c,b){var d=c.parse===!0;if(typeof c.template=="string")var g=c.templateFunc||a.string&&a.string.substitute,c=g?g(c.template,c):c;g=typeof c;g=="string"||g=="number"?(c=h.toDom(c,b&&b.ownerDocument),c=c.nodeType==11?o._toArray(c.childNodes):[c]):o.isArrayLike(c)?o.isArray(c)||(c=o._toArray(c)):c=[c];if(d)c._runParse=
!0;return c},_cloneNode:function(c){return c.cloneNode(!0)},_place:function(c,b,d,g){if(!(b.nodeType!=1&&d=="only"))for(var e,n=c.length,u=n-1;u>=0;u--){var j=g?this._cloneNode(c[u]):c[u];if(c._runParse&&a.parser&&a.parser.parse){e||(e=b.ownerDocument.createElement("div"));e.appendChild(j);a.parser.parse(e);for(j=e.firstChild;e.firstChild;)e.removeChild(e.firstChild)}u==n-1?h.place(j,b,d):b.parentNode.insertBefore(j,b);b=j}},attr:g(b(e),q),style:g(b(k),q),addClass:s(i.add),removeClass:s(i.remove),
replaceClass:s(i.replace),toggleClass:s(i.toggle),empty:s(h.empty),removeAttr:s(e.remove),position:d(j.position),marginBox:d(j.getMarginBox),place:function(c,b){var d=l(c)[0];return this.forEach(function(c){h.place(c,d,b)})},orphan:function(c){return(c?l._filterResult(this,c):this).forEach(p)},adopt:function(c,b){return l(c).place(this[0],b)._stash(this)},query:function(c){if(!c)return this;var b=new m;this.map(function(d){l(c,d).forEach(function(c){c!==void 0&&b.push(c)})});return b._stash(this)},
filter:function(c){var b=arguments,d=this,g=0;if(typeof c=="string"){d=l._filterResult(this,b[0]);if(b.length==1)return d._stash(this);g=1}return this._wrap(f.filter(d,b[g],b[g+1]),this)},addContent:function(c,b){for(var c=this._normalize(c,this[0]),d=0,g;g=this[d];d++)this._place(c,g,b,d>0);return this}});return m})},"dojo/query":function(){define("dojo/query",["./_base/kernel","./has","./dom","./on","./_base/array","./_base/lang","./selector/_loader","./selector/_loader!default"],function(a,l,f,
o,i,h,j,e){function k(c,b){var d=function(n,d){if(typeof d=="string"&&(d=f.byId(d),!d))return new b([]);var g=typeof n=="string"?c(n,d):n.orphan?n:[n];if(g.orphan)return g;return new b(g)};d.matches=c.match||function(c,b,n){return d.filter([c],b,n).length>0};d.filter=c.filter||function(c,b,n){return d(b,n).filter(function(b){return i.indexOf(c,b)>-1})};if(typeof c!="function")var n=c.search,c=function(c,b){return n(b||document,c)};return d}l.add("array-extensible",function(){return h.delegate([],
{length:1}).length==1&&!l("bug-for-in-skips-shadowed")});var b=Array.prototype,q=b.slice,p=b.concat,m=i.forEach,g=function(c,b,d){b=[0].concat(q.call(b,0));d=d||a.global;return function(n){b[0]=n;return c.apply(d,b)}},s=function(b){var g=this instanceof d&&l("array-extensible");typeof b=="number"&&(b=Array(b));var e=b&&"length"in b?b:arguments;if(g||!e.sort){for(var n=g?this:[],r=n.length=e.length,a=0;a<r;a++)n[a]=e[a];if(g)return n;e=n}h._mixin(e,c);e._NodeListCtor=function(c){return d(c)};return e},
d=s,c=d.prototype=l("array-extensible")?[]:{};d._wrap=c._wrap=function(c,b,g){c=new (g||this._NodeListCtor||d)(c);return b?c._stash(b):c};d._adaptAsMap=function(c,b){return function(){return this.map(g(c,arguments,b))}};d._adaptAsForEach=function(c,b){return function(){this.forEach(g(c,arguments,b));return this}};d._adaptAsFilter=function(c,b){return function(){return this.filter(g(c,arguments,b))}};d._adaptWithCondition=function(c,b,d){return function(){var n=arguments,e=g(c,n,d);if(b.call(d||a.global,
n))return this.map(e);this.forEach(e);return this}};m(["slice","splice"],function(d){var g=b[d];c[d]=function(){return this._wrap(g.apply(this,arguments),d=="slice"?this:null)}});m(["indexOf","lastIndexOf","every","some"],function(b){var d=i[b];c[b]=function(){return d.apply(a,[this].concat(q.call(arguments,0)))}});h.extend(s,{constructor:d,_NodeListCtor:d,toString:function(){return this.join(",")},_stash:function(c){this._parent=c;return this},on:function(c,b){var d=this.map(function(n){return o(n,
c,b)});d.remove=function(){for(var c=0;c<d.length;c++)d[c].remove()};return d},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(){var c=h.isArray(this)?this:q.call(this,0),b=i.map(arguments,function(c){return c&&!h.isArray(c)&&(typeof s!="undefined"&&c.constructor===s||c.constructor===this._NodeListCtor)?q.call(c,0):c});return this._wrap(p.apply(c,b),this)},map:function(c,b){return this._wrap(i.map(this,c,b),this)},forEach:function(c,b){m(this,c,b);return this},
filter:function(c){var b=arguments,d=this,n=0;if(typeof c=="string"){d=r._filterResult(this,b[0]);if(b.length==1)return d._stash(this);n=1}return this._wrap(i.filter(d,b[n],b[n+1]),this)},instantiate:function(c,b){var d=h.isFunction(c)?c:h.getObject(c),b=b||{};return this.forEach(function(c){new d(b,c)})},at:function(){var c=new this._NodeListCtor(0);m(arguments,function(b){b<0&&(b=this.length+b);this[b]&&c.push(this[b])},this);return c._stash(this)}});var r=k(e,s);a.query=k(e,function(c){return s(c)});
r.load=function(c,b,d){j.load(c,b,function(c){d(k(c,s))})};a._filterQueryResult=r._filterResult=function(c,b,d){return new s(r.filter(c,b,d))};a.NodeList=r.NodeList=s;return r})},"dojo/_base/loader":function(){define("dojo/_base/loader",["./kernel","../has","require","module","./json","./lang","./array"],function(a,l,f,o,i,h,j){var e=function(c){return c.replace(/\./g,"/")},k=/\/\/>>built/,b=[],q=[],p,m=function(c){p[c.mid]=1;for(var b,n,d=c.deps||[],g=0;g<d.length;g++)if(n=d[g],!(b=p[n.mid]))if(b===
0||!m(n))return p[c.mid]=0,!1;return!0},g=function(){var c,d;p={};for(d in C)if(c=C[d],c.executed||c.noReqPluginCheck)p[d]=1;else{if(c.noReqPluginCheck!==0)c.noReqPluginCheck=/loadInit\!/.test(d)||/require\!/.test(d)?1:0;c.noReqPluginCheck?p[d]=1:c.injected!==n&&(p[d]=0)}for(var g=0,e=q.length;g<e;g++)if(c=q[g],!(d=p[c.mid]))if(d===0||!m(c))return;v.holdIdle();c=b;b=[];j.forEach(c,function(c){c(1)});v.releaseIdle()},s=function(c,b,n){var d=/\(|\)/g,g=1;for(d.lastIndex=b;b=d.exec(c);)if(b[0]==")"?
g-=1:g+=1,g==0)break;if(g!=0)throw"unmatched paren around character "+d.lastIndex+" in: "+c;return[a.trim(c.substring(n,d.lastIndex))+";\n",d.lastIndex]},d=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,c=/(^|\s)dojo\.(loadInit|require|provide|requireLocalization|requireIf|requireAfterIf|platformRequire)\s*\(/mg,r=/(^|\s)(require|define)\s*\(/m,t=function(b,n){var g,e,a,u=[],h=[];g=[];for(n=n||b.replace(d,function(b){c.lastIndex=r.lastIndex=0;return c.test(b)||r.test(b)?"":b});g=c.exec(n);)e=c.lastIndex,a=e-
g[0].length,e=s(n,e,a),g[2]=="loadInit"?u.push(e[0]):h.push(e[0]),c.lastIndex=e[1];g=u.concat(h);return g.length||!r.test(n)?[b.replace(/(^|\s)dojo\.loadInit\s*\(/g,"\n0 && dojo.loadInit("),g.join(""),g]:0},v=f.initSyncLoader(function(c,n,d){b.push(d);j.forEach(c.split(","),function(c){c=y(c,n.module);q.push(c);A(c)});g()},g,function(c,b){var n,d,g=[],e=[];if(k.test(b)||!(n=t(b)))return 0;d=c.mid+"-*loadInit";for(var r in y("dojo",c).result.scopeMap)g.push(r),e.push('"'+r+'"');return"// xdomain rewrite of "+
c.path+"\ndefine('"+d+"',{\n\tnames:"+a.toJson(g)+",\n\tdef:function("+g.join(",")+"){"+n[1]+"}});\n\ndefine("+a.toJson(g.concat(["dojo/loadInit!"+d]))+", function("+g.join(",")+"){\n"+n[0]+"});"}),x=v.sync,n=v.arrived,u=v.nonmodule,w=v.executing,B=v.executed,z=v.syncExecStack,C=v.modules,D=v.execQ,y=v.getModule,A=v.injectModule,E=v.setArrived,G=v.signal,H=v.finishExec,I=v.execModule,F=v.getLegacyMode;a.provide=function(c){var b=z[0],n=h.mixin(y(e(c),f.module),{executed:w,result:h.getObject(c,!0)});
E(n);if(b)(b.provides||(b.provides=[])).push(function(){n.result=h.getObject(c);delete n.provides;n.executed!==B&&H(n)});return n.result};l.add("config-publishRequireResult",1,0,0);a.require=function(c,b){var d=function(c,b){var d=y(e(c),f.module);if(z.length&&z[0].finish)z[0].finish.push(c);else{if(d.executed)return d.result;b&&(d.result=u);var g=F();A(d);g=F();d.executed!==B&&d.injected===n&&(v.holdIdle(),I(d),v.releaseIdle());if(d.executed)return d.result;g==x?d.cjs?D.unshift(d):z.length&&(z[0].finish=
[c]):D.push(d)}}(c,b);l("config-publishRequireResult")&&!h.exists(c)&&d!==void 0&&h.setObject(c,d);return d};a.loadInit=function(c){c()};a.registerModulePath=function(c,b){var n={};n[c.replace(/\./g,"/")]=b;f({paths:n})};a.platformRequire=function(c){for(var c=(c.common||[]).concat(c[a._name]||c["default"]||[]),b;c.length;)h.isArray(b=c.shift())?a.require.apply(a,b):a.require(b)};a.requireIf=a.requireAfterIf=function(c,b,n){c&&a.require(b,n)};a.requireLocalization=function(c,b,n){f(["../i18n"],function(d){d.getLocalization(c,
b,n)})};return{extractLegacyApiApplications:t,require:v.dojoRequirePlugin,loadInit:function(c,n,d){n([c],function(c){n(c.names,function(){for(var r="",h=[],t=0;t<arguments.length;t++)r+="var "+c.names[t]+"= arguments["+t+"]; ",h.push(arguments[t]);eval(r);var s=n.module,i=[],r={},k=[],w,t={provide:function(c){c=e(c);c=y(c,s);c!==s&&E(c)},require:function(c,b){c=e(c);b&&(y(c,s).result=u);k.push(c)},requireLocalization:function(c,b,n){i.length||(i=["dojo/i18n"]);n=(n||a.locale).toLowerCase();c=e(c)+
"/nls/"+(/root/i.test(n)?"":n+"/")+e(b);y(c,s).isXd&&i.push("dojo/i18n!"+c)},loadInit:function(c){c()}};try{for(w in t)r[w]=a[w],a[w]=t[w];c.def.apply(null,h)}catch(f){G("error",[{src:o.id,id:"failedDojoLoadInit"},f])}finally{for(w in t)a[w]=r[w]}k.length&&i.push("dojo/require!"+k.join(","));b.push(d);j.forEach(k,function(c){c=y(c,n.module);q.push(c);A(c)});g()})})}}})},"dojox/gfx/gradient":function(){define("dojox/gfx/gradient",["dojo/_base/lang","./matrix","dojo/_base/Color"],function(a,l,f){function o(a,
e,h,b,i,f){a=l.multiplyPoint(h,a,e);b=l.multiplyPoint(b,a);return{r:a,p:b,o:l.multiplyPoint(i,b).x/f}}function i(a,e){return a.o-e.o}var h=a.getObject("dojox.gfx.gradient",!0);h.rescale=function(a,e,h){var b=a.length,i=h<e,p;i&&(p=e,e=h,h=p);if(!b)return[];if(h<=a[0].offset)p=[{offset:0,color:a[0].color},{offset:1,color:a[0].color}];else if(e>=a[b-1].offset)p=[{offset:0,color:a[b-1].color},{offset:1,color:a[b-1].color}];else{var m=h-e,g,s,d;p=[];e<0&&p.push({offset:0,color:new f(a[0].color)});for(d=
0;d<b;++d)if(g=a[d],g.offset>=e)break;d?(s=a[d-1],p.push({offset:0,color:f.blendColors(new f(s.color),new f(g.color),(e-s.offset)/(g.offset-s.offset))})):p.push({offset:0,color:new f(g.color)});for(;d<b;++d){g=a[d];if(g.offset>=h)break;p.push({offset:(g.offset-e)/m,color:new f(g.color)})}d<b?(s=a[d-1],p.push({offset:1,color:f.blendColors(new f(s.color),new f(g.color),(h-s.offset)/(g.offset-s.offset))})):p.push({offset:1,color:new f(a[b-1].color)})}if(i){p.reverse();d=0;for(b=p.length;d<b;++d)g=p[d],
g.offset=1-g.offset}return p};h.project=function(a,e,k,b){var a=a||l.identity,f=l.multiplyPoint(a,e.x1,e.y1),p=l.multiplyPoint(a,e.x2,e.y2),m=Math.atan2(p.y-f.y,p.x-f.x),g=l.project(p.x-f.x,p.y-f.y),f=l.multiplyPoint(g,f),p=l.multiplyPoint(g,p),f=new l.Matrix2D([l.rotate(-m),{dx:-f.x,dy:-f.y}]),p=l.multiplyPoint(f,p).x,a=[o(k.x,k.y,a,g,f,p),o(b.x,b.y,a,g,f,p),o(k.x,b.y,a,g,f,p),o(b.x,k.y,a,g,f,p)].sort(i),e=h.rescale(e.colors,a[0].o,a[3].o);return{type:"linear",x1:a[0].p.x,y1:a[0].p.y,x2:a[3].p.x,
y2:a[3].p.y,colors:e,angle:m}};return h})},"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("dojo/_base/browser",["../ready","./kernel","./connect","./unload","./window","./event","./html","./NodeList","../query","./xhr","./fx"],function(a){return a})},"dojo/dom-prop":function(){define("dojo/dom-prop",["exports","./_base/kernel","./_base/sniff","./_base/lang","./dom","./dom-style","./dom-construct","./_base/connect"],function(a,l,f,o,i,h,j,e){var k=
{},b=0,q=l._scopeName+"attrid",p={col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1};a.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"};a.get=function(b,g){var b=i.byId(b),e=g.toLowerCase();return b[a.names[e]||g]};a.set=function(m,g,s){m=i.byId(m);if(arguments.length==2&&typeof g!="string"){for(var d in g)a.set(m,d,g[d]);return m}d=g.toLowerCase();d=a.names[d]||g;if(d==
"style"&&typeof s!="string")return h.style(m,s),m;if(d=="innerHTML")return f("ie")&&m.tagName.toLowerCase()in p?(j.empty(m),m.appendChild(j.toDom(s,m.ownerDocument))):m[d]=s,m;if(o.isFunction(s)){var c=m[q];c||(c=b++,m[q]=c);k[c]||(k[c]={});var r=k[c][d];if(r)e.disconnect(r);else try{delete m[d]}catch(t){}s?k[c][d]=e.connect(m,d,s):m[d]=null;return m}m[d]=s;return m}})},"djeo-esri/Placemark":function(){define("djeo-esri/Placemark",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/Color",
"djeo/_base","djeo/util/_base","djeo/common/Placemark"],function(a,l,f,o,i,h,j){function e(b,d,c){b=new o(b);if(d!==void 0)b.a=d;return new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,b,c)}function k(b,d,c,g){if(d||c!==void 0){d=d?new o(d):outline.color;if(c!==void 0)d.a=c;b.setColor(d)}g!==void 0&&b.setWidth(g)}function b(b){return esri.geometry.geographicToWebMercator(new esri.geometry.Point(b[0],b[1],{wkid:4326}))}var q,p,m={family:1,size:1,weight:1,style:1,variant:1},
g={style:"setStyle",variant:"setVariant",weight:"setWeight"},a=a([j],{constructor:function(b){l.mixin(this,b)},init:function(){var b=esri.symbol,d=b.TextSymbol,b=b.Font,c=this.engine.esriMap;q={start:d.ALIGN_START,middle:d.ALIGN_MIDDLE,end:d.ALIGN_END};p={style:{normal:b.STYLE_NORMAL,italic:b.STYLE_ITALIC,oblique:b.STYLE_OBLIQUE},variant:{normal:b.VARIANT_NORMAL,"small-caps":b.VARIANT_SMALLCAPS},weight:{normal:b.WEIGHT_NORMAL,bold:b.WEIGHT_BOLD,bolder:b.WEIGHT_BOLDER,lighter:b.WEIGHT_LIGHTER}};this.text=
c.addLayer(new esri.layers.GraphicsLayer)},remove:function(b){var d=b.baseShapes[0];this.engine._getParentLayer(b).remove(d)},show:function(b,d){var c=b.baseShapes[0];d?c.show():c.hide()},makePoint:function(){return null},makeLineString:function(b,d){var c=new esri.geometry.Polyline({paths:[d],spatialReference:this.map.engine.spatialReference});return new esri.Graphic(esri.geometry.geographicToWebMercator(c))},makeMultiLineString:function(b,d){var c=new esri.geometry.Polyline({paths:d,spatialReference:this.map.engine.spatialReference});
return new esri.Graphic(esri.geometry.geographicToWebMercator(c))},makePolygon:function(b,d){var c=new esri.geometry.Polygon({rings:d,spatialReference:this.map.engine.spatialReference});return new esri.Graphic(esri.geometry.geographicToWebMercator(c))},makeMultiPolygon:function(b,d){var c=[];f.forEach(d,function(b){f.forEach(b,function(b){c.push(b)})});return this.makePolygon(b,c)},applyPointStyle:function(g,d,c){var e=d.point,a=j.getSpecificShapeStyle(d.points,this.specificStyleIndex),i=g.baseShapes[0],
f=j.get("shape",d,e,a),n=j.getImgSrc(d,e,a),u=!0,w=j.getScale(d,e,a),k=i?i.symbol:new esri.symbol.PictureMarkerSymbol;if(!f&&n)u=!1;else if(!j.shapes[f]&&!i)f=j.defaultShapeType;(f=this._getIconUrl(u,f,n))&&k.setUrl(f);(f=u?j.getSize(d,e,a):j.getImgSize(d,e,a))?(d=u?[f[0]/2,f[1]/2]:j.getAnchor(d,e,a,f),d=[-d[0]+f[0]/2,d[1]-f[1]/2],k.setWidth(w*f[0]),k.setHeight(w*f[1]),k.setOffset(w*d[0],w*d[1])):i&&(w=j.get("rScale",d,e,a),w!==void 0&&(k.setWidth(w*k.width),k.setHeight(w*k.height),k.setOffset(w*
k.xoffset,w*k.yoffset)));if(i)i.setSymbol(k);else{i=g.orientation;if(i!==void 0){if(l.isObject(i))i=i.heading;k.setAngle(h.radToDeg(i))}g.baseShapes[0]=new esri.Graphic(b(c),k)}},applyLineStyle:function(b,d){var c=d.line,g=j.getSpecificShapeStyle(d.lines,this.specificStyleIndex),a=b.baseShapes[0],h=j.get("stroke",d,c,g),i=j.get("strokeOpacity",d,c,g),c=j.get("strokeWidth",d,c,g);(g=a.symbol)?(h||c!==void 0||i!==void 0)&&k(g,h,i,c):g=e(h,i,c);a.setSymbol(g)},applyPolygonStyle:function(b,d){var c=d.polygon,
g=b.baseShapes[0],a=j.get("fill",d,c),h=j.get("fillOpacity",d,c),i=j.get("stroke",d,c),n=j.get("strokeOpacity",d,c),c=j.get("strokeWidth",d,c),u=g.symbol;if(u){if(a||h!==void 0){a=a?new o(a):u.color;if(h!==void 0)a.a=h;u.setColor(a)}if(c===0)u.setOutline(null);else if(i||c||n!==void 0)(h=u.outline)?k(h,i,n,c):c&&(h=e(i,n,c)),u.setOutline(h)}else{u=new o(a);if(h!==void 0)u.a=h;u=new esri.symbol.SimpleFillSymbol(esri.symbol.SimpleFillSymbol.STYLE_SOLID,c?e(i,n,c):null,u)}g.setSymbol(u)},makeText:function(b,
d){b.textShapes&&f.forEach(b.textShapes,function(c){this.text.remove(c)},this);var c;if(b.isPoint())c=d.point;else if(b.isArea())c=d.area;if(c=j.get("text",d,c)){var g=c.label||this._getLabel(b,c);if(g)b.textShapes=[],b.reg.ts=c,c=this._makeTextShape(b,g,c),this.text.add(c),b.textShapes.push(c)}},_makeTextShape:function(a,d,c){var e=!0,h;if(a.isPoint()){if(c.hAlign)h=c.hAlign}else a.isArea()?h="middle":e=!1;if(e){var d=new esri.symbol.TextSymbol(d),e=j.getScale(a.reg.cs),i="dx"in c?e*c.dx:0,f="dy"in
c?e*c.dy:0,n=c.fill;h&&q[h]&&d.setAlign(q[h]);n&&d.setColor(new o(n));(i||f)&&d.setOffset(i,f);var u,k;for(k in m)if(k in c)if(u||(u=new esri.symbol.Font),p[k]){if(p[k][c[k]])u[g[k]](p[k][c[k]])}else k=="size"?u.setSize(e*c[k]):k=="family"&&u.setFamily(c[k]);u&&d.setFont(u);a=a.getCoords();return new esri.Graphic(b(a),d)}},setCoords:function(g,d){var c=b(g);d.baseShapes[0].setGeometry(c);d.textShapes&&d.textShapes[0].setGeometry(c)},setOrientation:function(b,d){var c=d.baseShapes[0],g=c.symbol;g.setAngle(h.radToDeg(b));
c.setSymbol(g)}});a.makePoint=b;return a})},"dojo/dom-attr":function(){define("dojo/dom-attr",["exports","./_base/sniff","./_base/lang","./dom","./dom-style","./dom-prop"],function(a,l,f,o,i,h){function j(b,a){var e=b.getAttributeNode&&b.getAttributeNode(a);return e&&e.specified}var e={innerHTML:1,className:1,htmlFor:l("ie"),value:1},k={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};a.has=function(b,a){var i=a.toLowerCase();return e[h.names[i]||a]||j(o.byId(b),k[i]||a)};
a.get=function(b,a){var b=o.byId(b),i=a.toLowerCase(),m=h.names[i]||a,g=e[m];value=b[m];if(g&&typeof value!="undefined")return value;if(m!="href"&&(typeof value=="boolean"||f.isFunction(value)))return value;i=k[i]||a;return j(b,i)?b.getAttribute(i):null};a.set=function(b,j,p){b=o.byId(b);if(arguments.length==2){for(var m in j)a.set(b,m,j[m]);return b}m=j.toLowerCase();var g=h.names[m]||j,s=e[g];if(g=="style"&&typeof p!="string")return i.set(b,p),b;if(s||typeof p=="boolean"||f.isFunction(p))return h.set(b,
j,p);b.setAttribute(k[m]||j,p);return b};a.remove=function(b,a){o.byId(b).removeAttribute(k[a.toLowerCase()]||a)};a.getNodeProp=function(b,a){var b=o.byId(b),e=a.toLowerCase(),i=h.names[e]||a;if(i in b&&i!="href")return b[i];e=k[e]||a;return j(b,e)?b.getAttribute(e):null}})},"dojo/dom-construct":function(){define("dojo/dom-construct",["exports","./_base/kernel","./_base/sniff","./_base/window","./dom","./dom-attr","./on"],function(a,l,f,o,i,h,j){function e(c,b){var d=b.parentNode;d&&d.insertBefore(c,
b)}var k={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},b=/<\s*([\w\:]+)/,q={},p=0,m="__"+l._scopeName+"ToDomId",g;for(g in k)if(k.hasOwnProperty(g))l=k[g],l.pre=g=="option"?'<select multiple="multiple">':"<"+l.join("><")+">",l.post="</"+l.reverse().join("></")+">";var s=null,d;j(window,"unload",function(){s=null});
a.toDom=function(c,d){var d=d||o.doc,g=d[m];g||(d[m]=g=++p+"",q[g]=d.createElement("div"));c+="";var a=c.match(b),e=a?a[1].toLowerCase():"",g=q[g];if(a&&k[e]){a=k[e];g.innerHTML=a.pre+c+a.post;for(a=a.length;a;--a)g=g.firstChild}else g.innerHTML=c;if(g.childNodes.length==1)return g.removeChild(g.firstChild);for(e=d.createDocumentFragment();a=g.firstChild;)e.appendChild(a);return e};a.place=function(c,b,d){b=i.byId(b);typeof c=="string"&&(c=/^\s*</.test(c)?a.toDom(c,b.ownerDocument):i.byId(c));if(typeof d==
"number"){var g=b.childNodes;!g.length||g.length<=d?b.appendChild(c):e(c,g[d<0?0:d])}else switch(d){case "before":e(c,b);break;case "after":d=c;(g=b.parentNode)&&(g.lastChild==b?g.appendChild(d):g.insertBefore(d,b.nextSibling));break;case "replace":b.parentNode.replaceChild(c,b);break;case "only":a.empty(b);b.appendChild(c);break;case "first":if(b.firstChild){e(c,b.firstChild);break}default:b.appendChild(c)}return c};a.create=function(c,b,d,g){var e=o.doc;if(d)d=i.byId(d),e=d.ownerDocument;typeof c==
"string"&&(c=e.createElement(c));b&&h.set(c,b);d&&a.place(c,d,g);return c};a.empty=f("ie")?function(c){for(var c=i.byId(c),b;b=c.lastChild;)a.destroy(b)}:function(c){i.byId(c).innerHTML=""};a.destroy=function(c){c=i.byId(c);try{var b=c.ownerDocument;if(!s||d!=b)s=b.createElement("div"),d=b;s.appendChild(c.parentNode?c.parentNode.removeChild(c):c);s.innerHTML=""}catch(g){}}})},"djeo-esri/WebTiles":function(){define("djeo-esri/WebTiles",["dojo/_base/declare","./_TiledWebMap"],function(a,l){return a(null,
{init:function(){var a=new l({url:this.url,yFirst:this.yFirst});this._tileLayer=a;this.map.engine.esriMap.addLayer(a)}})})},"dojo/text":function(){define("dojo/text",["./_base/kernel","require","./has","./_base/xhr"],function(a,l,f,o){var i;i=function(b,a,e){o("GET",{url:b,sync:!!a,load:e})};var h={},j=function(b){if(b){var b=b.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,""),a=b.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);a&&(b=a[1])}else b="";return b},e={},k={};a.cache=
function(b,a,e){var k;typeof b=="string"?/\//.test(b)?(k=b,e=a):k=l.toUrl(b.replace(/\./g,"/")+(a?"/"+a:"")):(k=b+"",e=a);b=e!=void 0&&typeof e!="string"?e.value:e;e=e&&e.sanitize;return typeof b=="string"?(h[k]=b,e?j(b):b):b===null?(delete h[k],null):(k in h||i(k,!0,function(b){h[k]=b}),e?j(h[k]):h[k])};return{dynamic:!0,normalize:function(b,a){var e=b.split("!"),h=e[0];return(/^\./.test(h)?a(h):h)+(e[1]?"!"+e[1]:"")},load:function(b,a,f){var b=b.split("!"),m=b.length>1,g=b[0],s=a.toUrl(b[0]),b=
e,d=function(c){f(m?j(c):c)};g in h?b=h[g]:s in a.cache?b=a.cache[s]:s in h&&(b=h[s]);if(b===e)if(k[s])k[s].push(d);else{var c=k[s]=[d];i(s,!a.async,function(b){h[g]=h[s]=b;for(var d=0;d<c.length;)c[d++](b);delete k[s]})}else d(b)}}})},"dojo/keys":function(){define("dojo/keys",["./_base/kernel","./_base/sniff"],function(a,l){return a.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:l("safari")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,
LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,
DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:l("mac")&&!l("air")?l("safari")?91:224:17}})},"dojox/gfx/svg":function(){define("dojox/gfx/svg",["dojo/_base/lang","dojo/_base/window","dojo/dom","dojo/_base/declare","dojo/_base/array","dojo/dom-geometry","dojo/_base/Color","./_base","./shape","./path"],function(a,l,f,o,i,h,j,e,k,b){function q(c,b){return l.doc.createElementNS?l.doc.createElementNS(c,b):l.doc.createElement(b)}function p(c){return m.useSvgWeb?l.doc.createTextNode(c,!0):l.doc.createTextNode(c)}
var m=e.svg={};m.useSvgWeb=typeof window.svgweb!="undefined";var g=navigator.userAgent.toLowerCase(),s=g.search("iphone")>-1||g.search("ipad")>-1||g.search("ipod")>-1;m.xmlns={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};m.getRef=function(c){if(!c||c=="none")return null;if(c.match(/^url\(#.+\)$/))return f.byId(c.slice(5,-1));if(c.match(/^#dojoUnique\d+$/))return f.byId(c.slice(1));return null};m.dasharray={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],
shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};o("dojox.gfx.svg.Shape",k.Shape,{setFill:function(c){if(!c)return this.fillStyle=null,this.rawNode.setAttribute("fill","none"),this.rawNode.setAttribute("fill-opacity",0),this;var b,d=function(c){this.setAttribute(c,b[c].toFixed(8))};if(typeof c=="object"&&"type"in c){switch(c.type){case "linear":b=e.makeParameters(e.defaultLinearGradient,c);c=this._setFillObject(b,
"linearGradient");i.forEach(["x1","y1","x2","y2"],d,c);break;case "radial":b=e.makeParameters(e.defaultRadialGradient,c);c=this._setFillObject(b,"radialGradient");i.forEach(["cx","cy","r"],d,c);break;case "pattern":b=e.makeParameters(e.defaultPattern,c),c=this._setFillObject(b,"pattern"),i.forEach(["x","y","width","height"],d,c)}this.fillStyle=b;return this}this.fillStyle=b=e.normalizeColor(c);this.rawNode.setAttribute("fill",b.toCss());this.rawNode.setAttribute("fill-opacity",b.a);this.rawNode.setAttribute("fill-rule",
"evenodd");return this},setStroke:function(c){var b=this.rawNode;if(!c)return this.strokeStyle=null,b.setAttribute("stroke","none"),b.setAttribute("stroke-opacity",0),this;if(typeof c=="string"||a.isArray(c)||c instanceof j)c={color:c};c=this.strokeStyle=e.makeParameters(e.defaultStroke,c);c.color=e.normalizeColor(c.color);if(c){b.setAttribute("stroke",c.color.toCss());b.setAttribute("stroke-opacity",c.color.a);b.setAttribute("stroke-width",c.width);b.setAttribute("stroke-linecap",c.cap);typeof c.join==
"number"?(b.setAttribute("stroke-linejoin","miter"),b.setAttribute("stroke-miterlimit",c.join)):b.setAttribute("stroke-linejoin",c.join);var d=c.style.toLowerCase();d in m.dasharray&&(d=m.dasharray[d]);if(d instanceof Array){for(var d=a._toArray(d),g=0;g<d.length;++g)d[g]*=c.width;if(c.cap!="butt"){for(g=0;g<d.length;g+=2)d[g]-=c.width,d[g]<1&&(d[g]=1);for(g=1;g<d.length;g+=2)d[g]+=c.width}d=d.join(",")}b.setAttribute("stroke-dasharray",d);b.setAttribute("dojoGfxStrokeStyle",c.style)}return this},
_getParentSurface:function(){for(var c=this.parent;c&&!(c instanceof e.Surface);c=c.parent);return c},_setFillObject:function(c,b){var d=m.xmlns.svg;this.fillStyle=c;var g=this._getParentSurface().defNode,a=this.rawNode.getAttribute("fill");if(a=m.getRef(a))if(a.tagName.toLowerCase()!=b.toLowerCase()){var n=a.id;a.parentNode.removeChild(a);a=q(d,b);a.setAttribute("id",n);g.appendChild(a)}else for(;a.childNodes.length;)a.removeChild(a.lastChild);else a=q(d,b),a.setAttribute("id",e._base._getUniqueId()),
g.appendChild(a);if(b=="pattern")a.setAttribute("patternUnits","userSpaceOnUse"),d=q(d,"image"),d.setAttribute("x",0),d.setAttribute("y",0),d.setAttribute("width",c.width.toFixed(8)),d.setAttribute("height",c.height.toFixed(8)),d.setAttributeNS(m.xmlns.xlink,"xlink:href",c.src),a.appendChild(d);else{a.setAttribute("gradientUnits","userSpaceOnUse");for(g=0;g<c.colors.length;++g){var n=c.colors[g],h=q(d,"stop"),i=n.color=e.normalizeColor(n.color);h.setAttribute("offset",n.offset.toFixed(8));h.setAttribute("stop-color",
i.toCss());h.setAttribute("stop-opacity",i.a);a.appendChild(h)}}this.rawNode.setAttribute("fill","url(#"+a.getAttribute("id")+")");this.rawNode.removeAttribute("fill-opacity");this.rawNode.setAttribute("fill-rule","evenodd");return a},_applyTransform:function(){if(this.matrix){var c=this.matrix;this.rawNode.setAttribute("transform","matrix("+c.xx.toFixed(8)+","+c.yx.toFixed(8)+","+c.xy.toFixed(8)+","+c.yy.toFixed(8)+","+c.dx.toFixed(8)+","+c.dy.toFixed(8)+")")}else this.rawNode.removeAttribute("transform");
return this},setRawNode:function(c){c=this.rawNode=c;this.shape.type!="image"&&c.setAttribute("fill","none");c.setAttribute("fill-opacity",0);c.setAttribute("stroke","none");c.setAttribute("stroke-opacity",0);c.setAttribute("stroke-width",1);c.setAttribute("stroke-linecap","butt");c.setAttribute("stroke-linejoin","miter");c.setAttribute("stroke-miterlimit",4);c.__gfxObject__=this.getUID()},setShape:function(c){this.shape=e.makeParameters(this.shape,c);for(var b in this.shape)b!="type"&&this.rawNode.setAttribute(b,
this.shape[b]);this.bbox=null;return this},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this},_moveToBack:function(){this.rawNode.parentNode.insertBefore(this.rawNode,this.rawNode.parentNode.firstChild);return this}});o("dojox.gfx.svg.Group",m.Shape,{constructor:function(){k.Container._init.call(this)},setRawNode:function(c){this.rawNode=c;this.rawNode.__gfxObject__=this.getUID()}});m.Group.nodeType="g";o("dojox.gfx.svg.Rect",[m.Shape,k.Rect],{setShape:function(c){this.shape=
e.makeParameters(this.shape,c);this.bbox=null;for(var b in this.shape)b!="type"&&b!="r"&&this.rawNode.setAttribute(b,this.shape[b]);this.shape.r!=null&&(this.rawNode.setAttribute("ry",this.shape.r),this.rawNode.setAttribute("rx",this.shape.r));return this}});m.Rect.nodeType="rect";o("dojox.gfx.svg.Ellipse",[m.Shape,k.Ellipse],{});m.Ellipse.nodeType="ellipse";o("dojox.gfx.svg.Circle",[m.Shape,k.Circle],{});m.Circle.nodeType="circle";o("dojox.gfx.svg.Line",[m.Shape,k.Line],{});m.Line.nodeType="line";
o("dojox.gfx.svg.Polyline",[m.Shape,k.Polyline],{setShape:function(c,b){c&&c instanceof Array?(this.shape=e.makeParameters(this.shape,{points:c}),b&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.shape=e.makeParameters(this.shape,c);this.bbox=null;this._normalizePoints();for(var d=[],g=this.shape.points,a=0;a<g.length;++a)d.push(g[a].x.toFixed(8),g[a].y.toFixed(8));this.rawNode.setAttribute("points",d.join(" "));return this}});m.Polyline.nodeType="polyline";o("dojox.gfx.svg.Image",
[m.Shape,k.Image],{setShape:function(c){this.shape=e.makeParameters(this.shape,c);this.bbox=null;var c=this.rawNode,b;for(b in this.shape)b!="type"&&b!="src"&&c.setAttribute(b,this.shape[b]);c.setAttribute("preserveAspectRatio","none");c.setAttributeNS(m.xmlns.xlink,"xlink:href",this.shape.src);c.__gfxObject__=this.getUID();return this}});m.Image.nodeType="image";o("dojox.gfx.svg.Text",[m.Shape,k.Text],{setShape:function(c){this.shape=e.makeParameters(this.shape,c);this.bbox=null;var c=this.rawNode,
b=this.shape;c.setAttribute("x",b.x);c.setAttribute("y",b.y);c.setAttribute("text-anchor",b.align);c.setAttribute("text-decoration",b.decoration);c.setAttribute("rotate",b.rotated?90:0);c.setAttribute("kerning",b.kerning?"auto":0);c.setAttribute("text-rendering","optimizeLegibility");c.firstChild?c.firstChild.nodeValue=b.text:c.appendChild(p(b.text));return this},getTextWidth:function(){var c=this.rawNode,b=c.parentNode,c=c.cloneNode(!0);c.style.visibility="hidden";var d=0,g=c.firstChild.nodeValue;
b.appendChild(c);if(g!="")for(;!d;)d=c.getBBox?parseInt(c.getBBox().width):68;b.removeChild(c);return d}});m.Text.nodeType="text";o("dojox.gfx.svg.Path",[m.Shape,b.Path],{_updateWithSegment:function(){this.inherited(arguments);typeof this.shape.path=="string"&&this.rawNode.setAttribute("d",this.shape.path)},setShape:function(){this.inherited(arguments);this.shape.path?this.rawNode.setAttribute("d",this.shape.path):this.rawNode.removeAttribute("d");return this}});m.Path.nodeType="path";o("dojox.gfx.svg.TextPath",
[m.Shape,b.TextPath],{_updateWithSegment:function(){this.inherited(arguments);this._setTextPath()},setShape:function(){this.inherited(arguments);this._setTextPath();return this},_setTextPath:function(){if(typeof this.shape.path=="string"){var c=this.rawNode;if(!c.firstChild){var b=q(m.xmlns.svg,"textPath"),d=p("");b.appendChild(d);c.appendChild(b)}b=(b=c.firstChild.getAttributeNS(m.xmlns.xlink,"href"))&&m.getRef(b);if(!b&&(d=this._getParentSurface())){var d=d.defNode,b=q(m.xmlns.svg,"path"),g=e._base._getUniqueId();
b.setAttribute("id",g);d.appendChild(b);c.firstChild.setAttributeNS(m.xmlns.xlink,"xlink:href","#"+g)}b&&b.setAttribute("d",this.shape.path)}},_setText:function(){var c=this.rawNode;if(!c.firstChild){var b=q(m.xmlns.svg,"textPath"),d=p("");b.appendChild(d);c.appendChild(b)}c=c.firstChild;b=this.text;c.setAttribute("alignment-baseline","middle");switch(b.align){case "middle":c.setAttribute("text-anchor","middle");c.setAttribute("startOffset","50%");break;case "end":c.setAttribute("text-anchor","end");
c.setAttribute("startOffset","100%");break;default:c.setAttribute("text-anchor","start"),c.setAttribute("startOffset","0%")}c.setAttribute("baseline-shift","0.5ex");c.setAttribute("text-decoration",b.decoration);c.setAttribute("rotate",b.rotated?90:0);c.setAttribute("kerning",b.kerning?"auto":0);c.firstChild.data=b.text}});m.TextPath.nodeType="text";o("dojox.gfx.svg.Surface",k.Surface,{constructor:function(){k.Container._init.call(this)},destroy:function(){this.defNode=null;this.inherited(arguments)},
setDimensions:function(c,b){if(!this.rawNode)return this;this.rawNode.setAttribute("width",c);this.rawNode.setAttribute("height",b);return this},getDimensions:function(){return this.rawNode?{width:e.normalizedLength(this.rawNode.getAttribute("width")),height:e.normalizedLength(this.rawNode.getAttribute("height"))}:null}});m.createSurface=function(c,b,d){var g=new m.Surface;g.rawNode=q(m.xmlns.svg,"svg");g.rawNode.setAttribute("overflow","hidden");b&&g.rawNode.setAttribute("width",b);d&&g.rawNode.setAttribute("height",
d);b=q(m.xmlns.svg,"defs");g.rawNode.appendChild(b);g.defNode=b;g._parent=f.byId(c);g._parent.appendChild(g.rawNode);return g};var o={_setFont:function(){var c=this.fontStyle;this.rawNode.setAttribute("font-style",c.style);this.rawNode.setAttribute("font-variant",c.variant);this.rawNode.setAttribute("font-weight",c.weight);this.rawNode.setAttribute("font-size",c.size);this.rawNode.setAttribute("font-family",c.family)}},d=k.Container,b={openBatch:function(){this.fragment=m.useSvgWeb?l.doc.createDocumentFragment(!0):
l.doc.createDocumentFragment()},closeBatch:function(){this.fragment&&(this.rawNode.appendChild(this.fragment),delete this.fragment)},add:function(c){this!=c.getParent()&&(this.fragment?this.fragment.appendChild(c.rawNode):this.rawNode.appendChild(c.rawNode),d.add.apply(this,arguments));return this},remove:function(c){this==c.getParent()&&(this.rawNode==c.rawNode.parentNode&&this.rawNode.removeChild(c.rawNode),this.fragment&&this.fragment==c.rawNode.parentNode&&this.fragment.removeChild(c.rawNode),
d.remove.apply(this,arguments));return this},clear:function(){for(var c=this.rawNode;c.lastChild;)c.removeChild(c.lastChild);var b=this.defNode;if(b){for(;b.lastChild;)b.removeChild(b.lastChild);c.appendChild(b)}return d.clear.apply(this,arguments)},_moveChildToFront:d._moveChildToFront,_moveChildToBack:d._moveChildToBack},g={createObject:function(b,d){if(!this.rawNode)return null;var g=new b,a=q(m.xmlns.svg,b.nodeType);g.setRawNode(a);g.setShape(d);this.add(g);return g}};a.extend(m.Text,o);a.extend(m.TextPath,
o);a.extend(m.Group,b);a.extend(m.Group,k.Creator);a.extend(m.Group,g);a.extend(m.Surface,b);a.extend(m.Surface,k.Creator);a.extend(m.Surface,g);m.fixTarget=function(b){if(!b.gfxTarget)b.gfxTarget=s&&b.target.wholeText?k.byId(b.target.parentElement.__gfxObject__):k.byId(b.target.__gfxObject__);return!0};if(m.useSvgWeb)m.createSurface=function(b,d,g){var a=new m.Surface;if(!d||!g)var i=h.position(b),d=d||i.w,g=g||i.h;var b=f.byId(b),i=b.id?b.id+"_svgweb":e._base._getUniqueId(),n=q(m.xmlns.svg,"svg");
n.id=i;n.setAttribute("width",d);n.setAttribute("height",g);svgweb.appendChild(n,b);n.addEventListener("SVGLoad",function(){a.rawNode=this;a.isLoaded=!0;var b=q(m.xmlns.svg,"defs");a.rawNode.appendChild(b);a.defNode=b;if(a.onLoad)a.onLoad(a)},!1);a.isLoaded=!1;return a},m.Surface.extend({destroy:function(){var b=this.rawNode;svgweb.removeChild(b,b.parentNode)}}),o={connect:function(b,d,g){b.substring(0,2)==="on"&&(b=b.substring(2));g=arguments.length==2?d:a.hitch(d,g);this.getEventSource().addEventListener(b,
g,!1);return[this,b,g]},disconnect:function(b){this.getEventSource().removeEventListener(b[1],b[2],!1);delete b[0]}},a.extend(m.Shape,o),a.extend(m.Surface,o);return m})},"djeo/WebTiles":function(){define("djeo/WebTiles",["dojo/_base/declare","dojo/_base/lang","./_base"],function(a,l,f){f.registerDependency("WebTiles");return a(null,{yFirst:!1,dependency:"WebTiles",constructor:function(a){l.mixin(this,a);a=a.paramStr?a.paramStr:this.url;if(l.isString(a)){var i=a.indexOf("[");if(i>-1){var h=a.indexOf("]");
parts=a.substring(i+1,h).split(",");this.url=[];for(var f=0;f<parts.length;f++)this.url[f]=a.substring(0,i)+parts[f]+a.substring(h+1)}else this.url=[a]}this.numUrls=this.url.length},startup:function(a){this.map=a;if(a=this.map.engine.getFactory("WebTiles"))l.mixin(this,a),this.init()}})})},"dojo/mouse":function(){define("dojo/mouse",["./_base/kernel","./on","./has","./dom","./_base/window"],function(a,l,f,o,i){function h(a,e){var i=function(b,h){return l(b,a,function(a){if(!o.isDescendant(a.relatedTarget,
e?a.target:b))return h.call(this,a)})};if(!e)i.bubble=h(a,!0);return i}f.add("dom-quirks",i.doc&&i.doc.compatMode=="BackCompat");f.add("events-mouseenter",i.doc&&"onmouseenter"in i.doc.createElement("div"));f=f("dom-quirks")||!f("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(a,e){return a.button&e},isLeft:function(a){return a.button&1},isMiddle:function(a){return a.button&4},isRight:function(a){return a.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(a,e){return a.button==
e},isLeft:function(a){return a.button==0},isMiddle:function(a){return a.button==1},isRight:function(a){return a.button==2}};a.mouseButtons=f;return{enter:h("mouseover"),leave:h("mouseout"),isLeft:f.isLeft,isMiddle:f.isMiddle,isRight:f.isRight}})},"dojox/gfx/path":function(){define("dojox/gfx/path",["./_base","dojo/_base/lang","dojo/_base/declare","./matrix","./shape"],function(a,l,f,o,i){a.path={};i=f("dojox.gfx.path.Path",i.Shape,{constructor:function(h){this.shape=l.clone(a.defaultPath);this.segments=
[];this.tbbox=null;this.absolute=!0;this.last={};this.rawNode=h;this.segmented=!1},setAbsoluteMode:function(a){this._confirmSegmented();this.absolute=typeof a=="string"?a=="absolute":a;return this},getAbsoluteMode:function(){this._confirmSegmented();return this.absolute},getBoundingBox:function(){this._confirmSegmented();return this.bbox&&"l"in this.bbox?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-this.bbox.t}:null},_getRealBBox:function(){this._confirmSegmented();
if(this.tbbox)return this.tbbox;var a=this.bbox,i=this._getRealMatrix();this.bbox=null;for(var e=0,k=this.segments.length;e<k;++e)this._updateWithSegment(this.segments[e],i);i=this.bbox;this.bbox=a;return this.tbbox=i?[{x:i.l,y:i.t},{x:i.r,y:i.t},{x:i.r,y:i.b},{x:i.l,y:i.b}]:null},getLastPosition:function(){this._confirmSegmented();return"x"in this.last?this.last:null},_applyTransform:function(){this.tbbox=null;return this.inherited(arguments)},_updateBBox:function(a,i,e){if(e)i=o.multiplyPoint(e,
a,i),a=i.x,i=i.y;if(this.bbox&&"l"in this.bbox){if(this.bbox.l>a)this.bbox.l=a;if(this.bbox.r<a)this.bbox.r=a;if(this.bbox.t>i)this.bbox.t=i;if(this.bbox.b<i)this.bbox.b=i}else this.bbox={l:a,b:i,r:a,t:i}},_updateWithSegment:function(i,f){var e=i.args,k=e.length,b;switch(i.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(b=0;b<k;b+=2)this._updateBBox(e[b],e[b+1],f);this.last.x=e[k-2];this.last.y=e[k-1];this.absolute=!0;break;case "H":for(b=0;b<k;++b)this._updateBBox(e[b],this.last.y,
f);this.last.x=e[k-1];this.absolute=!0;break;case "V":for(b=0;b<k;++b)this._updateBBox(this.last.x,e[b],f);this.last.y=e[k-1];this.absolute=!0;break;case "m":b=0;if(!("x"in this.last))this._updateBBox(this.last.x=e[0],this.last.y=e[1],f),b=2;for(;b<k;b+=2)this._updateBBox(this.last.x+=e[b],this.last.y+=e[b+1],f);this.absolute=!1;break;case "l":case "t":for(b=0;b<k;b+=2)this._updateBBox(this.last.x+=e[b],this.last.y+=e[b+1],f);this.absolute=!1;break;case "h":for(b=0;b<k;++b)this._updateBBox(this.last.x+=
e[b],this.last.y,f);this.absolute=!1;break;case "v":for(b=0;b<k;++b)this._updateBBox(this.last.x,this.last.y+=e[b],f);this.absolute=!1;break;case "c":for(b=0;b<k;b+=6)this._updateBBox(this.last.x+e[b],this.last.y+e[b+1],f),this._updateBBox(this.last.x+e[b+2],this.last.y+e[b+3],f),this._updateBBox(this.last.x+=e[b+4],this.last.y+=e[b+5],f);this.absolute=!1;break;case "s":case "q":for(b=0;b<k;b+=4)this._updateBBox(this.last.x+e[b],this.last.y+e[b+1],f),this._updateBBox(this.last.x+=e[b+2],this.last.y+=
e[b+3],f);this.absolute=!1;break;case "A":for(b=0;b<k;b+=7)this._updateBBox(e[b+5],e[b+6],f);this.last.x=e[k-2];this.last.y=e[k-1];this.absolute=!0;break;case "a":for(b=0;b<k;b+=7)this._updateBBox(this.last.x+=e[b+5],this.last.y+=e[b+6],f);this.absolute=!1}var l=[i.action];for(b=0;b<k;++b)l.push(a.formatNumber(e[b],!0));typeof this.shape.path=="string"?this.shape.path+=l.join(""):Array.prototype.push.apply(this.shape.path,l)},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},_pushSegment:function(a,
i){this.tbbox=null;var e=this._validSegments[a.toLowerCase()];typeof e=="number"&&(e?i.length>=e&&(e={action:a,args:i.slice(0,i.length-i.length%e)},this.segments.push(e),this._updateWithSegment(e)):(e={action:a,args:[]},this.segments.push(e),this._updateWithSegment(e)))},_collectArgs:function(a,i){for(var e=0;e<i.length;++e){var f=i[e];typeof f=="boolean"?a.push(f?1:0):typeof f=="number"?a.push(f):f instanceof Array?this._collectArgs(a,f):"x"in f&&"y"in f&&a.push(f.x,f.y)}},moveTo:function(){this._confirmSegmented();
var a=[];this._collectArgs(a,arguments);this._pushSegment(this.absolute?"M":"m",a);return this},lineTo:function(){this._confirmSegmented();var a=[];this._collectArgs(a,arguments);this._pushSegment(this.absolute?"L":"l",a);return this},hLineTo:function(){this._confirmSegmented();var a=[];this._collectArgs(a,arguments);this._pushSegment(this.absolute?"H":"h",a);return this},vLineTo:function(){this._confirmSegmented();var a=[];this._collectArgs(a,arguments);this._pushSegment(this.absolute?"V":"v",a);
return this},curveTo:function(){this._confirmSegmented();var a=[];this._collectArgs(a,arguments);this._pushSegment(this.absolute?"C":"c",a);return this},smoothCurveTo:function(){this._confirmSegmented();var a=[];this._collectArgs(a,arguments);this._pushSegment(this.absolute?"S":"s",a);return this},qCurveTo:function(){this._confirmSegmented();var a=[];this._collectArgs(a,arguments);this._pushSegment(this.absolute?"Q":"q",a);return this},qSmoothCurveTo:function(){this._confirmSegmented();var a=[];this._collectArgs(a,
arguments);this._pushSegment(this.absolute?"T":"t",a);return this},arcTo:function(){this._confirmSegmented();var a=[];this._collectArgs(a,arguments);this._pushSegment(this.absolute?"A":"a",a);return this},closePath:function(){this._confirmSegmented();this._pushSegment("Z",[]);return this},_confirmSegmented:function(){if(!this.segmented){var a=this.shape.path;this.shape.path=[];this._setPath(a);this.shape.path=this.shape.path.join("");this.segmented=!0}},_setPath:function(i){i=l.isArray(i)?i:i.match(a.pathSvgRegExp);
this.segments=[];this.absolute=!0;this.bbox={};this.last={};if(i){for(var f="",e=[],k=i.length,b=0;b<k;++b){var q=i[b],p=parseFloat(q);isNaN(p)?(f&&this._pushSegment(f,e),e=[],f=q):e.push(p)}this._pushSegment(f,e)}},setShape:function(i){this.inherited(arguments,[typeof i=="string"?{path:i}:i]);this.segmented=!1;this.segments=[];a.lazyPathSegmentation||this._confirmSegmented();return this},_2PI:Math.PI*2});f=f("dojox.gfx.path.TextPath",i,{constructor:function(){if(!("text"in this))this.text=l.clone(a.defaultTextPath);
if(!("fontStyle"in this))this.fontStyle=l.clone(a.defaultFont)},getText:function(){return this.text},setText:function(i){this.text=a.makeParameters(this.text,typeof i=="string"?{text:i}:i);this._setText();return this},getFont:function(){return this.fontStyle},setFont:function(i){this.fontStyle=typeof i=="string"?a.splitFontString(i):a.makeParameters(a.defaultFont,i);this._setFont();return this}});return{Path:i,TextPath:f}})},"dojo/topic":function(){define("dojo/topic",["./Evented"],function(a){var l=
new a;return{publish:function(){return l.emit.apply(l,arguments)},subscribe:function(){return l.on.apply(l,arguments)}}})},"dojo/_base/unload":function(){define("dojo/_base/unload",["./kernel","./connect"],function(a,l){var f=window;a.addOnWindowUnload=function(o,i){if(!a.windowUnloaded)l.connect(f,"unload",a.windowUnloaded=function(){});l.connect(f,"unload",o,i)};a.addOnUnload=function(a,i){l.connect(f,"beforeunload",a,i)};return{addOnWindowUnload:a.addOnWindowUnload,addOnUnload:a.addOnUnload}})},
"dojo/require":function(){define("dojo/require",["./_base/loader"],function(a){return{dynamic:0,normalize:function(a){return a},load:a.require}})},"dojo/_base/NodeList":function(){define("dojo/_base/NodeList",["./kernel","../query","./array","./html","../NodeList-dom"],function(a,l,f){var l=l.NodeList,o=l.prototype;o.connect=l._adaptAsForEach(function(){return a.connect.apply(this,arguments)});o.coords=l._adaptAsMap(a.coords);l.events=["blur","focus","change","click","error","keydown","keypress",
"keyup","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","submit"];f.forEach(l.events,function(a){var f="on"+a;o[f]=function(a,e){return this.connect(f,a,e)}});a.NodeList=l;return a.NodeList})},"djeo-esri/Navigation":function(){define("djeo-esri/Navigation",["dojo/_base/declare","dojo/_base/lang","dojo/aspect"],function(a,l,f){return a(null,{enable:function(a){a===void 0&&(a=!0);var i=this.map.engine.esriMap;a&&f.after(i,"onZoomEnd",l.hitch(this,this._onZoom),
!0)}})})},"dojo/selector/_loader":function(){define("dojo/selector/_loader",["../has","require"],function(a,l){var f=document.createElement("div");a.add("dom-qsa2.1",!!f.querySelectorAll);a.add("dom-qsa3",function(){try{return f.innerHTML="<p class='TEST'></p>",f.querySelectorAll(".TEST:empty").length==1}catch(a){}});var o;return{load:function(i,f,j){var e=l,i=i=="default"?a("config-selectorEngine")||"css3":i,i=i=="css2"||i=="lite"?"./lite":i=="css2.1"?a("dom-qsa2.1")?"./lite":"./acme":i=="css3"?
a("dom-qsa3")?"./lite":"./acme":i=="acme"?"./acme":(e=f)&&i;if(i.charAt(i.length-1)=="?")var i=i.substring(0,i.length-1),k=!0;if(k&&(a("dom-compliant-qsa")||o))return j(o);e([i],function(b){i!="./lite"&&(o=b);j(b)})}}})},"djeo-esri/_TiledWebMap":function(){define("djeo-esri/_TiledWebMap",["dojo/_base/declare","esri/jsapi"],function(a){return a([esri.layers.TiledMapServiceLayer],{constructor:function(a){this.spatialReference=new esri.SpatialReference({wkid:102100});this.initialExtent=this.fullExtent=
new esri.geometry.Extent({xmin:-2.003750834E7,ymin:-2.003750834E7,xmax:2.003750834E7,ymax:2.003750834E7,spatialReference:{wkid:102100}});this.tileInfo=new esri.layers.TileInfo({rows:256,cols:256,dpi:96,format:"PNG8",compressionQuality:0,origin:{x:-2.0037508342787E7,y:2.0037508342787E7},spatialReference:{wkid:102100},lods:[{level:0,scale:5.91657527591555E8,resolution:156543.033928},{level:1,scale:2.95828763795777E8,resolution:78271.5169639999},{level:2,scale:1.47914381897889E8,resolution:39135.7584820001},
{level:3,scale:7.3957190948944E7,resolution:19567.8792409999},{level:4,scale:3.6978595474472E7,resolution:9783.93962049996},{level:5,scale:1.8489297737236E7,resolution:4891.96981024998},{level:6,scale:9244648.868618,resolution:2445.98490512499},{level:7,scale:4622324.434309,resolution:1222.99245256249},{level:8,scale:2311162.217155,resolution:611.49622628138},{level:9,scale:1155581.108577,resolution:305.748113140558},{level:10,scale:577790.554289,resolution:152.874056570411},{level:11,scale:288895.277144,
resolution:76.4370282850732},{level:12,scale:144447.638572,resolution:38.2185141425366},{level:13,scale:72223.819286,resolution:19.1092570712683},{level:14,scale:36111.909643,resolution:9.55462853563415},{level:15,scale:18055.954822,resolution:4.77731426794937},{level:16,scale:9027.977411,resolution:2.38865713397468},{level:17,scale:4513.988705,resolution:1.19432856685505},{level:18,scale:2256.994353,resolution:0.597164283559817}]});this.url=a.url;this.yFirst=a.yFirst;if(this.url)this.numUrls=this.url.length;
this.loaded=!0;this.onLoad(this)},getTileUrl:function(a,f,o){var i=this.yFirst?o:f;return this.url[i%this.numUrls]+"/"+a+"/"+(this.yFirst?f:o)+"/"+i+".png"}})})},"dojo/selector/lite":function(){define("dojo/selector/lite",["../has","../_base/kernel"],function(a,l){var f=document.createElement("div"),o=f.matchesSelector||f.webkitMatchesSelector||f.mozMatchesSelector||f.msMatchesSelector||f.oMatchesSelector,i=f.querySelectorAll;a.add("dom-matches-selector",!!o);a.add("dom-qsa",!!i);var h=function(b,
a){if(k&&b.indexOf(",")>-1)return k(b,a);var f=(i?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(b),a=a||document;if(f){if(f[2]){var m=l.byId?l.byId(f[2]):document.getElementById(f[2]);if(!m||f[1]&&f[1]!=m.tagName.toLowerCase())return[];if(a!=document)for(var g=m;g!=a;)if(g=g.parentNode,!g)return[];return f[3]?h(f[3],m):[m]}if(f[3]&&a.getElementsByClassName)return a.getElementsByClassName(f[4]);if(f[5])if(m=a.getElementsByTagName(f[5]),
f[4]||f[6])b=(f[4]||"")+f[6];else return m}if(i)return a.nodeType===1&&a.nodeName.toLowerCase()!=="object"?j(a,b,a.querySelectorAll):a.querySelectorAll(b);else m||(m=a.getElementsByTagName("*"));for(var f=[],g=0,s=m.length;g<s;g++){var d=m[g];d.nodeType==1&&e(d,b,a)&&f.push(d)}return f},j=function(b,a,e){var i=b,g=b.getAttribute("id"),f=g||"__dojo__",d=b.parentNode,c=/^\s*[+~]/.test(a);if(c&&!d)return[];g?f=f.replace(/'/g,"\\$&"):b.setAttribute("id",f);if(c&&d)b=b.parentNode;try{return e.call(b,"[id='"+
f+"'] "+a)}finally{g||i.removeAttribute("id")}};if(!a("dom-matches-selector"))var e=function(){function b(b){b=b[d]();return function(c){return c.tagName==b}}function a(b){var c=" "+b+" ";return function(a){return a.className.indexOf(b)>-1&&(" "+a.className+" ").indexOf(c)>-1}}function e(b,a,d){a.match(/['"]/)&&(a=eval(a));var g=c[d||""];return function(c){return(c=c.getAttribute(b))&&g(c,a)}}function i(b){return function(c,a){for(;(c=c.parentNode)!=a;)if(b(c,a))return!0}}function g(b){return function(c,
a){c=c.parentNode;return b?c!=a&&b(c,a):c==a}}function k(b,c){return b?function(a,d){return c(a)&&b(a,d)}:c}var d=f.tagName=="div"?"toLowerCase":"toUpperCase",c={"^=":function(b,c){return b.indexOf(c)==0},"*=":function(b,c){return b.indexOf(c)>-1},"$=":function(b,c){return b.substring(b.length-c.length,b.length)==c},"~=":function(b,c){return(" "+b+" ").indexOf(" "+c+" ")>-1},"|=":function(b,c){return(b+"-").indexOf(c+"-")==0},"=":function(b,c){return b==c},"":function(){return!0}},h={};return function(c,
d,f){var n=h[d];if(!n){if(d.replace(/(?:\s*([> ])\s*)|(\.)?([\w-]+)|\[([\w-]+)\s*(.?=)?\s*([^\]]*)\]/g,function(c,d,f,h,r,j,l){h?n=f=="."?k(n,a(h)):k(n,b(h)):d?n=(d==" "?i:g)(n):r&&(n=k(n,e(r,l,j)));return""}))throw Error("Syntax error in query");if(!n)return!0;h[d]=n}return n(c,f)}}();if(!a("dom-qsa"))var k=function(b,a){for(var b=b.split(/\s*,\s*/),e=[],i=0;i<b.length;i++)for(var g=h(b[i],a),f=0,d=g.length;f<d;f++){var c=g[f];e[c.sourceIndex]=c}g=[];for(i in e)g.push(e[i]);return g};h.match=o?function(b,
a,e){if(e)return j(e,a,function(a){return o.call(b,a)});return o.call(b,a)}:e;return h})},"djeo/_tiles":function(){define("djeo/_tiles",[],function(){var a=["WebTiles",{url:"http://[a,b,c].tile.openstreetmap.org"}];return{webtiles:["WebTiles",{}],roadmap:a,osm:a,openstreetmap:a,"osm.org":a,"openstreetmap.org":a,"mapquest-osm":["WebTiles",{url:"http://otile[1,2,3,4].mqcdn.com/tiles/1.0.0/osm"}],"mapquest-oa":["WebTiles",{url:"http://oatile[1,2,3,4].mqcdn.com/tiles/1.0.0/sat"}],arcgis_webtiles:["WebTiles",
{}]}})},"djeo-esri/Engine":function(){define("djeo-esri/Engine",["require","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/aspect","djeo/Engine","./Placemark","djeo/_tiles"],function(a,l,f,o,i,h,j,e){function k(){p=l([m],{getTileUrl:function(){}})}e=f.mixin({},e);e.arcgis_webtiles=["ArcgisWebTiles",{}];var b={click:"onClick",mouseover:"onMouseOver",mouseout:"onMouseOut",mousedown:"onMouseDown",mouseup:"onMouseUp"},q={zoom_changed:"onZoomEnd",click:"onClick",mousemove:"onMouseMove"},
p,m;return l([h],{esriMap:null,_eventRegistry:null,constructor:function(){this._require=a;f.mixin(this.ignoredDependencies,{Highlight:1,Tooltip:1});this._eventRegistry={};this._supportedLayers=e;this._initBasicFactories(j({map:this.map,engine:this}))},initialize:function(b){var e=this.map,d=e.layers,c=["./_TiledWebMap"];if(d){f.isString(d)&&(d=[d]);var h=[];o.forEach(d,function(b){if(f.isString(b)){if(this.isValidLayerId(b)){var a=this.getLayerModuleId(b);a&&c.push("djeo/"+a,"./"+a);h.push(b)}}else c.push("./"+
b.dependency),h.push(b)},this);d=h;e._layerLoaded=!0}c.push("esri/jsapi");a({packages:[{location:"../djeo-esri/library/3.1/jsapi/js/esri",name:"esri"}]},c,f.hitch(this,function(c){p||(m=c,k());e.projection="EPSG:4326";this.spatialReference={wkid:4326};var a=new esri.Map(e.container,{extent:esri.geometry.geographicToWebMercator(new esri.geometry.Extent({xmin:-180,ymin:-75,xmax:75,ymax:71.91,spatialReference:this.spatialReference})),wrapAround180:!0,logo:!1});this.esriMap=a;i.after(a,"onLoad",function(){a.hideZoomSlider();
b()});if(d&&d.length)for(var h=0;h<d.length;h++){var n=d[h];f.isString(n)&&this.getLayerModuleId(n)&&this.setLayerConstructor(n,arguments[1+h]);this.enableLayer(n,!0)}else a.addLayer(new p(a))}))},prepare:function(){var b=this.esriMap;this.areas=b.addLayer(new esri.layers.GraphicsLayer);this.lines=b.addLayer(new esri.layers.GraphicsLayer);this.points=b.addLayer(new esri.layers.GraphicsLayer);this.factories.Placemark.init()},createContainer:function(){},appendChild:function(b,a){b._djeo=a;this._getParentLayer(a).add(b)},
_getParentLayer:function(b){return b.isPoint()?this.points:b.isArea()?this.areas:this.lines},onForFeature:function(a,e,d,c){this._eventRegistry[e]||(this._eventRegistry[e]={listener:{},features:{}});var h=this._eventRegistry[e].listener,k=a.isPoint()?"points":a.isArea()?"areas":"lines";h[k]||(h[k]=i.after(this[k],b[e],f.hitch(this,f.partial(this._onEvent,e)),!0));h=this._eventRegistry[e].features;h[a.id]||(h[a.id]=[]);d=[d,c];h[a.id].push(d);return[a.id,e,d]},_onEvent:function(b,a){var d=a.graphic;
if(d){var c=d._djeo;(d=this._eventRegistry[b].features[c.id])&&o.forEach(d,function(d){d[0].call(d[1],{type:b,nativeEvent:a,feature:c})})}},disconnect:function(b){for(var a=b[0],d=b[2],b=this._eventRegistry[b[1]].features,c=b[a],e=0;e<c.length;e++)if(d===c[e])break;c.splice(e,1);c.length==0&&delete b[a]},onForMap:function(b,a,d){return i.after(this.esriMap,q[b],function(b){var g=esri.geometry.webMercatorToGeographic(b.mapPoint);a.call(d,{mapCoords:[g.x,g.y],nativeEvent:b})},!0)},_on_zoom_changed:function(b,
a,d){return i.after(this.esriMap,"onZoomEnd",function(){a.call(d)})},_on_extent_changed:function(b,a,d){return i.after(this.esriMap,"onExtentChange",function(){a.call(d)})},zoomTo:function(b){b[0]==b[2]&&b[1]==b[3]&&(b=[0.99999*b[0],0.99999*b[1],1.00001*b[2],1.00001*b[3]]);this.esriMap.setExtent(esri.geometry.geographicToWebMercator(new esri.geometry.Extent({xmin:b[0],ymin:b[1],xmax:b[2],ymax:b[3],spatialReference:this.spatialReference})),!0)},destroy:function(){this.esriMap.destroy();delete this.esriMap},
_setCamera:function(b){this.esriMap.centerAndZoom(j.makePoint(b.center),b.zoom)},_set_center:function(b){this.esriMap.centerAt(j.makePoint(b))},_get_center:function(){var b=esri.geometry.webMercatorToGeographic(this.esriMap.extent.getCenter());return[b.x,b.y]},_set_zoom:function(b){var a=this.map;b<a.minZoom||b>a.maxZoom||this.esriMap.setLevel(b)},_get_zoom:function(){return this.esriMap.getLevel()},_get_extent:function(){var b=esri.geometry.webMercatorToGeographic(this.esriMap.extent);return[b.xmin,
b.ymin,b.xmax,b.ymax]},_appendDiv:function(b){this.map.container.children[0].appendChild(b)}})})},"dojox/gfx/matrix":function(){define("dojox/gfx/matrix",["./_base","dojo/_base/lang"],function(a,l){var f=a.matrix={},o={};f._degToRad=function(a){return o[a]||(o[a]=Math.PI*a/180)};f._radToDeg=function(a){return a/Math.PI*180};f.Matrix2D=function(a){if(a)if(typeof a=="number")this.xx=this.yy=a;else if(a instanceof Array){if(a.length>0){for(var h=f.normalize(a[0]),j=1;j<a.length;++j){var e=h,k=f.normalize(a[j]),
h=new f.Matrix2D;h.xx=e.xx*k.xx+e.xy*k.yx;h.xy=e.xx*k.xy+e.xy*k.yy;h.yx=e.yx*k.xx+e.yy*k.yx;h.yy=e.yx*k.xy+e.yy*k.yy;h.dx=e.xx*k.dx+e.xy*k.dy+e.dx;h.dy=e.yx*k.dx+e.yy*k.dy+e.dy}l.mixin(this,h)}}else l.mixin(this,a)};l.extend(f.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});l.mixin(f,{identity:new f.Matrix2D,flipX:new f.Matrix2D({xx:-1}),flipY:new f.Matrix2D({yy:-1}),flipXY:new f.Matrix2D({xx:-1,yy:-1}),translate:function(a,h){if(arguments.length>1)return new f.Matrix2D({dx:a,dy:h});return new f.Matrix2D({dx:a.x,
dy:a.y})},scale:function(a,h){if(arguments.length>1)return new f.Matrix2D({xx:a,yy:h});if(typeof a=="number")return new f.Matrix2D({xx:a,yy:a});return new f.Matrix2D({xx:a.x,yy:a.y})},rotate:function(a){var h=Math.cos(a),a=Math.sin(a);return new f.Matrix2D({xx:h,xy:-a,yx:a,yy:h})},rotateg:function(a){return f.rotate(f._degToRad(a))},skewX:function(a){return new f.Matrix2D({xy:Math.tan(a)})},skewXg:function(a){return f.skewX(f._degToRad(a))},skewY:function(a){return new f.Matrix2D({yx:Math.tan(a)})},
skewYg:function(a){return f.skewY(f._degToRad(a))},reflect:function(a,h){if(arguments.length==1)h=a.y,a=a.x;var j=a*a,e=h*h,k=j+e,b=2*a*h/k;return new f.Matrix2D({xx:2*j/k-1,xy:b,yx:b,yy:2*e/k-1})},project:function(a,h){if(arguments.length==1)h=a.y,a=a.x;var j=a*a,e=h*h,k=j+e,b=a*h/k;return new f.Matrix2D({xx:j/k,xy:b,yx:b,yy:e/k})},normalize:function(a){return a instanceof f.Matrix2D?a:new f.Matrix2D(a)},clone:function(a){var h=new f.Matrix2D,j;for(j in a)typeof a[j]=="number"&&typeof h[j]=="number"&&
h[j]!=a[j]&&(h[j]=a[j]);return h},invert:function(a){var a=f.normalize(a),h=a.xx*a.yy-a.xy*a.yx;return a=new f.Matrix2D({xx:a.yy/h,xy:-a.xy/h,yx:-a.yx/h,yy:a.xx/h,dx:(a.xy*a.dy-a.yy*a.dx)/h,dy:(a.yx*a.dx-a.xx*a.dy)/h})},_multiplyPoint:function(a,f,j){return{x:a.xx*f+a.xy*j+a.dx,y:a.yx*f+a.yy*j+a.dy}},multiplyPoint:function(a,h,j){a=f.normalize(a);if(typeof h=="number"&&typeof j=="number")return f._multiplyPoint(a,h,j);return f._multiplyPoint(a,h.x,h.y)},multiply:function(a){for(var h=f.normalize(a),
j=1;j<arguments.length;++j){var e=h,k=f.normalize(arguments[j]),h=new f.Matrix2D;h.xx=e.xx*k.xx+e.xy*k.yx;h.xy=e.xx*k.xy+e.xy*k.yy;h.yx=e.yx*k.xx+e.yy*k.yx;h.yy=e.yx*k.xy+e.yy*k.yy;h.dx=e.xx*k.dx+e.xy*k.dy+e.dx;h.dy=e.yx*k.dx+e.yy*k.dy+e.dy}return h},_sandwich:function(a,h,j){return f.multiply(f.translate(h,j),a,f.translate(-h,-j))},scaleAt:function(a,h,j,e){switch(arguments.length){case 4:return f._sandwich(f.scale(a,h),j,e);case 3:if(typeof j=="number")return f._sandwich(f.scale(a),h,j);return f._sandwich(f.scale(a,
h),j.x,j.y)}return f._sandwich(f.scale(a),h.x,h.y)},rotateAt:function(a,h,j){if(arguments.length>2)return f._sandwich(f.rotate(a),h,j);return f._sandwich(f.rotate(a),h.x,h.y)},rotategAt:function(a,h,j){if(arguments.length>2)return f._sandwich(f.rotateg(a),h,j);return f._sandwich(f.rotateg(a),h.x,h.y)},skewXAt:function(a,h,j){if(arguments.length>2)return f._sandwich(f.skewX(a),h,j);return f._sandwich(f.skewX(a),h.x,h.y)},skewXgAt:function(a,h,j){if(arguments.length>2)return f._sandwich(f.skewXg(a),
h,j);return f._sandwich(f.skewXg(a),h.x,h.y)},skewYAt:function(a,h,j){if(arguments.length>2)return f._sandwich(f.skewY(a),h,j);return f._sandwich(f.skewY(a),h.x,h.y)},skewYgAt:function(a,h,j){if(arguments.length>2)return f._sandwich(f.skewYg(a),h,j);return f._sandwich(f.skewYg(a),h.x,h.y)}});a.Matrix2D=f.Matrix2D;return f})},"dojox/gfx/_base":function(){define("dojox/gfx/_base",["dojo/_base/lang","dojo/_base/html","dojo/_base/Color","dojo/_base/sniff","dojo/_base/window","dojo/_base/array","dojo/dom",
"dojo/dom-construct","dojo/dom-geometry"],function(a,l,f,o,i,h,j,e,k){var b=a.getObject("dojox.gfx",!0),q=b._base={};b._hasClass=function(b,c){var a=b.getAttribute("className");return a&&(" "+a+" ").indexOf(" "+c+" ")>=0};b._addClass=function(b,c){var a=b.getAttribute("className")||"";if(!a||(" "+a+" ").indexOf(" "+c+" ")<0)b.setAttribute("className",a+(a?" ":"")+c)};b._removeClass=function(b,c){var a=b.getAttribute("className");a&&b.setAttribute("className",a.replace(RegExp("(^|\\s+)"+c+"(\\s+|$)"),
"$1$2"))};q._getFontMeasurements=function(){var b={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},c;if(o("ie"))i.doc.documentElement.style.fontSize="100%";var a=e.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},i.body());for(c in b)a.style.fontSize=c,b[c]=Math.round(a.offsetHeight*12/16)*16/12/1E3;
i.body().removeChild(a);return b};var p=null;q._getCachedFontMeasurements=function(b){if(b||!p)p=q._getFontMeasurements();return p};var m=null,g={};q._getTextBox=function(b,c,a){var f,h,j=arguments.length,n;m||(m=e.create("div",{style:{position:"absolute",top:"-10000px",left:"0"}},i.body()));f=m;f.className="";h=f.style;h.borderWidth="0";h.margin="0";h.padding="0";h.outline="0";if(j>1&&c)for(n in c)n in g||(h[n]=c[n]);if(j>2&&a)f.className=a;f.innerHTML=b;return f.getBoundingClientRect?(f=f.getBoundingClientRect(),
{l:f.left,t:f.top,w:f.width||f.right-f.left,h:f.height||f.bottom-f.top}):k.getMarginBox(f)};var s=0;q._getUniqueId=function(){var b;do b=dojo._scopeName+"xUnique"+ ++s;while(j.byId(b));return b};a.mixin(b,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",
x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,
color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:function(){var a={};return function(c){var g=a[c];if(g)return new g;g=a[c]=new Function;g.prototype=b["default"+c];return new g}}(),normalizeColor:function(b){return b instanceof f?b:new f(b)},normalizeParameters:function(b,c){var a;if(c){var g={};for(a in b)a in c&&!(a in g)&&(b[a]=
c[a])}return b},makeParameters:function(b,c){var g=null;if(!c)return a.delegate(b);var e={};for(g in b)g in e||(e[g]=a.clone(g in c?c[g]:b[g]));return e},formatNumber:function(b,c){var a=b.toString();if(a.indexOf("e")>=0)a=b.toFixed(4);else{var g=a.indexOf(".");g>=0&&a.length-g>5&&(a=b.toFixed(4))}if(b<0)return a;return c?" "+a:a},makeFontString:function(b){return b.style+" "+b.variant+" "+b.weight+" "+b.size+" "+b.family},splitFontString:function(a){var c=b.getDefault("Font"),a=a.split(/\s+/);if(!(a.length<
5)){c.style=a[0];c.variant=a[1];c.weight=a[2];var g=a[3].indexOf("/");c.size=g<0?a[3]:a[3].substring(0,g);var e=4;g<0&&(a[4]=="/"?e=6:a[4].charAt(0)=="/"&&(e=5));if(e<a.length)c.family=a.slice(e).join(" ")}return c},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return b._base._getCachedFontMeasurements()["12pt"]/12},pt2px:function(a){return a*b.px_in_pt()},px2pt:function(a){return a/b.px_in_pt()},normalizedLength:function(a){if(a.length===0)return 0;if(a.length>2){var c=b.px_in_pt(),g=parseFloat(a);
switch(a.slice(-2)){case "px":return g;case "pt":return g*c;case "in":return g*72*c;case "pc":return g*12*c;case "mm":return g*b.mm_in_pt*c;case "cm":return g*b.cm_in_pt*c}}return parseFloat(a)},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-Za-z])|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,equalSources:function(b,a){return b&&a&&b===a},switchTo:function(a){var c=typeof a=="string"?b[a]:a;c&&h.forEach(["Group","Rect","Ellipse","Circle","Line","Polyline",
"Image","Text","Path","TextPath","Surface","createSurface","fixTarget"],function(a){b[a]=c[a]})}});return b})},"dojox/gfx/shape":function(){define("dojox/gfx/shape",["./_base","dojo/_base/lang","dojo/_base/declare","dojo/_base/window","dojo/_base/sniff","dojo/_base/connect","dojo/_base/array","dojo/dom-construct","dojo/_base/Color","./matrix"],function(a,l,f,o,i,h,j,e,k,b){var q=a.shape={},p={},m={};q.register=function(b){var a=b.declaredClass.split(".").pop(),d=a in p?++p[a]:p[a]=0;a+=d;m[a]=b;return a};
q.byId=function(b){return m[b]};q.dispose=function(b){delete m[b.getUID()]};f("dojox.gfx.shape.Shape",null,{constructor:function(){this.parentMatrix=this.parent=this.bbox=this.strokeStyle=this.fillStyle=this.matrix=this.shape=this.rawNode=null;var b=q.register(this);this.getUID=function(){return b}},getNode:function(){return this.rawNode},getShape:function(){return this.shape},getTransform:function(){return this.matrix},getFill:function(){return this.fillStyle},getStroke:function(){return this.strokeStyle},
getParent:function(){return this.parent},getBoundingBox:function(){return this.bbox},getTransformedBoundingBox:function(){var a=this.getBoundingBox();if(!a)return null;var e=this._getRealMatrix();return[b.multiplyPoint(e,a.x,a.y),b.multiplyPoint(e,a.x+a.width,a.y),b.multiplyPoint(e,a.x+a.width,a.y+a.height),b.multiplyPoint(e,a.x,a.y+a.height)]},getEventSource:function(){return this.rawNode},setShape:function(b){this.shape=a.makeParameters(this.shape,b);this.bbox=null;return this},setFill:function(b){if(!b)return this.fillStyle=
null,this;var e=null;if(typeof b=="object"&&"type"in b)switch(b.type){case "linear":e=a.makeParameters(a.defaultLinearGradient,b);break;case "radial":e=a.makeParameters(a.defaultRadialGradient,b);break;case "pattern":e=a.makeParameters(a.defaultPattern,b)}else e=a.normalizeColor(b);this.fillStyle=e;return this},setStroke:function(b){if(!b)return this.strokeStyle=null,this;if(typeof b=="string"||l.isArray(b)||b instanceof k)b={color:b};b=this.strokeStyle=a.makeParameters(a.defaultStroke,b);b.color=
a.normalizeColor(b.color);return this},setTransform:function(a){this.matrix=b.clone(a?b.normalize(a):b.identity);return this._applyTransform()},_applyTransform:function(){return this},moveToFront:function(){var b=this.getParent();b&&(b._moveChildToFront(this),this._moveToFront());return this},moveToBack:function(){var b=this.getParent();b&&(b._moveChildToBack(this),this._moveToBack());return this},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(b){return b?this.setTransform([this.matrix,
b]):this},applyLeftTransform:function(b){return b?this.setTransform([b,this.matrix]):this},applyTransform:function(b){return b?this.setTransform([this.matrix,b]):this},removeShape:function(b){this.parent&&this.parent.remove(this,b);return this},_setParent:function(b,a){this.parent=b;return this._updateParentMatrix(a)},_updateParentMatrix:function(a){this.parentMatrix=a?b.clone(a):null;return this._applyTransform()},_getRealMatrix:function(){for(var a=this.matrix,e=this.parent;e;)e.matrix&&(a=b.multiply(e.matrix,
a)),e=e.parent;return a}});q._eventsProcessing={connect:function(b,e,d){return h.connect(this.getEventSource(),b,q.fixCallback(this,a.fixTarget,e,d))},disconnect:function(b){h.disconnect(b)}};q.fixCallback=function(b,a,d,c){c||(c=d,d=null);if(l.isString(c)){d=d||o.global;if(!d[c])throw['dojox.gfx.shape.fixCallback: scope["',c,'"] is null (scope="',d,'")'].join("");return function(e){return a(e,b)?d[c].apply(d,arguments||[]):void 0}}return!d?function(e){return a(e,b)?c.apply(d,arguments):void 0}:function(e){return a(e,
b)?c.apply(d,arguments||[]):void 0}};l.extend(q.Shape,q._eventsProcessing);q.Container={_init:function(){this.children=[]},openBatch:function(){},closeBatch:function(){},add:function(b){var a=b.getParent();a&&a.remove(b,!0);this.children.push(b);return b._setParent(this,this._getRealMatrix())},remove:function(b,a){for(var d=0;d<this.children.length;++d)if(this.children[d]==b){if(!a)b.parent=null,b.parentMatrix=null;this.children.splice(d,1);break}return this},clear:function(){for(var b,a=0;a<this.children.length;++a)b=
this.children[a],b.parent=null,b.parentMatrix=null;this.children=[];return this},_moveChildToFront:function(b){for(var a=0;a<this.children.length;++a)if(this.children[a]==b){this.children.splice(a,1);this.children.push(b);break}return this},_moveChildToBack:function(b){for(var a=0;a<this.children.length;++a)if(this.children[a]==b){this.children.splice(a,1);this.children.unshift(b);break}return this}};f("dojox.gfx.shape.Surface",null,{constructor:function(){this._parent=this.rawNode=null;this._nodes=
[];this._events=[]},destroy:function(){j.forEach(this._nodes,e.destroy);this._nodes=[];j.forEach(this._events,h.disconnect);this._events=[];this.rawNode=null;if(i("ie"))for(;this._parent.lastChild;)e.destroy(this._parent.lastChild);else this._parent.innerHTML="";this._parent=null},getEventSource:function(){return this.rawNode},_getRealMatrix:function(){return null},isLoaded:!0,onLoad:function(){},whenLoaded:function(b,a){var d=l.hitch(b,a);if(this.isLoaded)d(this);else var c=h.connect(this,"onLoad",
function(b){h.disconnect(c);d(b)})}});l.extend(q.Surface,q._eventsProcessing);f("dojox.gfx.Point",null,{});f("dojox.gfx.Rectangle",null,{});f("dojox.gfx.shape.Rect",q.Shape,{constructor:function(b){this.shape=a.getDefault("Rect");this.rawNode=b},getBoundingBox:function(){return this.shape}});f("dojox.gfx.shape.Ellipse",q.Shape,{constructor:function(b){this.shape=a.getDefault("Ellipse");this.rawNode=b},getBoundingBox:function(){if(!this.bbox){var b=this.shape;this.bbox={x:b.cx-b.rx,y:b.cy-b.ry,width:2*
b.rx,height:2*b.ry}}return this.bbox}});f("dojox.gfx.shape.Circle",q.Shape,{constructor:function(b){this.shape=a.getDefault("Circle");this.rawNode=b},getBoundingBox:function(){if(!this.bbox){var b=this.shape;this.bbox={x:b.cx-b.r,y:b.cy-b.r,width:2*b.r,height:2*b.r}}return this.bbox}});f("dojox.gfx.shape.Line",q.Shape,{constructor:function(b){this.shape=a.getDefault("Line");this.rawNode=b},getBoundingBox:function(){if(!this.bbox){var b=this.shape;this.bbox={x:Math.min(b.x1,b.x2),y:Math.min(b.y1,b.y2),
width:Math.abs(b.x2-b.x1),height:Math.abs(b.y2-b.y1)}}return this.bbox}});f("dojox.gfx.shape.Polyline",q.Shape,{constructor:function(b){this.shape=a.getDefault("Polyline");this.rawNode=b},setShape:function(b,a){b&&b instanceof Array?(this.inherited(arguments,[{points:b}]),a&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.inherited(arguments,[b]);return this},_normalizePoints:function(){var b=this.shape.points,a=b&&b.length;if(a&&typeof b[0]=="number"){for(var d=[],c=
0;c<a;c+=2)d.push({x:b[c],y:b[c+1]});this.shape.points=d}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){for(var b=this.shape.points,a=b.length,d=b[0],c={l:d.x,t:d.y,r:d.x,b:d.y},e=1;e<a;++e){d=b[e];if(c.l>d.x)c.l=d.x;if(c.r<d.x)c.r=d.x;if(c.t>d.y)c.t=d.y;if(c.b<d.y)c.b=d.y}this.bbox={x:c.l,y:c.t,width:c.r-c.l,height:c.b-c.t}}return this.bbox}});f("dojox.gfx.shape.Image",q.Shape,{constructor:function(b){this.shape=a.getDefault("Image");this.rawNode=b},getBoundingBox:function(){return this.shape},
setStroke:function(){return this},setFill:function(){return this}});f("dojox.gfx.shape.Text",q.Shape,{constructor:function(b){this.fontStyle=null;this.shape=a.getDefault("Text");this.rawNode=b},getFont:function(){return this.fontStyle},setFont:function(b){this.fontStyle=typeof b=="string"?a.splitFontString(b):a.makeParameters(a.defaultFont,b);this._setFont();return this}});q.Creator={createShape:function(b){switch(b.type){case a.defaultPath.type:return this.createPath(b);case a.defaultRect.type:return this.createRect(b);
case a.defaultCircle.type:return this.createCircle(b);case a.defaultEllipse.type:return this.createEllipse(b);case a.defaultLine.type:return this.createLine(b);case a.defaultPolyline.type:return this.createPolyline(b);case a.defaultImage.type:return this.createImage(b);case a.defaultText.type:return this.createText(b);case a.defaultTextPath.type:return this.createTextPath(b)}return null},createGroup:function(){return this.createObject(a.Group)},createRect:function(b){return this.createObject(a.Rect,
b)},createEllipse:function(b){return this.createObject(a.Ellipse,b)},createCircle:function(b){return this.createObject(a.Circle,b)},createLine:function(b){return this.createObject(a.Line,b)},createPolyline:function(b){return this.createObject(a.Polyline,b)},createImage:function(b){return this.createObject(a.Image,b)},createText:function(b){return this.createObject(a.Text,b)},createPath:function(b){return this.createObject(a.Path,b)},createTextPath:function(b){return this.createObject(a.TextPath,{}).setText(b)},
createObject:function(){return null}};return q})},"dojo/dom-class":function(){define("dojo/dom-class",["./_base/lang","./_base/array","./dom"],function(a,l,f){function o(a){if(typeof a=="string"||a instanceof String){if(a&&!h.test(a))return j[0]=a,j;a=a.split(h);a.length&&!a[0]&&a.shift();a.length&&!a[a.length-1]&&a.pop();return a}if(!a)return[];return l.filter(a,function(b){return b})}var i,h=/\s+/,j=[""],e={};return i={contains:function(a,b){return(" "+f.byId(a).className+" ").indexOf(" "+b+" ")>=
0},add:function(a,b){var a=f.byId(a),b=o(b),e=a.className,h,e=e?" "+e+" ":" ";h=e.length;for(var i=0,g=b.length,j;i<g;++i)(j=b[i])&&e.indexOf(" "+j+" ")<0&&(e+=j+" ");h<e.length&&(a.className=e.substr(1,e.length-2))},remove:function(e,b){var e=f.byId(e),h;if(b!==void 0){b=o(b);h=" "+e.className+" ";for(var i=0,j=b.length;i<j;++i)h=h.replace(" "+b[i]+" "," ");h=a.trim(h)}else h="";e.className!=h&&(e.className=h)},replace:function(a,b,h){a=f.byId(a);e.className=a.className;i.remove(e,h);i.add(e,b);
a.className!==e.className&&(a.className=e.className)},toggle:function(a,b,e){a=f.byId(a);if(e===void 0)for(var b=o(b),h=0,j=b.length,g;h<j;++h)g=b[h],i[i.contains(a,g)?"remove":"add"](a,g);else i[e?"add":"remove"](a,b);return e}}})},"djeo/common/Placemark":function(){define("djeo/common/Placemark",["dojo/_base/declare","require","dojo/_base/lang","dojo/_base/array","../_base","../util/_base","../Style"],function(a,l,f,o,i,h){var j=a(null,{specificStyleIndex:-1,render:function(a,f,b){this._render(a,
f,b)},_render:function(a,f,b){if(a.visible){var h=a.getCoords();if(h){if(b)for(var j=a.baseShapes.length-1;j>=0;j--)this.map.engine.destroy(a.baseShapes.pop(),a);if(a.extraShapes)for(j=a.extraShapes.length-1;j>=0;j--)this.map.engine.destroy(a.extraShapes.pop(),a);j=i.calculateStyle(a,f);if(!f||f=="normal")a.reg.cs=j;f=a.isPoint()?"point":a.isArea()?"area":"line";b?(this.multipleSymbolizers&&j[f]?o.forEach(j[f],function(){var b=this.createShape(a,h);b&&a.baseShapes.push(b)},this):(b=this.createShape(a,
h))&&a.baseShapes.push(b),this.applyStyle(a,j,f,h),o.forEach(a.baseShapes,function(b){this.map.engine.appendChild(b,a)},this)):this.applyStyle(a,j,f,h);if(b=this.makeText(a,j)){if(!a.textShapes)a.textShapes=[];a.textShapes.push(b);this.map.engine.appendChild(b,a)}}else a.invalid=!0}},createShape:function(a,f){var b;switch(a.getCoordsType()){case "Point":b=this.makePoint(a,f);break;case "LineString":b=this.makeLineString(a,f);break;case "Polygon":b=this.makePolygon(a,f);break;case "MultiPolygon":b=
this.makeMultiPolygon(a,f);break;case "MultiLineString":b=this.makeMultiLineString(a,f);break;case "MultiPoint":b=this.makeMultiPoint(a,f)}return b},applyStyle:function(a,f,b,h){switch(b){case "point":this.applyPointStyle(a,f,h);break;case "line":this.applyLineStyle(a,f,h);break;case "area":this.applyPolygonStyle(a,f,h)}},_getLabel:function(a,f){return f.attr?a.get(f.attr):a.get("label")||a.get("name")},_getIconUrl:function(a,f,b){var i;f&&a?i=j.shapeIconsUrl+j.shapes[f]:b&&(i=h.isRelativeUrl(b)?
h.baseUrl+this.map.iconBasePath+b:b);return i},_getImageUrl:function(a){return a&&h.isRelativeUrl(a)?h.baseUrl+this.map.iconBasePath+a:a}});j.defaultShapeType="square";j.shapeIconsUrl=l.toUrl("../resources/icons/");j.shapes={circle:"circle.png",star:"star.png",cross:"cross.png",x:"x.png",square:"square.png",triangle:"triangle.png"};j.get=function(a,f,b,h){return h&&h[a]!==void 0?h[a]:b&&b[a]!==void 0?b[a]:f[a]};j.getSpecificShapeStyle=function(a,f){if(!a)return null;var b=a.length;return f>=0?f<b?
a[f]:a[b-1]:f>=-b?a[b+f]:a[0]};j.getSize=function(a,h,b){a=j.get("size",a,h,b);a!==void 0&&!f.isArray(a)&&(a=[a,a]);return a};j.getScale=function(a,f,b){(a=j.get("scale",a,f,b))||(a=1);return a};j.getAnchor=function(a,h,b,i){var l=j.get("img",a,h,b);return(a=f.isObject(l)&&l.anchor?l.anchor:j.get("anchor",a,h,b))?a:[i[0]/2,i[1]/2]};j.getImgSrc=function(a,h,b){a=j.get("img",a,h,b);return f.isObject(a)?a.src:a};j.getImgSize=function(a,h,b){var i=j.get("img",a,h,b);return f.isObject(i)&&i.size?i.size:
j.getSize(a,h,b)};return j})},"dojo/_base/event":function(){define("dojo/_base/event",["./kernel","../on","../has","../dom-geometry"],function(a,l,f,o){if(l._fixEvent){var i=l._fixEvent;l._fixEvent=function(a,f){(a=i(a,f))&&o.normalizeEvent(a);return a}}a.fixEvent=function(a,f){if(l._fixEvent)return l._fixEvent(a,f);return a};a.stopEvent=function(a){f("dom-addeventlistener")||a&&a.preventDefault?(a.preventDefault(),a.stopPropagation()):(a=a||window.event,a.cancelBubble=!0,l._preventDefault.call(a))};
return{fix:a.fixEvent,stop:a.stopEvent}})},"dojo/main":function(){define("dojo/main",["./_base/kernel","./has","require","./_base/sniff","./_base/lang","./_base/array","./ready","./_base/declare","./_base/connect","./_base/Deferred","./_base/json","./_base/Color","require","./_base/browser","./_base/loader"],function(a,l,f,o,i,h,j){a.config.isDebug&&f(["./_firebug/firebug"]);var e=a.config.require;e&&(e=h.map(i.isArray(e)?e:[e],function(a){return a.replace(/\./g,"/")}),a.isAsync?f(e):j(1,function(){f(e)}));
return a})},"dojox/gfx/vml":function(){define("dojox/gfx/vml",["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/_base/Color","dojo/_base/sniff","dojo/_base/config","dojo/dom","dojo/dom-geometry","dojo/_base/window","./_base","./shape","./path","./arc","./gradient","./matrix"],function(a,l,f,o,i,h,j,e,k,b,q,p,m,g,s){function d(a,c,e){e=e||k.global;c.call(e,a);(a instanceof b.Surface||a instanceof b.Group)&&f.forEach(a.children,function(b){d(b,c,e)})}var c=b.vml={};c.xmlns="urn:schemas-microsoft-com:vml";
document.namespaces.add("v",c.xmlns);var g=["*","group","roundrect","oval","shape","rect","imagedata","path","textpath","text"],r=0,t=1,v=document.createStyleSheet();if(i("ie")>=8)r=1,t=g.length;for(;r<t;++r)v.addRule("v\\:"+g[r],"behavior:url(#default#VML); display:inline-block");c.text_alignment={start:"left",middle:"center",end:"right"};c._parseFloat=function(b){return b.match(/^\d+f$/i)?parseInt(b)/65536:parseFloat(b)};c._bool={t:1,"true":1};l("dojox.gfx.vml.Shape",q.Shape,{setFill:function(a){if(!a)return this.fillStyle=
null,this.rawNode.filled="f",this;var c,d,e;if(typeof a=="object"&&"type"in a){switch(a.type){case "linear":var g=this._getRealMatrix(),h=this.getBoundingBox(),i=this._getRealBBox?this._getRealBBox():this.getTransformedBoundingBox();e=[];if(this.fillStyle!==a)this.fillStyle=b.makeParameters(b.defaultLinearGradient,a);a=b.gradient.project(g,this.fillStyle,{x:h.x,y:h.y},{x:h.x+h.width,y:h.y+h.height},i[0],i[2]);d=a.colors;d[0].offset.toFixed(5)!="0.00000"&&e.push("0 "+b.normalizeColor(d[0].color).toHex());
for(c=0;c<d.length;++c)e.push(d[c].offset.toFixed(5)+" "+b.normalizeColor(d[c].color).toHex());c=d.length-1;d[c].offset.toFixed(5)!="1.00000"&&e.push("1 "+b.normalizeColor(d[c].color).toHex());c=this.rawNode.fill;c.colors.value=e.join(";");c.method="sigma";c.type="gradient";c.angle=(270-s._radToDeg(a.angle))%360;c.on=!0;break;case "radial":this.fillStyle=a=b.makeParameters(b.defaultRadialGradient,a);var g=parseFloat(this.rawNode.style.left),h=parseFloat(this.rawNode.style.top),i=parseFloat(this.rawNode.style.width),
j=parseFloat(this.rawNode.style.height),k=isNaN(i)?1:2*a.r/i;d=[];a.colors[0].offset>0&&d.push({offset:1,color:b.normalizeColor(a.colors[0].color)});f.forEach(a.colors,function(a){d.push({offset:1-a.offset*k,color:b.normalizeColor(a.color)})});for(c=d.length-1;c>=0&&d[c].offset<0;)--c;if(c<d.length-1){e=d[c];var l=d[c+1];l.color=o.blendColors(e.color,l.color,e.offset/(e.offset-l.offset));for(l.offset=0;d.length-c>2;)d.pop()}c=d.length-1;e=[];for(d[c].offset>0&&e.push("0 "+d[c].color.toHex());c>=0;--c)e.push(d[c].offset.toFixed(5)+
" "+d[c].color.toHex());c=this.rawNode.fill;c.colors.value=e.join(";");c.method="sigma";c.type="gradientradial";c.focusposition=isNaN(i)||isNaN(j)||isNaN(g)||isNaN(h)?"0.5 0.5":((a.cx-g)/i).toFixed(5)+" "+((a.cy-h)/j).toFixed(5);c.focussize="0 0";c.on=!0;break;case "pattern":this.fillStyle=a=b.makeParameters(b.defaultPattern,a);c=this.rawNode.fill;c.type="tile";c.src=a.src;if(a.width&&a.height)c.size.x=b.px2pt(a.width),c.size.y=b.px2pt(a.height);c.alignShape="f";c.position.x=0;c.position.y=0;c.origin.x=
a.width?a.x/a.width:0;c.origin.y=a.height?a.y/a.height:0;c.on=!0}this.rawNode.fill.opacity=1;return this}this.fillStyle=b.normalizeColor(a);(c=this.rawNode.fill)||(c=this.rawNode.ownerDocument.createElement("v:fill"));c.method="any";c.type="solid";c.opacity=this.fillStyle.a;if(e=this.rawNode.filters["DXImageTransform.Microsoft.Alpha"])e.opacity=Math.round(this.fillStyle.a*100);this.rawNode.fillcolor=this.fillStyle.toHex();this.rawNode.filled=!0;return this},setStroke:function(c){if(!c)return this.strokeStyle=
null,this.rawNode.stroked="f",this;if(typeof c=="string"||a.isArray(c)||c instanceof o)c={color:c};c=this.strokeStyle=b.makeParameters(b.defaultStroke,c);c.color=b.normalizeColor(c.color);var d=this.rawNode;d.stroked=!0;d.strokecolor=c.color.toCss();d.strokeweight=c.width+"px";if(d.stroke)d.stroke.opacity=c.color.a,d.stroke.endcap=this._translate(this._capMap,c.cap),typeof c.join=="number"?(d.stroke.joinstyle="miter",d.stroke.miterlimit=c.join):d.stroke.joinstyle=c.join,d.stroke.dashstyle=c.style==
"none"?"Solid":c.style;return this},_capMap:{butt:"flat"},_capMapReversed:{flat:"butt"},_translate:function(b,a){return a in b?b[a]:a},_applyTransform:function(){var b=this._getRealMatrix();if(b){var a=this.rawNode.skew;if(typeof a=="undefined")for(var c=0;c<this.rawNode.childNodes.length;++c)if(this.rawNode.childNodes[c].tagName=="skew"){a=this.rawNode.childNodes[c];break}if(a){a.on="f";var c=b.xx.toFixed(8)+" "+b.xy.toFixed(8)+" "+b.yx.toFixed(8)+" "+b.yy.toFixed(8)+" 0 0",b=Math.floor(b.dx).toFixed()+
"px "+Math.floor(b.dy).toFixed()+"px",d=this.rawNode.style,e=parseFloat(d.left),f=parseFloat(d.top),g=parseFloat(d.width),d=parseFloat(d.height);isNaN(e)&&(e=0);isNaN(f)&&(f=0);if(isNaN(g)||!g)g=1;if(isNaN(d)||!d)d=1;e=(-e/g-0.5).toFixed(8)+" "+(-f/d-0.5).toFixed(8);a.matrix=c;a.origin=e;a.offset=b;a.on=!0}}this.fillStyle&&this.fillStyle.type=="linear"&&this.setFill(this.fillStyle);return this},_setDimensions:function(){return this},setRawNode:function(b){b.stroked="f";b.filled="f";this.rawNode=b;
this.rawNode.__gfxObject__=this.getUID()},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this},_moveToBack:function(){var b=this.rawNode,a=b.parentNode,c=a.firstChild;a.insertBefore(b,c);c.tagName=="rect"&&c.swapNode(b);return this},_getRealMatrix:function(){return this.parentMatrix?new s.Matrix2D([this.parentMatrix,this.matrix]):this.matrix}});l("dojox.gfx.vml.Group",c.Shape,{constructor:function(){q.Container._init.call(this)},_applyTransform:function(){for(var b=
this._getRealMatrix(),a=0;a<this.children.length;++a)this.children[a]._updateParentMatrix(b);return this},_setDimensions:function(b,a){var c=this.rawNode,d=c.style,e=this.bgNode.style;d.width=b;d.height=a;c.coordsize=b+" "+a;e.width=b;e.height=a;for(c=0;c<this.children.length;++c)this.children[c]._setDimensions(b,a);return this}});c.Group.nodeType="group";l("dojox.gfx.vml.Rect",[c.Shape,q.Rect],{setShape:function(a){a=this.shape=b.makeParameters(this.shape,a);this.bbox=null;var c=Math.min(1,a.r/Math.min(parseFloat(a.width),
parseFloat(a.height))).toFixed(8),d=this.rawNode.parentNode,e=null;if(d){if(d.lastChild!==this.rawNode)for(var f=0;f<d.childNodes.length;++f)if(d.childNodes[f]===this.rawNode){e=d.childNodes[f+1];break}d.removeChild(this.rawNode)}i("ie")>7?(f=this.rawNode.ownerDocument.createElement("v:roundrect"),f.arcsize=c,f.style.display="inline-block",this.rawNode=f,this.rawNode.__gfxObject__=this.getUID()):this.rawNode.arcsize=c;d&&(e?d.insertBefore(this.rawNode,e):d.appendChild(this.rawNode));c=this.rawNode.style;
c.left=a.x.toFixed();c.top=a.y.toFixed();c.width=typeof a.width=="string"&&a.width.indexOf("%")>=0?a.width:Math.max(a.width.toFixed(),0);c.height=typeof a.height=="string"&&a.height.indexOf("%")>=0?a.height:Math.max(a.height.toFixed(),0);return this.setTransform(this.matrix).setFill(this.fillStyle).setStroke(this.strokeStyle)}});c.Rect.nodeType="roundrect";l("dojox.gfx.vml.Ellipse",[c.Shape,q.Ellipse],{setShape:function(a){a=this.shape=b.makeParameters(this.shape,a);this.bbox=null;var c=this.rawNode.style;
c.left=(a.cx-a.rx).toFixed();c.top=(a.cy-a.ry).toFixed();c.width=(a.rx*2).toFixed();c.height=(a.ry*2).toFixed();return this.setTransform(this.matrix)}});c.Ellipse.nodeType="oval";l("dojox.gfx.vml.Circle",[c.Shape,q.Circle],{setShape:function(a){a=this.shape=b.makeParameters(this.shape,a);this.bbox=null;var c=this.rawNode.style;c.left=(a.cx-a.r).toFixed();c.top=(a.cy-a.r).toFixed();c.width=(a.r*2).toFixed();c.height=(a.r*2).toFixed();return this}});c.Circle.nodeType="oval";l("dojox.gfx.vml.Line",[c.Shape,
q.Line],{constructor:function(b){b&&b.setAttribute("dojoGfxType","line")},setShape:function(a){a=this.shape=b.makeParameters(this.shape,a);this.bbox=null;this.rawNode.path.v="m"+a.x1.toFixed()+" "+a.y1.toFixed()+"l"+a.x2.toFixed()+" "+a.y2.toFixed()+"e";return this.setTransform(this.matrix)}});c.Line.nodeType="shape";l("dojox.gfx.vml.Polyline",[c.Shape,q.Polyline],{constructor:function(b){b&&b.setAttribute("dojoGfxType","polyline")},setShape:function(a,c){a&&a instanceof Array?(this.shape=b.makeParameters(this.shape,
{points:a}),c&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.shape=b.makeParameters(this.shape,a);this.bbox=null;this._normalizePoints();var d=[],e=this.shape.points;if(e.length>0&&(d.push("m"),d.push(e[0].x.toFixed(),e[0].y.toFixed()),e.length>1)){d.push("l");for(var f=1;f<e.length;++f)d.push(e[f].x.toFixed(),e[f].y.toFixed())}d.push("e");this.rawNode.path.v=d.join(" ");return this.setTransform(this.matrix)}});c.Polyline.nodeType="shape";l("dojox.gfx.vml.Image",[c.Shape,
q.Image],{setShape:function(a){a=this.shape=b.makeParameters(this.shape,a);this.bbox=null;this.rawNode.firstChild.src=a.src;return this.setTransform(this.matrix)},_applyTransform:function(){var b=this._getRealMatrix(),a=this.rawNode,c=a.style,d=this.shape,b=b?s.multiply(b,{dx:d.x,dy:d.y}):s.normalize({dx:d.x,dy:d.y});if(b.xy==0&&b.yx==0&&b.xx>0&&b.yy>0)c.filter="",c.width=Math.floor(b.xx*d.width),c.height=Math.floor(b.yy*d.height),c.left=Math.floor(b.dx),c.top=Math.floor(b.dy);else{var e=a.parentNode.style;
c.left="0px";c.top="0px";c.width=e.width;c.height=e.height;b=s.multiply(b,{xx:d.width/parseInt(c.width),yy:d.height/parseInt(c.height)});(a=a.filters["DXImageTransform.Microsoft.Matrix"])?(a.M11=b.xx,a.M12=b.xy,a.M21=b.yx,a.M22=b.yy,a.Dx=b.dx,a.Dy=b.dy):c.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+b.xx+", M12="+b.xy+", M21="+b.yx+", M22="+b.yy+", Dx="+b.dx+", Dy="+b.dy+")"}return this},_setDimensions:function(b,a){var c=this.rawNode;if(c.filters["DXImageTransform.Microsoft.Matrix"])return c=
c.style,c.width=b,c.height=a,this._applyTransform();return this}});c.Image.nodeType="rect";l("dojox.gfx.vml.Text",[c.Shape,q.Text],{constructor:function(b){b&&b.setAttribute("dojoGfxType","text");this.fontStyle=null},_alignment:{start:"left",middle:"center",end:"right"},setShape:function(a){this.shape=b.makeParameters(this.shape,a);this.bbox=null;var d=this.rawNode,a=this.shape,e=a.x,f=a.y.toFixed();switch(a.align){case "middle":e-=5;break;case "end":e-=10}for(var f="m"+e.toFixed()+","+f+"l"+(e+10).toFixed()+
","+f+"e",g=null,e=null,h=d.childNodes,i=0;i<h.length;++i){var j=h[i].tagName;if(j=="path"){if(g=h[i],e)break}else if(j=="textpath"&&(e=h[i],g))break}g||(g=d.ownerDocument.createElement("v:path"),d.appendChild(g));e||(e=d.ownerDocument.createElement("v:textpath"),d.appendChild(e));g.v=f;g.textPathOk=!0;e.on=!0;d=c.text_alignment[a.align];e.style["v-text-align"]=d?d:"left";e.style["text-decoration"]=a.decoration;e.style["v-rotate-letters"]=a.rotated;e.style["v-text-kern"]=a.kerning;e.string=a.text;
return this.setTransform(this.matrix)},_setFont:function(){for(var a=this.fontStyle,c=this.rawNode.childNodes,d=0;d<c.length;++d)if(c[d].tagName=="textpath"){c[d].style.font=b.makeFontString(a);break}this.setTransform(this.matrix)},_getRealMatrix:function(){var a=this.inherited(arguments);a&&(a=s.multiply(a,{dy:-b.normalizedLength(this.fontStyle?this.fontStyle.size:"10pt")*0.35}));return a},getTextWidth:function(){var a=this.rawNode,c=a.style.display;a.style.display="inline";var d=b.pt2px(parseFloat(a.currentStyle.width));
a.style.display=c;return d}});c.Text.nodeType="shape";l("dojox.gfx.vml.Path",[c.Shape,p.Path],{constructor:function(b){b&&!b.getAttribute("dojoGfxType")&&b.setAttribute("dojoGfxType","path");this.vmlPath="";this.lastControl={}},_updateWithSegment:function(b){var c=a.clone(this.last);this.inherited(arguments);if(!(arguments.length>1))c=this[this.renderers[b.action]](b,c),typeof this.vmlPath=="string"?(this.vmlPath+=c.join(""),this.rawNode.path.v=this.vmlPath+" r0,0 e"):Array.prototype.push.apply(this.vmlPath,
c)},setShape:function(){this.vmlPath=[];this.lastControl.type="";this.inherited(arguments);this.vmlPath=this.vmlPath.join("");this.rawNode.path.v=this.vmlPath+" r0,0 e";return this},_pathVmlToSvgMap:{m:"M",l:"L",t:"m",r:"l",c:"C",v:"c",qb:"Q",x:"z",e:""},renderers:{M:"_moveToA",m:"_moveToR",L:"_lineToA",l:"_lineToR",H:"_hLineToA",h:"_hLineToR",V:"_vLineToA",v:"_vLineToR",C:"_curveToA",c:"_curveToR",S:"_smoothCurveToA",s:"_smoothCurveToR",Q:"_qCurveToA",q:"_qCurveToR",T:"_qSmoothCurveToA",t:"_qSmoothCurveToR",
A:"_arcTo",a:"_arcTo",Z:"_closePath",z:"_closePath"},_addArgs:function(b,a,c,d){for(a=a instanceof Array?a:a.args;c<d;++c)b.push(" ",a[c].toFixed())},_adjustRelCrd:function(b,a,c){var a=a instanceof Array?a:a.args,d=a.length,e=Array(d),f=0,g=b.x,b=b.y;typeof g!="number"&&(e[0]=g=a[0],e[1]=b=a[1],f=2);if(typeof c=="number"&&c!=2)for(var h=c;h<=d;){for(;f<h;f+=2)e[f]=g+a[f],e[f+1]=b+a[f+1];g=e[h-2];b=e[h-1];h+=c}else for(;f<d;f+=2)e[f]=g+=a[f],e[f+1]=b+=a[f+1];return e},_adjustRelPos:function(b,a){for(var c=
a instanceof Array?a:a.args,d=c.length,e=Array(d),f=0;f<d;++f)e[f]=b+=c[f];return e},_moveToA:function(b){var a=[" m"],b=b instanceof Array?b:b.args,c=b.length;this._addArgs(a,b,0,2);c>2&&(a.push(" l"),this._addArgs(a,b,2,c));this.lastControl.type="";return a},_moveToR:function(b,a){return this._moveToA(this._adjustRelCrd(a,b))},_lineToA:function(b){var a=[" l"],b=b instanceof Array?b:b.args;this._addArgs(a,b,0,b.length);this.lastControl.type="";return a},_lineToR:function(b,a){return this._lineToA(this._adjustRelCrd(a,
b))},_hLineToA:function(b,a){for(var c=[" l"],d=" "+a.y.toFixed(),e=b instanceof Array?b:b.args,f=e.length,g=0;g<f;++g)c.push(" ",e[g].toFixed(),d);this.lastControl.type="";return c},_hLineToR:function(b,a){return this._hLineToA(this._adjustRelPos(a.x,b),a)},_vLineToA:function(b,a){for(var c=[" l"],d=" "+a.x.toFixed(),e=b instanceof Array?b:b.args,f=e.length,g=0;g<f;++g)c.push(d," ",e[g].toFixed());this.lastControl.type="";return c},_vLineToR:function(b,a){return this._vLineToA(this._adjustRelPos(a.y,
b),a)},_curveToA:function(b){for(var a=[],b=b instanceof Array?b:b.args,c=b.length,d=this.lastControl,e=0;e<c;e+=6)a.push(" c"),this._addArgs(a,b,e,e+6);d.x=b[c-4];d.y=b[c-3];d.type="C";return a},_curveToR:function(b,a){return this._curveToA(this._adjustRelCrd(a,b,6))},_smoothCurveToA:function(b,a){var c=[],d=b instanceof Array?b:b.args,e=d.length,f=this.lastControl,g=0;if(f.type!="C")c.push(" c"),this._addArgs(c,[a.x,a.y],0,2),this._addArgs(c,d,0,4),f.x=d[0],f.y=d[1],f.type="C",g=4;for(;g<e;g+=4)c.push(" c"),
this._addArgs(c,[2*a.x-f.x,2*a.y-f.y],0,2),this._addArgs(c,d,g,g+4),f.x=d[g],f.y=d[g+1];return c},_smoothCurveToR:function(b,a){return this._smoothCurveToA(this._adjustRelCrd(a,b,4),a)},_qCurveToA:function(b){for(var a=[],b=b instanceof Array?b:b.args,c=b.length,d=this.lastControl,e=0;e<c;e+=4)a.push(" qb"),this._addArgs(a,b,e,e+4);d.x=b[c-4];d.y=b[c-3];d.type="Q";return a},_qCurveToR:function(b,a){return this._qCurveToA(this._adjustRelCrd(a,b,4))},_qSmoothCurveToA:function(b,a){var c=[],d=b instanceof
Array?b:b.args,e=d.length,f=this.lastControl,g=0;if(f.type!="Q")c.push(" qb"),this._addArgs(c,[f.x=a.x,f.y=a.y],0,2),f.type="Q",this._addArgs(c,d,0,2),g=2;for(;g<e;g+=2)c.push(" qb"),this._addArgs(c,[f.x=2*a.x-f.x,f.y=2*a.y-f.y],0,2),this._addArgs(c,d,g,g+2);return c},_qSmoothCurveToR:function(b,a){return this._qSmoothCurveToA(this._adjustRelCrd(a,b,2),a)},_arcTo:function(b,a){for(var c=[],d=b.args,e=d.length,f=b.action=="a",g=0;g<e;g+=7){var h=d[g+5],i=d[g+6];f&&(h+=a.x,i+=a.y);for(var j=m.arcAsBezier(a,
d[g],d[g+1],d[g+2],d[g+3]?1:0,d[g+4]?1:0,h,i),k=0;k<j.length;++k){c.push(" c");var l=j[k];this._addArgs(c,l,0,l.length);this._updateBBox(l[0],l[1]);this._updateBBox(l[2],l[3]);this._updateBBox(l[4],l[5])}a.x=h;a.y=i}this.lastControl.type="";return c},_closePath:function(){this.lastControl.type="";return["x"]}});c.Path.nodeType="shape";l("dojox.gfx.vml.TextPath",[c.Path,p.TextPath],{constructor:function(c){c&&c.setAttribute("dojoGfxType","textpath");this.fontStyle=null;if(!("text"in this))this.text=
a.clone(b.defaultTextPath);if(!("fontStyle"in this))this.fontStyle=a.clone(b.defaultFont)},setText:function(a){this.text=b.makeParameters(this.text,typeof a=="string"?{text:a}:a);this._setText();return this},setFont:function(a){this.fontStyle=typeof a=="string"?b.splitFontString(a):b.makeParameters(b.defaultFont,a);this._setFont();return this},_setText:function(){this.bbox=null;for(var b=this.rawNode,a=this.text,d=null,e=null,f=b.childNodes,g=0;g<f.length;++g){var h=f[g].tagName;if(h=="path"){if(d=
f[g],e)break}else if(h=="textpath"&&(e=f[g],d))break}d||(d=this.rawNode.ownerDocument.createElement("v:path"),b.appendChild(d));e||(e=this.rawNode.ownerDocument.createElement("v:textpath"),b.appendChild(e));d.textPathOk=!0;e.on=!0;b=c.text_alignment[a.align];e.style["v-text-align"]=b?b:"left";e.style["text-decoration"]=a.decoration;e.style["v-rotate-letters"]=a.rotated;e.style["v-text-kern"]=a.kerning;e.string=a.text},_setFont:function(){for(var a=this.fontStyle,c=this.rawNode.childNodes,d=0;d<c.length;++d)if(c[d].tagName==
"textpath"){c[d].style.font=b.makeFontString(a);break}}});c.TextPath.nodeType="shape";l("dojox.gfx.vml.Surface",q.Surface,{constructor:function(){q.Container._init.call(this)},setDimensions:function(a,c){this.width=b.normalizedLength(a);this.height=b.normalizedLength(c);if(!this.rawNode)return this;var d=this.clipNode.style,e=this.rawNode,f=e.style,g=this.bgNode.style,h=this._parent.style;h.width=a;h.height=c;d.width=a;d.height=c;d.clip="rect(0px "+a+"px "+c+"px 0px)";f.width=a;f.height=c;e.coordsize=
a+" "+c;g.width=a;g.height=c;for(d=0;d<this.children.length;++d)this.children[d]._setDimensions(a,c);return this},getDimensions:function(){var a=this.rawNode?{width:b.normalizedLength(this.rawNode.style.width),height:b.normalizedLength(this.rawNode.style.height)}:null;if(a.width<=0)a.width=this.width;if(a.height<=0)a.height=this.height;return a}});c.createSurface=function(a,d,f){if(!d&&!f)var g=e.position(a),d=d||g.w,f=f||g.h;typeof d=="number"&&(d+="px");typeof f=="number"&&(f+="px");var g=new c.Surface,
a=j.byId(a),h=g.clipNode=a.ownerDocument.createElement("div"),l=g.rawNode=a.ownerDocument.createElement("v:group"),k=h.style,m=l.style;if(i("ie")>7)m.display="inline-block";g._parent=a;g._nodes.push(h);a.style.width=d;a.style.height=f;k.position="absolute";k.width=d;k.height=f;k.clip="rect(0px "+d+" "+f+" 0px)";m.position="absolute";m.width=d;m.height=f;l.coordsize=(d==="100%"?d:parseFloat(d))+" "+(f==="100%"?f:parseFloat(f));l.coordorigin="0 0";var k=g.bgNode=l.ownerDocument.createElement("v:rect"),
r=k.style;r.left=r.top=0;r.width=m.width;r.height=m.height;k.filled=k.stroked="f";l.appendChild(k);h.appendChild(l);a.appendChild(h);g.width=b.normalizedLength(d);g.height=b.normalizedLength(f);return g};var x=q.Container,l={add:h.fixVmlAdd===!0?function(a){if(this!=a.getParent()){var b=a.getParent();b&&b.remove(a);this.rawNode.appendChild(a.rawNode);x.add.apply(this,arguments);d(this,function(a){typeof a.getFont=="function"&&(a.setShape(a.getShape()),a.setFont(a.getFont()));typeof a.setFill=="function"&&
(a.setFill(a.getFill()),a.setStroke(a.getStroke()))})}return this}:function(a){this!=a.getParent()&&(this.rawNode.appendChild(a.rawNode),a.getParent()||(a.setFill(a.getFill()),a.setStroke(a.getStroke())),x.add.apply(this,arguments));return this},remove:function(a){this==a.getParent()&&(this.rawNode==a.rawNode.parentNode&&this.rawNode.removeChild(a.rawNode),x.remove.apply(this,arguments));return this},clear:function(){for(var a=this.rawNode;a.firstChild!=a.lastChild;)a.firstChild!=this.bgNode&&a.removeChild(a.firstChild),
a.lastChild!=this.bgNode&&a.removeChild(a.lastChild);return x.clear.apply(this,arguments)},_moveChildToFront:x._moveChildToFront,_moveChildToBack:x._moveChildToBack},h={createGroup:function(){var a=this.createObject(c.Group,null),b=a.rawNode.ownerDocument.createElement("v:rect");b.style.left=b.style.top=0;b.style.width=a.rawNode.style.width;b.style.height=a.rawNode.style.height;b.filled=b.stroked="f";a.rawNode.appendChild(b);a.bgNode=b;return a},createImage:function(a){if(!this.rawNode)return null;
var b=new c.Image,d=this.rawNode.ownerDocument,e=d.createElement("v:rect");e.stroked="f";e.style.width=this.rawNode.style.width;e.style.height=this.rawNode.style.height;d=d.createElement("v:imagedata");e.appendChild(d);b.setRawNode(e);this.rawNode.appendChild(e);b.setShape(a);this.add(b);return b},createRect:function(a){if(!this.rawNode)return null;var b=new c.Rect,d=this.rawNode.ownerDocument.createElement("v:roundrect");if(i("ie")>7)d.style.display="inline-block";b.setRawNode(d);this.rawNode.appendChild(d);
b.setShape(a);this.add(b);return b},createObject:function(a,b){if(!this.rawNode)return null;var d=new a,e=this.rawNode.ownerDocument.createElement("v:"+a.nodeType);d.setRawNode(e);this.rawNode.appendChild(e);switch(a){case c.Group:case c.Line:case c.Polyline:case c.Image:case c.Text:case c.Path:case c.TextPath:this._overrideSize(e)}d.setShape(b);this.add(d);return d},_overrideSize:function(a){var b=this.rawNode.style,c=b.width,b=b.height;a.style.width=c;a.style.height=b;a.coordsize=parseInt(c)+" "+
parseInt(b)}};a.extend(c.Group,l);a.extend(c.Group,q.Creator);a.extend(c.Group,h);a.extend(c.Surface,l);a.extend(c.Surface,q.Creator);a.extend(c.Surface,h);c.fixTarget=function(a){if(!a.gfxTarget)a.gfxTarget=q.byId(a.target.__gfxObject__);return!0};return c})},"dojo/ready":function(){define("dojo/ready",["./_base/kernel","./has","require","./domReady","./_base/lang"],function(a,l,f,o,i){var h=0,j,e=[],k=0,b=function(){if(h&&!k&&e.length){k=1;var a=e.shift();try{a()}finally{k=0}k=0;e.length&&j(b)}};
f.on("idle",b);j=function(){f.idle()&&b()};var l=a.ready=a.addOnLoad=function(b,f,g){var h=i._toArray(arguments);typeof b!="number"?(g=f,f=b,b=1E3):h.shift();g=g?i.hitch.apply(a,h):function(){f()};g.priority=b;for(h=0;h<e.length&&b>=e[h].priority;h++);e.splice(h,0,g);j()},q=a.config.addOnLoad;if(q)l[i.isArray(q)?"apply":"call"](a,q);a.config.parseOnLoad&&!a.isAsync&&l(99,function(){a.parser||(a.deprecated("Add explicit require(['dojo/parser']);","","2.0"),f(["dojo/parser"]))});o(function(){h=1;a._postLoad=
a.config.afterOnLoad=!0;e.length&&j(b)});return l})},"dojo/_base/connect":function(){define("dojo/_base/connect",["./kernel","../on","../topic","../aspect","./event","../mouse","./sniff","./lang","../keys"],function(a,l,f,o,i,h,j,e){function k(b,c,f,i,j){i=e.hitch(f,i);if(!b||!b.addEventListener&&!b.attachEvent)return o.after(b||a.global,c,i,!0);typeof c=="string"&&c.substring(0,2)=="on"&&(c=c.substring(2));if(!b)b=a.global;if(!j)switch(c){case "keypress":c=g;break;case "mouseenter":c=h.enter;break;
case "mouseleave":c=h.leave}return l(b,c,i,j)}function b(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}j.add("events-keypress-typed",function(){var a={charCode:0};try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(b){}return a.charCode==0&&!j("opera")});var q={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},p=j("mac")?
"metaKey":"ctrlKey",m=function(a,c){var f=e.mixin({},a,c);b(f);f.preventDefault=function(){a.preventDefault()};f.stopPropagation=function(){a.stopPropagation()};return f},g;g=j("events-keypress-typed")?function(a,b){var e=l(a,"keydown",function(a){var d=a.keyCode,e=(d!=13||j("ie")>=9&&!j("quirks"))&&d!=32&&(d!=27||!j("ie"))&&(d<48||d>90)&&(d<96||d>111)&&(d<186||d>192)&&(d<219||d>222)&&d!=229;if(e||a.ctrlKey){e=e?0:d;if(a.ctrlKey)if(d==3||d==13)return b.call(a.currentTarget,a);else e>95&&e<106?e-=
48:!a.shiftKey&&e>=65&&e<=90?e+=32:e=q[e]||e;d=m(a,{type:"keypress",faux:!0,charCode:e});b.call(a.currentTarget,d);if(j("ie"))try{a.keyCode=d.keyCode}catch(f){}}}),f=l(a,"keypress",function(a){var d=a.charCode,a=m(a,{charCode:d>=32?d:0,faux:!0});return b.call(this,a)});return{remove:function(){e.remove();f.remove()}}}:j("opera")?function(a,b){return l(a,"keypress",function(a){var d=a.which;d==3&&(d=99);d=d<32&&!a.shiftKey?0:d;a.ctrlKey&&!a.shiftKey&&d>=65&&d<=90&&(d+=32);return b.call(this,m(a,{charCode:d}))})}:
function(a,c){return l(a,"keypress",function(a){b(a);return c.call(this,a)})};var s={_keypress:g,connect:function(){var a=arguments,b=[],e=0;b.push(typeof a[0]=="string"?null:a[e++],a[e++]);var f=a[e+1];b.push(typeof f=="string"||typeof f=="function"?a[e++]:null,a[e++]);for(f=a.length;e<f;e++)b.push(a[e]);return k.apply(this,b)},disconnect:function(a){a&&a.remove()},subscribe:function(a,b,g){return f.subscribe(a,e.hitch(b,g))},publish:function(a,b){return f.publish.apply(f,[a].concat(b))},connectPublisher:function(a,
b,e){var f=function(){s.publish(a,arguments)};return e?s.connect(b,e,f):s.connect(b,f)},isCopyKey:function(a){return a[p]}};s.unsubscribe=s.disconnect;e.mixin(a,s);return s})}}});define("djeo-esri/esri",[],1);