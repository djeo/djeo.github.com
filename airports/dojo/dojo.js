//>>built
(function(d,m){var i,o,h=function(){},e=function(a){for(var c in a)return 0;return 1},n={}.toString,c=function(a){return n.call(a)=="[object Function]"},b=function(a){return n.call(a)=="[object String]"},a=function(a){return n.call(a)=="[object Array]"},q=function(a,c){if(a)for(var f=0;f<a.length;)c(a[f++])},s=function(a,c){for(var f in c)a[f]=c[f];return a},l=function(a,c){return s(Error(a),{src:"dojoLoader",info:c})},f=1,t=function(){return"_"+f++},r=function(a,c,f){return Ia(a,c,f,0,r)},p=this,
A=p.document,z=A&&A.createElement("DiV"),x=r.has=function(a){return c(y[a])?y[a]=y[a](p,A,z):y[a]},y=x.cache=m.hasCache;x.add=function(a,c,f,b){(y[a]===void 0||b)&&(y[a]=c);return f&&x(a)};for(var u in d.has)x.add(u,d.has[u],0,1);var w=0,B=[],I=0,T=h,J=h,H;r.isXdUrl=h;r.initSyncLoader=function(a,c,f){I||(I=a,T=c,J=f);return{sync:"sync",xd:"xd",arrived:2,nonmodule:3,executing:4,executed:5,syncExecStack:B,modules:P,execQ:U,getModule:Z,injectModule:ka,setArrived:ca,signal:Q,finishExec:ea,execModule:fa,
dojoRequirePlugin:I,getLegacyMode:function(){return w},holdIdle:function(){Y++},releaseIdle:function(){ga()}}};var F=location.protocol,D=location.host,C=!D;r.isXdUrl=function(a){if(C||/^\./.test(a))return!1;if(/^\/\//.test(a))return!0;return(a=a.match(/^([^\/\:]+\:)\/\/([^\/]+)/))&&(a[1]!=F||a[2]!=D)};x.add("dojo-force-activex-xhr",!A.addEventListener&&window.location.protocol=="file:");x.add("native-xhr",typeof XMLHttpRequest!="undefined");if(x("native-xhr")&&!x("dojo-force-activex-xhr"))H=function(){return new XMLHttpRequest};
else{u=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];var E;for(i=0;i<3;)try{if(E=u[i++],new ActiveXObject(E))break}catch(G){}H=function(){return new ActiveXObject(E)}}r.getXhr=H;x.add("dojo-gettext-api",1);r.getText=function(a,c,f){var b=H();b.open("GET",la(a),!1);b.send(null);if(b.status==200||!location.host&&!b.status)f&&f(b.responseText,c);else throw l("xhrFailed",b.status);return b.responseText};var K=new Function("return eval(arguments[0]);");r.eval=function(a,c){return K(a+"\r\n////@ sourceURL="+
c)};var M={},Q=r.signal=function(c,f){var b=M[c];q(b&&b.slice(0),function(c){c.apply(null,a(f)?f:[f])})},$=r.on=function(a,c){var f=M[a]||(M[a]=[]);f.push(c);return{remove:function(){for(var a=0;a<f.length;a++)if(f[a]===c){f.splice(a,1);break}}}},N=[],S={},O=[],V={},L={},R=[],P={},ya="",ba={},ma={};u={};var na=function(a){var c,f,b,p;for(c in ma)f=ma[c],(b=c.match(/^url\:(.+)/))?ba[Ja(b[1],a)]=f:c=="*now"?p=f:c!="*noref"&&(ba[ha(c,a).mid]=f);p&&p(za(a));ma={}},Aa=function(a,c,f){c.splice(0,c.length);
var b,p=0;for(b in a)c.push([b,a[b]]),a[b]==f&&(p=b);c.sort(function(a,c){return c[0].length-a[0].length});for(a=0;a<c.length;)f=c[a++],f[2]=RegExp("^"+f[0].replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(a){return"\\"+a})+"(/|$)"),f[3]=f[0].length+1;return p},Ka=function(a,c){var f=a.name;f||(f=a,a={name:f});a=s({main:"main",mapProg:[]},a);a.location=(c||"")+(a.location?a.location:f);a.reverseName=Aa(a.packageMap,a.mapProg,f);if(!a.main.indexOf("./"))a.main=a.main.substring(2);s(S,a.paths);V[f]=
a;L[f]=f},oa=function(a,c){for(var f in a){if(f=="waitSeconds")r.waitms=(a[f]||0)*1E3;f=="cacheBust"&&(ya=a[f]?b(a[f])?a[f]:(new Date).getTime()+"":"");if(f=="baseUrl"||f=="combo")r[f]=a[f];if(f=="async"){var p=a[f];r.legacyMode=w=b(p)&&/sync|legacyAsync/.test(p)?p:!p?"sync":!1;r.async=!w}a[f]!==y&&(r.rawConfig[f]=a[f],f!="has"&&x.add("config-"+f,a[f],0,c))}if(!r.baseUrl)r.baseUrl="./";/\/$/.test(r.baseUrl)||(r.baseUrl+="/");for(f in a.has)x.add(f,a.has[f],0,c);q(a.packages,Ka);for(o in a.packagePaths)q(a.packagePaths[o],
function(a){Ka(a,o+"/")});Aa(s(S,a.paths),O);q(a.aliases,function(a){b(a[0])&&(a[0]=RegExp("^"+a[0].replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(a){return"\\"+a})+"$"));N.push(a)});Aa(s(L,a.packageMap),R);if(a.cache)na(),ma=a.cache,a.cache["*noref"]&&na();Q("config",[a,r.rawConfig])};x("dojo-cdn");var X,pa,Ba,qa=A.getElementsByTagName("script");for(i=0;i<qa.length&&!Ba;i++)if((pa=qa[i].getAttribute("src"))&&(Ba=pa.match(/(.*)\/?dojo\.js(\W|$)/i)))d.baseUrl=X=d.baseUrl||m.baseUrl||Ba[1],(pa=qa[i].getAttribute("data-dojo-config")||
qa[i].getAttribute("djConfig"))&&(u=r.eval("({ "+pa+" })","data-dojo-config"));r.rawConfig={};oa(m,1);oa(d,1);oa(u,1);if(x("dojo-cdn"))V.dojo.location=X,V.dijit.location=X+"../dijit/",V.dojox.location=X+"../dojox/";var ia=function(a){Y++;q(a.deps,ka);ga()},Ia=function(f,c,p,w,q){if(b(f)){if((c=Z(f,w,!0))&&c.executed)return c.result;throw l("undefinedModule",f);}a(f)||(oa(f),f=c,c=p);if(a(f))if(f.length){for(var p="require*"+t(),e,d=[],u=0;u<f.length;){e=f[u++];if(e in{exports:1,module:1})throw l("illegalModuleId",
e);d.push(Z(e,w))}c=s(ra("",p,0,""),{injected:2,deps:d,def:c||h,require:w?w.require:r});P[c.mid]=c;ia(c);f=Y&&r.async;Y++;fa(c,f);ga();c.executed||U.push(c);da()}else c&&c();return q},za=function(a){if(!a)return r;var f=a.require;if(!f)f=function(c,b,p){return Ia(c,b,p,a,f)},a.require=s(f,r),f.module=a,f.toUrl=function(f){return Ja(f,a)},f.toAbsMid=function(f){return Ca(f,a)},f.syncLoadNls=function(f){var f=ha(f,a),c=P[f.mid];if(!c||!c.executed)if(aa=ba[f.mid]||ba[f.cacheId])sa(aa),c=P[f.mid];return c&&
c.executed&&c.result};return f},U=[],ta=[],W={},Va=function(a){a.injected=1;W[a.mid]=1;a.url&&(W[a.url]=a.pack||1)},ca=function(a){a.injected=2;delete W[a.mid];a.url&&delete W[a.url];e(W)&&(ua(),w=="xd"&&(w="sync"))},Wa=r.idle=function(){return!ta.length&&e(W)&&!U.length&&!Y},Da=function(a,f){for(var c=0;c<f.length;c++)if(f[c][2].test(a))return f[c];return 0},La=function(a){for(var f=[],c,b,a=a.replace(/\\/g,"/").split("/");a.length;)c=a.shift(),c==".."&&f.length&&b!=".."?(f.pop(),b=f[f.length-1]):
c!="."&&f.push(b=c);return f.join("/")},ra=function(a,f,c,b,p){var l=r.isXdUrl(b);return{pid:a,mid:f,pack:c,url:b,executed:0,def:0,isXd:l,isAmd:!!(l||V[a]&&V[a].isAmd),cacheId:p}},Ma=function(a,f,b,p,t,r,w,s){var e,d,u,B=0;u=/^\./.test(a);if(/(^\/)|(\:)|(\.js$)/.test(a)||u&&!f)return ra(0,a,0,a);else{a=La(u?f.mid+"/../"+a:a);if(/^\./.test(a))throw l("irrationalPath",a);if(u=(f=f&&f.pack&&f.pack.mapProg)&&Da(a,f)||Da(a,r)){f=u[1];a=a.substring(u[3]);e=b[f];if(!a)a=e.main;d=a;B=e.reverseName+"/"+a;
a=f+"/"+a}else f="";var h=0;q(N,function(f){var b=a.match(f[0]);b&&b.length>0&&(h=c(f[1])?a.replace(f[0],f[1]):f[1])});if(h)return Ma(h,0,b,p,t,r,w,s);if(b=p[a])return s?ra(b.pid,b.mid,b.pack,b.url,B):p[a]}p=(u=Da(a,w))?u[1]+a.substring(u[3]-1):f?e.location+"/"+d:x("config-tlmSiblingOfDojo")?"../"+a:a;/(^\/)|(\:)/.test(p)||(p=t+p);p+=".js";return ra(f,a,e,La(p),B)},ha=function(a,f){return Ma(a,f,V,P,r.baseUrl,R,O)},Na=function(a,f,c){return a.normalize?a.normalize(f,function(a){return Ca(a,c)}):Ca(f,
c)},Oa=0,Z=function(a,f,c){var b,p;(b=a.match(/^(.+?)\!(.*)$/))?(p=Z(b[1],f,c),w=="sync"&&!p.executed&&(ka(p),p.injected===2&&!p.executed&&(Y++,fa(p),ga()),p.executed?va(p):U.unshift(p)),p.executed===5&&!p.load&&va(p),p.load?(b=Na(p,b[2],f),a=p.mid+"!"+(p.dynamic?++Oa+"!":"")+b):(b=b[2],a=p.mid+"!"+ ++Oa+"!waitingForPlugin"),a={plugin:p,mid:a,req:za(f),prid:b}):a=ha(a,f);return P[a.mid]||!c&&(P[a.mid]=a)},Ca=r.toAbsMid=function(a,f){return ha(a,f).mid},Ja=r.toUrl=function(a,f){var c=ha(a+"/x",f),
b=c.url;return la(c.pid===0?a:b.substring(0,b.length-5))},Pa={injected:2,executed:5,def:3,result:3};X=function(a){return P[a]=s({mid:a},Pa)};var Xa=X("require"),Ya=X("exports"),Za=X("module"),wa={},Ea=0,va=function(a){var f=a.result;a.dynamic=f.dynamic;a.normalize=f.normalize;a.load=f.load;return a},$a=function(a){var f={};q(a.loadQ,function(c){var b=Na(a,c.prid,c.req.module),p=a.dynamic?c.mid.replace(/waitingForPlugin$/,b):a.mid+"!"+b,b=s(s({},c),{mid:p,prid:b,injected:0});P[p]||Qa(P[p]=b);f[c.mid]=
P[p];ca(c);delete P[c.mid]});a.loadQ=0;var c=function(a){for(var c=a.deps||[],b=0;b<c.length;b++)(a=f[c[b].mid])&&(c[b]=a)},b;for(b in P)c(P[b]);q(U,c)},ea=function(a){r.trace("loader-finish-exec",[a.mid]);a.executed=5;a.defOrder=Ea++;q(a.provides,function(a){a()});a.loadQ&&(va(a),$a(a));for(i=0;i<U.length;)U[i]===a?U.splice(i,1):i++},ab=[],fa=function(a,f){if(a.executed===4)return r.trace("loader-circular-dependency",[ab.concat(b).join("->")]),!a.def||f?wa:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return wa;
var b=a.mid,p=a.deps||[],t,w=[],s=0;for(a.executed=4;s<p.length;){t=p[s++];t=t===Xa?za(a):t===Ya?a.cjs.exports:t===Za?a.cjs:fa(t,f);if(t===wa)return a.executed=0,r.trace("loader-exec-module",["abort",b]),wa;w.push(t)}r.trace("loader-run-factory",[a.mid]);var b=a.def,q;B.unshift(a);if(x("config-dojo-loader-catches"))try{q=c(b)?b.apply(null,w):b}catch(e){Q("error",a.result=l("factoryThrew",[a,e]))}else q=c(b)?b.apply(null,w):b;a.result=q===void 0&&a.cjs?a.cjs.exports:q;B.shift(a);ea(a)}return a.result},
Y=0,da=function(){if(!Y){Y++;T();for(var a,f,c=0;c<U.length;)a=Ea,f=U[c],fa(f),a!=Ea?(T(),c=0):c++;ga()}},ga=function(){Y--;Wa()&&Q("idle",[])};x("dojo-loader-eval-hint-url")===void 0&&x.add("dojo-loader-eval-hint-url",1);var la=function(a){a+="";return a+(ya?(/\?/.test(a)?"&":"?")+ya:"")},Qa=function(a){var f=a.plugin;f.executed===5&&!f.load&&va(f);var c=function(f){a.result=f;ca(a);ea(a);da()};f.load?f.load(a.prid,a.req,c):f.loadQ?f.loadQ.push(a):(f.loadQ=[a],U.unshift(f),ka(f))},aa=0,ja=0,Fa=0,
sa=function(a,f){Fa=1;if(x("config-dojo-loader-catches"))try{a===aa?aa.call(null):r.eval(a,x("dojo-loader-eval-hint-url")?f.url:f.mid)}catch(c){Q("error",l("evalModuleThrew",f))}else a===aa?aa.call(null):r.eval(a,x("dojo-loader-eval-hint-url")?f.url:f.mid);Fa=0},ka=function(a){var f=a.mid,c=a.url;if(!a.executed&&!a.injected&&!(W[f]||a.url&&(a.pack&&W[a.url]===a.pack||W[a.url]==1)))if(Va(a),a.plugin)Qa(a);else{var b=function(){Ra(a);a.injected!==2&&(ca(a),s(a,Pa));w?!B.length&&da():da()};if(aa=ba[f]||
ba[a.cacheId])r.trace("loader-inject",["cache",a.mid,c]),sa(aa,a),b();else{if(w)if(a.isXd)w=="sync"&&(w="xd");else if(!(a.isAmd&&w!="sync")){var p=function(p){if(w=="sync"){B.unshift(a);sa(p,a);B.shift();Ra(a);a.cjs||(ca(a),ea(a));if(a.finish){var p=f+"*finish",t=a.finish;delete a.finish;Ga(p,["dojo",("dojo/require!"+t.join(",")).replace(/\./g,"/")],function(a){q(t,function(f){a.require(f)})});U.unshift(Z(p))}b()}else(p=J(a,p))?(sa(p,a),b()):(ja=a,r.injectUrl(la(c),b,a),ja=0)};r.trace("loader-inject",
["xhr",a.mid,c,w!="sync"]);if(x("config-dojo-loader-catches"))try{r.getText(c,w!="sync",p)}catch(t){Q("error",l("xhrInjectFailed",[a,t]))}else r.getText(c,w!="sync",p);return}r.trace("loader-inject",["script",a.mid,c]);ja=a;r.injectUrl(la(c),b,a);ja=0}}},Ha=function(a,f,b){r.trace("loader-define-module",[a.mid,f]);var p=a.mid;if(a.injected===2)return Q("error",l("multipleDefine",a)),a;s(a,{deps:f,def:b,cjs:{id:a.mid,uri:a.url,exports:a.result={},setExports:function(f){a.cjs.exports=f}}});for(var t=
0;t<f.length;t++)f[t]=Z(f[t],a);w&&!W[p]&&(ia(a),U.push(a),da());ca(a);if(!c(b)&&!f.length)a.result=b,ea(a);return a},Ra=function(a,f){for(var c=[],b,p;ta.length;)p=ta.shift(),f&&(p[0]=f.shift()),b=p[0]&&Z(p[0])||a,c.push([b,p[1],p[2]]);na(a);q(c,function(a){ia(Ha.apply(null,a))})},xa=0,ua=h,Sa=h,ua=function(){xa&&clearTimeout(xa);xa=0},Sa=function(){ua();r.waitms&&(xa=setTimeout(function(){ua();Q("error",l("timeout",W))},r.waitms))};x.add("ie-event-behavior",A.attachEvent&&(typeof opera==="undefined"||
opera.toString()!="[object Opera]"));var Ta=function(a,f,c,b){return x("ie-event-behavior")?(a.attachEvent(c,b),function(){a.detachEvent(c,b)}):(a.addEventListener(f,b,!1),function(){a.removeEventListener(f,b,!1)})},bb=Ta(window,"load","onload",function(){r.pageLoaded=1;A.readyState!="complete"&&(A.readyState="complete");bb()}),Ua=A.getElementsByTagName("script")[0],cb=Ua.parentNode;r.injectUrl=function(a,f,c){Sa();var c=c.node=A.createElement("script"),b=Ta(c,"load","onreadystatechange",function(a){var a=
a||window.event,c=a.target||a.srcElement;if(a.type==="load"||/complete|loaded/.test(c.readyState))b(),f&&f()});c.type="text/javascript";c.charset="utf-8";c.src=a;cb.insertBefore(c,Ua);return c};r.log=function(){try{for(var a=0;a<arguments.length;a++);}catch(f){}};r.trace=h;var Ga=function(f,b,p){var t=arguments.length,w=0,s=["require","exports","module"];w||(w=t==1?[0,s,f]:t==2?a(f)?[0,f,b]:c(b)?[f,s,b]:[f,[],b]:[f,b,p]);r.trace("loader-define",w.slice(0,2));if((t=w[0]&&Z(w[0]))&&!W[t.mid])ia(Ha(t,
w[1],w[2]));else if(!x("ie-event-behavior")||Fa)ta.push(w);else{t=t||ja;if(!t)for(f in W)if((s=P[f])&&s.node&&s.node.readyState==="interactive"){t=s;break}t?(na(t),ia(Ha(t,w[1],w[2]))):Q("error",l("ieDefineFailed",w[0]));da()}};Ga.amd={vendor:"dojotoolkit.org"};s(s(r,m.loaderPatch),d.loaderPatch);$("error",function(a){try{if(a instanceof Error)for(var f in a);}catch(c){}});s(r,{uid:t,cache:ba,packs:V});p.define?Q("error",l("defineAlreadyDefined",0)):(p.define=Ga,p.require=r);X=u.deps||d.deps||m.deps;
u=u.callback||d.callback||m.callback;r.boot=X||u?[X||[],u]:0})(this.dojoConfig||this.djConfig||this.require||{},{async:0,hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:"../djeo",main:"Map",name:"djeo"},{location:"../djeo-jenks",name:"djeo-jenks"},{location:"../djeo-demos",name:"djeo-demos"},{location:"../tiles",name:"tiles"},{location:"../put-selector",main:"put",name:"put-selector"},{location:"../xstyle",
main:"css",name:"xstyle"},{location:"../djeo-esri",name:"djeo-esri"},{location:"../djeo-gmaps",name:"djeo-gmaps"},{location:"../dojox",name:"dojox"},{location:"../djeo-ge",name:"djeo-ge"},{location:"../dijit",name:"dijit"},{location:".",name:"dojo"},{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../djeo-leaflet",name:"djeo-leaflet"},{location:"../djeo-ymaps",name:"djeo-ymaps"}]});
require({cache:{"dojo/dom-geometry":function(){define(["./_base/sniff","./_base/window","./dom","./dom-style"],function(d,m,i,o){function h(a,c,b,l,f,t){t=t||"px";a=a.style;if(!isNaN(c))a.left=c+t;if(!isNaN(b))a.top=b+t;if(l>=0)a.width=l+t;if(f>=0)a.height=f+t}function e(a){return a.tagName.toLowerCase()=="button"||a.tagName.toLowerCase()=="input"&&(a.getAttribute("type")||"").toLowerCase()=="button"}function n(a){return c.boxModel=="border-box"||a.tagName.toLowerCase()=="table"||e(a)}var c={boxModel:"content-box"};
if(d("ie"))c.boxModel=document.compatMode=="BackCompat"?"border-box":"content-box";c.getPadExtents=function(a,c){var a=i.byId(a),b=c||o.getComputedStyle(a),l=o.toPixelValue,f=l(a,b.paddingLeft),t=l(a,b.paddingTop),r=l(a,b.paddingRight),b=l(a,b.paddingBottom);return{l:f,t:t,r:r,b:b,w:f+r,h:t+b}};c.getBorderExtents=function(a,c){var a=i.byId(a),b=o.toPixelValue,l=c||o.getComputedStyle(a),f=l.borderLeftStyle!="none"?b(a,l.borderLeftWidth):0,t=l.borderTopStyle!="none"?b(a,l.borderTopWidth):0,r=l.borderRightStyle!=
"none"?b(a,l.borderRightWidth):0,b=l.borderBottomStyle!="none"?b(a,l.borderBottomWidth):0;return{l:f,t:t,r:r,b:b,w:f+r,h:t+b}};c.getPadBorderExtents=function(a,b){var a=i.byId(a),s=b||o.getComputedStyle(a),l=c.getPadExtents(a,s),s=c.getBorderExtents(a,s);return{l:l.l+s.l,t:l.t+s.t,r:l.r+s.r,b:l.b+s.b,w:l.w+s.w,h:l.h+s.h}};c.getMarginExtents=function(a,c){var a=i.byId(a),b=c||o.getComputedStyle(a),l=o.toPixelValue,f=l(a,b.marginLeft),t=l(a,b.marginTop),r=l(a,b.marginRight),l=l(a,b.marginBottom);d("webkit")&&
b.position!="absolute"&&(r=f);return{l:f,t:t,r:r,b:l,w:f+r,h:t+l}};c.getMarginBox=function(a,b){var a=i.byId(a),s=b||o.getComputedStyle(a),l=c.getMarginExtents(a,s),f=a.offsetLeft-l.l,t=a.offsetTop-l.t,r=a.parentNode,p=o.toPixelValue;if(d("mozilla")){var e=parseFloat(s.left),s=parseFloat(s.top);!isNaN(e)&&!isNaN(s)?(f=e,t=s):r&&r.style&&(r=o.getComputedStyle(r),r.overflow!="visible"&&(f+=r.borderLeftStyle!="none"?p(a,r.borderLeftWidth):0,t+=r.borderTopStyle!="none"?p(a,r.borderTopWidth):0))}else if((d("opera")||
d("ie")==8&&!d("quirks"))&&r)r=o.getComputedStyle(r),f-=r.borderLeftStyle!="none"?p(a,r.borderLeftWidth):0,t-=r.borderTopStyle!="none"?p(a,r.borderTopWidth):0;return{l:f,t:t,w:a.offsetWidth+l.w,h:a.offsetHeight+l.h}};c.getContentBox=function(a,b){var a=i.byId(a),e=b||o.getComputedStyle(a),l=a.clientWidth,f=c.getPadExtents(a,e),t=c.getBorderExtents(a,e);l?(e=a.clientHeight,t.w=t.h=0):(l=a.offsetWidth,e=a.offsetHeight);d("opera")&&(f.l+=t.l,f.t+=t.t);return{l:f.l,t:f.t,w:l-f.w-t.w,h:e-f.h-t.h}};c.setContentSize=
function(a,b,e){var a=i.byId(a),l=b.w,b=b.h;n(a)&&(e=c.getPadBorderExtents(a,e),l>=0&&(l+=e.w),b>=0&&(b+=e.h));h(a,NaN,NaN,l,b)};var b={l:0,t:0,w:0,h:0};c.setMarginBox=function(a,q,s){var a=i.byId(a),l=s||o.getComputedStyle(a),s=q.w,f=q.h,t=n(a)?b:c.getPadBorderExtents(a,l),l=c.getMarginExtents(a,l);if(d("webkit")&&e(a)){var r=a.style;if(s>=0&&!r.width)r.width="4px";if(f>=0&&!r.height)r.height="4px"}s>=0&&(s=Math.max(s-t.w-l.w,0));f>=0&&(f=Math.max(f-t.h-l.h,0));h(a,q.l,q.t,s,f)};c.isBodyLtr=function(){return(m.body().dir||
m.doc.documentElement.dir||"ltr").toLowerCase()=="ltr"};c.docScroll=function(){var a=m.doc.parentWindow||m.doc.defaultView;return"pageXOffset"in a?{x:a.pageXOffset,y:a.pageYOffset}:(a=d("quirks")?m.body():m.doc.documentElement,{x:c.fixIeBiDiScrollLeft(a.scrollLeft||0),y:a.scrollTop||0})};c.getIeDocumentElementOffset=function(){var a=m.doc.documentElement;if(d("ie")<8){var c=a.getBoundingClientRect(),b=c.left,c=c.top;d("ie")<7&&(b+=a.clientLeft,c+=a.clientTop);return{x:b<0?0:b,y:c<0?0:c}}else return{x:0,
y:0}};c.fixIeBiDiScrollLeft=function(a){var b=d("ie");if(b&&!c.isBodyLtr()){var e=d("quirks"),l=e?m.body():m.doc.documentElement;b==6&&!e&&m.global.frameElement&&l.scrollHeight>l.clientHeight&&(a+=l.clientLeft);return b<8||e?a+l.clientWidth-l.scrollWidth:-a}return a};c.position=function(a,b){var a=i.byId(a),e=m.body(),l=e.parentNode,f=a.getBoundingClientRect(),f={x:f.left,y:f.top,w:f.right-f.left,h:f.bottom-f.top};if(d("ie"))l=c.getIeDocumentElementOffset(),f.x-=l.x+(d("quirks")?e.clientLeft+e.offsetLeft:
0),f.y-=l.y+(d("quirks")?e.clientTop+e.offsetTop:0);else if(d("ff")==3){var e=o.getComputedStyle(l),t=o.toPixelValue;f.x-=t(l,e.marginLeft)+t(l,e.borderLeftWidth);f.y-=t(l,e.marginTop)+t(l,e.borderTopWidth)}b&&(l=c.docScroll(),f.x+=l.x,f.y+=l.y);return f};c.getMarginSize=function(a,b){var a=i.byId(a),e=c.getMarginExtents(a,b||o.getComputedStyle(a)),l=a.getBoundingClientRect();return{w:l.right-l.left+e.w,h:l.bottom-l.top+e.h}};c.normalizeEvent=function(a){if(!("layerX"in a))a.layerX=a.offsetX,a.layerY=
a.offsetY;if(!d("dom-addeventlistener")){var b=a.target,b=b&&b.ownerDocument||document,b=d("quirks")?b.body:b.documentElement,e=c.getIeDocumentElementOffset();a.pageX=a.clientX+c.fixIeBiDiScrollLeft(b.scrollLeft||0)-e.x;a.pageY=a.clientY+(b.scrollTop||0)-e.y}};return c})},"dojo/_base/html":function(){define(["./kernel","../dom","../dom-style","../dom-attr","../dom-prop","../dom-class","../dom-construct","../dom-geometry"],function(d,m,i,o,h,e,n,c){d.byId=m.byId;d.isDescendant=m.isDescendant;d.setSelectable=
m.setSelectable;d.getAttr=o.get;d.setAttr=o.set;d.hasAttr=o.has;d.removeAttr=o.remove;d.getNodeProp=o.getNodeProp;d.attr=function(c,a,e){if(arguments.length==2)return o[typeof a=="string"?"get":"set"](c,a);return o.set(c,a,e)};d.hasClass=e.contains;d.addClass=e.add;d.removeClass=e.remove;d.toggleClass=e.toggle;d.replaceClass=e.replace;d._toDom=d.toDom=n.toDom;d.place=n.place;d.create=n.create;d.empty=function(c){n.empty(c)};d._destroyElement=d.destroy=function(c){n.destroy(c)};d._getPadExtents=d.getPadExtents=
c.getPadExtents;d._getBorderExtents=d.getBorderExtents=c.getBorderExtents;d._getPadBorderExtents=d.getPadBorderExtents=c.getPadBorderExtents;d._getMarginExtents=d.getMarginExtents=c.getMarginExtents;d._getMarginSize=d.getMarginSize=c.getMarginSize;d._getMarginBox=d.getMarginBox=c.getMarginBox;d.setMarginBox=c.setMarginBox;d._getContentBox=d.getContentBox=c.getContentBox;d.setContentSize=c.setContentSize;d._isBodyLtr=d.isBodyLtr=c.isBodyLtr;d._docScroll=d.docScroll=c.docScroll;d._getIeDocumentElementOffset=
d.getIeDocumentElementOffset=c.getIeDocumentElementOffset;d._fixIeBiDiScrollLeft=d.fixIeBiDiScrollLeft=c.fixIeBiDiScrollLeft;d.position=c.position;d.marginBox=function(b,a){return a?c.setMarginBox(b,a):c.getMarginBox(b)};d.contentBox=function(b,a){return a?c.setContentSize(b,a):c.getContentBox(b)};d.coords=function(b,a){d.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");var b=m.byId(b),e=i.getComputedStyle(b),e=c.getMarginBox(b,e),s=c.position(b,a);e.x=s.x;e.y=s.y;return e};
d.getProp=h.get;d.setProp=h.set;d.prop=function(c,a,e){if(arguments.length==2)return h[typeof a=="string"?"get":"set"](c,a);return h.set(c,a,e)};d.getStyle=i.get;d.setStyle=i.set;d.getComputedStyle=i.getComputedStyle;d.__toPixelValue=d.toPixelValue=i.toPixelValue;d.style=function(c,a,e){switch(arguments.length){case 1:return i.get(c);case 2:return i[typeof a=="string"?"get":"set"](c,a)}return i.set(c,a,e)};return d})},"dojo/_base/array":function(){define("dojo/_base/array",["./kernel","../has","./lang"],
function(d,m,i){function o(a){return n[a]=new Function("item","index","array",a)}function h(a){var c=!a;return function(b,l,f){var t=0,r=b&&b.length||0,p;r&&typeof b=="string"&&(b=b.split(""));typeof l=="string"&&(l=n[l]||o(l));if(f)for(;t<r;++t){if(p=!l.call(f,b[t],t,b),a^p)return!p}else for(;t<r;++t)if(p=!l(b[t],t,b),a^p)return!p;return c}}function e(a){var e=1,d=0,l=0;a||(e=d=l=-1);return function(f,t,r,p){if(p&&e>0)return b.lastIndexOf(f,t,r);var p=f&&f.length||0,h=a?p+l:d;r===c?r=a?d:p+l:r<0?
(r=p+r,r<0&&(r=d)):r=r>=p?p+l:r;for(p&&typeof f=="string"&&(f=f.split(""));r!=h;r+=e)if(f[r]==t)return r;return-1}}var n={},c,b;b={every:h(!1),some:h(!0),indexOf:e(!0),lastIndexOf:e(!1),forEach:function(a,c,b){var l=0,f=a&&a.length||0;f&&typeof a=="string"&&(a=a.split(""));typeof c=="string"&&(c=n[c]||o(c));if(b)for(;l<f;++l)c.call(b,a[l],l,a);else for(;l<f;++l)c(a[l],l,a)},map:function(a,c,b,l){var f=0,t=a&&a.length||0,l=new (l||Array)(t);t&&typeof a=="string"&&(a=a.split(""));typeof c=="string"&&
(c=n[c]||o(c));if(b)for(;f<t;++f)l[f]=c.call(b,a[f],f,a);else for(;f<t;++f)l[f]=c(a[f],f,a);return l},filter:function(a,c,b){var l=0,f=a&&a.length||0,t=[],e;f&&typeof a=="string"&&(a=a.split(""));typeof c=="string"&&(c=n[c]||o(c));if(b)for(;l<f;++l)e=a[l],c.call(b,e,l,a)&&t.push(e);else for(;l<f;++l)e=a[l],c(e,l,a)&&t.push(e);return t},clearCache:function(){n={}}};i.mixin(d,b);return b})},"dojo/_base/Deferred":function(){define("dojo/_base/Deferred",["./kernel","./lang"],function(d,m){var i=function(){},
o=Object.freeze||function(){};d.Deferred=function(h){function e(a){if(b)throw Error("This deferred has already been resolved");c=a;b=!0;n()}function n(){for(var f;!f&&s;){var l=s;s=s.next;if(f=l.progress==i)b=!1;var p=a?l.error:l.resolved;if(p)try{var e=p(c);e&&typeof e.then==="function"?e.then(m.hitch(l.deferred,"resolve"),m.hitch(l.deferred,"reject"),m.hitch(l.deferred,"progress")):(p=f&&e===void 0,f&&!p&&(a=e instanceof Error),l.deferred[p&&a?"reject":"resolve"](p?c:e))}catch(d){l.deferred.reject(d)}else a?
l.deferred.reject(c):l.deferred.resolve(c)}}var c,b,a,q,s,l=this.promise={};this.resolve=this.callback=function(a){this.fired=0;this.results=[a,null];e(a)};this.reject=this.errback=function(f){a=!0;this.fired=1;e(f);this.results=[null,f];if(!f||f.log!==!1)(d.config.deferredOnError||function(){})(f)};this.progress=function(a){for(var f=s;f;){var c=f.progress;c&&c(a);f=f.next}};this.addCallbacks=function(a,f){this.then(a,f,i);return this};l.then=this.then=function(a,f,c){var e=c==i?this:new d.Deferred(l.cancel),
a={resolved:a,error:f,progress:c,deferred:e};s?q=q.next=a:s=q=a;b&&n();return e.promise};var f=this;l.cancel=this.cancel=function(){if(!b){var a=h&&h(f);if(!b)a instanceof Error||(a=Error(a)),a.log=!1,f.reject(a)}};o(l)};m.extend(d.Deferred,{addCallback:function(){return this.addCallbacks(m.hitch.apply(d,arguments))},addErrback:function(){return this.addCallbacks(null,m.hitch.apply(d,arguments))},addBoth:function(){var h=m.hitch.apply(d,arguments);return this.addCallbacks(h,h)},fired:-1});d.Deferred.when=
d.when=function(d,e,n,c){if(d&&typeof d.then==="function")return d.then(e,n,c);return e?e(d):d};return d.Deferred})},"djeo/util/_base":function(){define("djeo/util/_base",["dojo/has"],function(){var d={},m=0;d.earthRadius=6378137;var i=window.location,i=i.protocol+"//"+i.host+i.pathname;d.baseUrl=i.substring(0,i.lastIndexOf("/")+1);d.uid=function(){m+=1;return m};d.degToRad=function(d){return Math.PI*d/180};d.radToDeg=function(d){return d/Math.PI*180};d.isRelativeUrl=function(d){return d.substr(0,
4)=="http"?!1:!0};return d})},"djeo/FeatureContainer":function(){define("djeo/FeatureContainer",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","./_base","./Feature","./util/_base","./util/bbox"],function(d,m,i,o,h,e,n){d=d([h],{type:"FeatureContainer",isContainer:!0,features:null,handles:null,numVisibleFeatures:0,constructor:function(){if(this.features){var c=this.features;this.features=[];this.addFeatures(c,!0,!0)}else this.features=[];this.handles={}},show:function(c){c===void 0&&(c=
!0);this.features.length==0&&this.parent._show(this,c,!0);i.forEach(this.features,function(b){b.show(c)},this);if(this.visible!=c)this.visible=c},_show:function(c,b,a){if(b){this.numVisibleFeatures++;if(!this.visible)this.visible=!0;this.numVisibleFeatures==1&&this.parent._show(this,!0,!0)}else this.numVisibleFeatures--,this.numVisibleFeatures==0&&this.parent._show(this,!1,!0);a||c._show(b)},addFeatures:function(c,b,a){m.isArray(c)||(c=[c]);var e=[];i.forEach(c,function(a){if(a.declaredClass)a.setMap(this.map),
a.setParent(this),this.features.push(a);else{var c=o.featureTypes[a.type?a.type:a.features?"FeatureContainer":"Placemark"];c&&(a=new c(a,{map:this.map,parent:this}),this.features.push(a))}a.declaredClass&&(a.setMap(this.map),a.setParent(this),this.map.registerFeature(a),e.push(a))},this);a||(this.map.renderFeatures(e),b||i.forEach(e,function(a){for(var c in this.handles){var f=this.handles[c];if(f.keys)for(var b in f.keys)a.onForHandle(c,{events:f.events,method:f.method,context:f.context,key:b,value:f.keys[b]});
else a.onForHandle(c,{events:f.events,method:f.method,context:f.context})}},this));return e},removeFeatures:function(c){m.isArray(c)||(c=[c]);i.forEach(c,function(c){(c=c.declaredClass?c:this.map.getFeatureById(c))&&c.remove()},this);return[]},remove:function(){this.removeFeatures(this.features)},getBbox:function(){if(this.features.length==0)return null;var c=[Infinity,Infinity,-Infinity,-Infinity];i.forEach(this.features,function(b){n.extend(c,b.getBbox())},this);return c},render:function(c,b){return this.map.engine.renderContainer(this,
c,b)},_render:function(c,b){return this.map.engine._renderContainer(this,c,b)},getContainer:function(){if(!this.container)this.container=this.map.engine.createContainer(this);return this.container},onForHandle:function(c,b){if(!this.features.length)return c;if(b.events)b.events=m.isString(b.events)?[b.events]:b.events;c=c||e.uid();i.forEach(this.features,function(a){a.onForHandle(c,b)});var a=this.handles,d=a[c];d||(d={events:b.events,method:b.method,context:b.context},a[c]=d);if(a=b.key){if(!d.keys)d.keys=
{};d.keys[a]=b.value}return c},disconnect:function(c,b,a){var e=!0;i.forEach(this.features,function(l){l.disconnect(c,b,a);a&&l.handles[c]&&(e=!1)});if(e)delete this.handles[c];else{var d=this.handles[c];d&&d.keys&&delete d.keys[b]}}});o.featureTypes.FeatureContainer=d;return o.featureTypes.FeatureCollection=d})},"djeo/control/Highlight":function(){define("djeo/control/Highlight",["dojo/_base/declare","../_base","./_PointerBase"],function(d,m,i){m.registerDependency("Highlight");return d([i],{constructor:function(){this.enabled&&
this.enable()},pointeroverAction:function(d,h){h&&h.set("state",null);d.set("state","highlight")},pointeroutAction:function(d){d.set("state",null)}})})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./ready","./_base/sniff","./_base/window"],function(d,m,i,o,h){var e=h.doc.documentElement,n=o("ie"),c=o("opera"),b=Math.floor,a=o("ff"),h=d.boxModel.replace(/-/,""),n={dj_ie:n,dj_ie6:b(n)==6,dj_ie7:b(n)==7,dj_ie8:b(n)==8,dj_ie9:b(n)==9,dj_quirks:o("quirks"),dj_iequirks:n&&o("quirks"),
dj_opera:c,dj_khtml:o("khtml"),dj_webkit:o("webkit"),dj_safari:o("safari"),dj_chrome:o("chrome"),dj_gecko:o("mozilla"),dj_ff3:b(a)==3};n["dj_"+h]=!0;var q="",s;for(s in n)n[s]&&(q+=s+" ");e.className=m.trim(e.className+" "+q);i(90,function(){if(!d.isBodyLtr()){var a="dj_rtl dijitRtl "+q.replace(/ /g,"-rtl ");e.className=m.trim(e.className+" "+a+"dj_rtl dijitRtl "+q.replace(/ /g,"-rtl "))}});return o})},"dojo/dom":function(){define(["./_base/sniff","./_base/lang","./_base/window"],function(d,m,i){try{document.execCommand("BackgroundImageCache",
!1,!0)}catch(o){}var h={};h.byId=d("ie")?function(e,d){if(typeof e!="string")return e;var c=d||i.doc,b=e&&c.getElementById(e);if(b&&(b.attributes.id.value==e||b.id==e))return b;else{c=c.all[e];if(!c||c.nodeName)c=[c];for(var a=0;b=c[a++];)if(b.attributes&&b.attributes.id&&b.attributes.id.value==e||b.id==e)return b}}:function(e,d){return(typeof e=="string"?(d||i.doc).getElementById(e):e)||null};h.isDescendant=function(e,d){try{e=h.byId(e);for(d=h.byId(d);e;){if(e==d)return!0;e=e.parentNode}}catch(c){}return!1};
h.setSelectable=function(e,n){e=h.byId(e);if(d("mozilla"))e.style.MozUserSelect=n?"":"none";else if(d("khtml")||d("webkit"))e.style.KhtmlUserSelect=n?"auto":"none";else if(d("ie"))for(var c=e.unselectable=n?"":"on",b=e.getElementsByTagName("*"),a=0,q=b.length;a<q;++a)b.item(a).unselectable=c};return h})},"dojo/text":function(){define(["./_base/kernel","require","./has","./_base/xhr"],function(d,m,i,o){var h;h=function(a,c,b){o("GET",{url:a,sync:!!c,load:b})};var e={},n=function(a){if(a){var a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,
""),c=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);c&&(a=c[1])}else a="";return a},c={},b={};d.cache=function(a,c,b){var l;typeof a=="string"?/\//.test(a)?(l=a,b=c):l=m.toUrl(a.replace(/\./g,"/")+(c?"/"+c:"")):(l=a+"",b=c);a=b!=void 0&&typeof b!="string"?b.value:b;b=b&&b.sanitize;return typeof a=="string"?(e[l]=a,b?n(a):a):a===null?(delete e[l],null):(l in e||h(l,!0,function(a){e[l]=a}),b?n(e[l]):e[l])};return{dynamic:!0,normalize:function(a,c){var b=a.split("!"),l=b[0];return(/^\./.test(l)?c(l):
l)+(b[1]?"!"+b[1]:"")},load:function(a,d,s){var a=a.split("!"),l=a.length>1,f=a[0],t=d.toUrl(a[0]),a=c,r=function(a){s(l?n(a):a)};f in e?a=e[f]:t in d.cache?a=d.cache[t]:t in e&&(a=e[t]);if(a===c)if(b[t])b[t].push(r);else{var p=b[t]=[r];h(t,!d.async,function(a){e[f]=e[t]=a;for(var c=0;c<p.length;)p[c++](a);delete b[t]})}else r(a)}}})},"dojo/dom-style":function(){define(["./_base/sniff","./dom"],function(d,m){function i(c,b,l){b=b.toLowerCase();if(d("ie")){if(l=="auto"){if(b=="height")return c.offsetHeight;
if(b=="width")return c.offsetWidth}if(b=="fontweight")switch(l){case 700:return"bold";default:return"normal"}}b in a||(a[b]=q.test(b));return a[b]?e(c,l):l}var o,h={};o=d("webkit")?function(a){var c;if(a.nodeType==1){var b=a.ownerDocument.defaultView;c=b.getComputedStyle(a,null);if(!c&&a.style)a.style.display="",c=b.getComputedStyle(a,null)}return c||{}}:d("ie")&&(d("ie")<9||d("quirks"))?function(a){return a.nodeType==1?a.currentStyle:{}}:function(a){return a.nodeType==1?a.ownerDocument.defaultView.getComputedStyle(a,
null):{}};h.getComputedStyle=o;var e;e=d("ie")?function(a,c){if(!c)return 0;if(c=="medium")return 4;if(c.slice&&c.slice(-2)=="px")return parseFloat(c);var b=a.style,p=a.runtimeStyle,l=b.left,e=p.left;p.left=a.currentStyle.left;try{b.left=c,c=b.pixelLeft}catch(d){c=0}b.left=l;p.left=e;return c}:function(a,c){return parseFloat(c)||0};h.toPixelValue=e;var n=function(a,c){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(b){return c?{}:null}},c=d("ie")<9||d("ie")&&d("quirks")?function(a){try{return n(a).Opacity/
100}catch(c){return 1}}:function(a){return o(a).opacity},b=d("ie")<9||d("ie")&&d("quirks")?function(a,c){var l=c*100,p=c==1;a.style.zoom=p?"":1;if(n(a))n(a,1).Opacity=l;else{if(p)return c;a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity="+l+")"}n(a,1).Enabled=!p;if(a.tagName.toLowerCase()=="tr")for(l=a.firstChild;l;l=l.nextSibling)l.tagName.toLowerCase()=="td"&&b(l,c);return c}:function(a,c){return a.style.opacity=c},a={left:!0,top:!0},q=/margin|padding|width|height|max|min|offset/,
s=d("ie")?"styleFloat":"cssFloat",l={cssFloat:s,styleFloat:s,"float":s};h.get=function(a,b){var e=m.byId(a),p=arguments.length;if(p==2&&b=="opacity")return c(e);var b=l[b]||b,d=h.getComputedStyle(e);return p==1?d:i(e,b,d[b]||e.style[b])};h.set=function(a,c,e){var p=m.byId(a),d=arguments.length,s=c=="opacity",c=l[c]||c;if(d==3)return s?b(p,e):p.style[c]=e;for(var q in c)h.set(a,q,c[q]);return h.getComputedStyle(p)};return h})},"dijit/hccss":function(){define("dijit/hccss",["require","dojo/_base/config",
"dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/ready","dojo/_base/sniff","dojo/_base/window"],function(d,m,i,o,h,e,n,c){(n("ie")||n("mozilla"))&&e(90,function(){var b=o.create("div",{id:"a11yTestNode",style:{cssText:'border: 1px solid;border-color:red green;position: absolute;height: 5px;top: -999px;background-image: url("'+(m.blankGif||d.toUrl("dojo/resources/blank.gif"))+'");'}},c.body()),a=h.getComputedStyle(b);if(a){var e=a.backgroundImage;(a.borderTopColor==a.borderRightColor||
e!=null&&(e=="none"||e=="url(invalid-url:)"))&&i.add(c.body(),"dijit_a11y");n("ie")?b.outerHTML="":c.body().removeChild(b)}})})},"dijit/_Contained":function(){define("dijit/_Contained",["dojo/_base/declare","./registry"],function(d,m){return d("dijit._Contained",null,{_getSibling:function(d){var o=this.domNode;do o=o[d+"Sibling"];while(o&&o.nodeType!=1);return o&&m.byNode(o)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},
getIndexInParent:function(){var d=this.getParent();if(!d||!d.getIndexOfChild)return-1;return d.getIndexOfChild(this)}})})},"dojo/dom-form":function(){define("dojo/dom-form",["./_base/lang","./dom","./io-query","./json"],function(d,m,i,o){var h={fieldToObject:function(e){var d=null;if(e=m.byId(e)){var c=e.name,b=(e.type||"").toLowerCase();if(c&&b&&!e.disabled)if(b=="radio"||b=="checkbox"){if(e.checked)d=e.value}else if(e.multiple){d=[];for(e=[e.firstChild];e.length;)for(c=e.pop();c;c=c.nextSibling)if(c.nodeType==
1&&c.tagName.toLowerCase()=="option")c.selected&&d.push(c.value);else{c.nextSibling&&e.push(c.nextSibling);c.firstChild&&e.push(c.firstChild);break}}else d=e.value}return d},toObject:function(e){for(var n={},e=m.byId(e).elements,c=0,b=e.length;c<b;++c){var a=e[c],q=a.name,s=(a.type||"").toLowerCase();if(q&&s&&"file|submit|image|reset|button".indexOf(s)<0&&!a.disabled){var l=n,f=q,a=h.fieldToObject(a);if(a!==null){var t=l[f];typeof t=="string"?l[f]=[t,a]:d.isArray(t)?t.push(a):l[f]=a}if(s=="image")n[q+
".x"]=n[q+".y"]=n[q].x=n[q].y=0}}return n},toQuery:function(e){return i.objectToQuery(h.toObject(e))},toJson:function(e,d){return o.stringify(h.toObject(e),null,d?4:0)}};return h})},"djeo/dojox/gfx/renderer":function(){define("djeo/dojox/gfx/renderer",["./_base","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/_base/config"],function(d,m,i,o,h){var e=null;return{load:function(n,c,b){function a(){c(["./gfx/"+q],function(a){d.renderer=q;e=a;b(a)})}if(e&&n!="force")b(e);else{for(var q=
h.forceGfxRenderer,n=!q&&(m.isString(h.gfxRenderer)?h.gfxRenderer:"svg,vml,canvas,silverlight").split(","),s,l;!q&&n.length;)switch(n.shift()){case "svg":"SVGAngle"in o.global&&(q="svg");break;case "vml":i("ie")&&(q="vml");break;case "silverlight":try{i("ie")?(s=new ActiveXObject("AgControl.AgControl"))&&s.IsVersionSupported("1.0")&&(l=!0):navigator.plugins["Silverlight Plug-In"]&&(l=!0)}catch(f){l=!1}finally{s=null}l&&(q="silverlight");break;case "canvas":o.global.CanvasRenderingContext2D&&(q="canvas")}q===
"canvas"&&h.canvasEvents!==!1&&(q="canvasWithEvents");q=="svg"&&typeof window.svgweb!="undefined"?window.svgweb.addOnLoad(a):a()}}}})},"dojo/parser":function(){define(["./_base/kernel","./_base/lang","./_base/array","./_base/html","./_base/window","./_base/url","./_base/json","./aspect","./date/stamp","./query","./on","./ready"],function(d,m,i,o,h,e,n,c,b,a,q){var s={"dom-attributes-explicit":document.createElement("div").attributes.length<40};d.parser=new function(){function l(a){var c={},b;for(b in a)b.charAt(0)!=
"_"&&(c[b.toLowerCase()]=b);return c}var f={};c.after(m,"extend",function(){f={}},!0);var e={};this._functionFromScript=function(a,c){var b="",f="",l=a.getAttribute(c+"args")||a.getAttribute("args");l&&i.forEach(l.split(/\s*,\s*/),function(a,c){b+="var "+a+" = arguments["+c+"]; "});(l=a.getAttribute("with"))&&l.length&&i.forEach(l.split(/\s*,\s*/),function(a){b+="with("+a+"){";f+="}"});return new Function(b+a.innerHTML+f)};this.instantiate=function(r,p,h){var z=[],p=p||{},h=h||{},x=(h.scope||d._scopeName)+
"Type",y="data-"+(h.scope||d._scopeName)+"-",u=y+"type",w={};i.forEach([y+"props",u,x,y+"id","jsId",y+"attach-point",y+"attach-event","dojoAttachPoint","dojoAttachEvent","class","style"],function(a){w[a.toLowerCase()]=a.replace(h.scope,"dojo")});i.forEach(r,function(r){var t;if(r){var I=r.node||r,o=x in p?p[x]:r.node?r.type:I.getAttribute(u)||I.getAttribute(x),J=e[o]||(e[o]=m.getObject(o)),H=J&&J.prototype;if(!J)throw Error("Could not load class '"+o);var F={};h.defaults&&m.mixin(F,h.defaults);r.inherited&&
m.mixin(F,r.inherited);var D;if(s["dom-attributes-explicit"])D=I.attributes;else{var C=(/^input$|^img$/i.test(I.nodeName)?I:I.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*/,"").replace(/>.*$/,"");D=i.map(C.split(/\s+/),function(a){var c=a.toLowerCase();return{name:a,value:I.nodeName=="LI"&&a=="value"||c=="enctype"?I.getAttribute(c):I.getAttributeNode(c).value,specified:!0}})}for(var C=0,E;E=D[C++];)if(E&&E.specified){var G=E.name,K=G.toLowerCase();
E=E.value;if(K in w)switch(w[K]){case "data-dojo-props":var M=E;break;case "data-dojo-id":case "jsId":var Q=E;break;case "data-dojo-attach-point":case "dojoAttachPoint":F.dojoAttachPoint=E;break;case "data-dojo-attach-event":case "dojoAttachEvent":F.dojoAttachEvent=E;break;case "class":F["class"]=I.className;break;case "style":F.style=I.style&&I.style.cssText}else if(G in H||(G=(f[o]||(f[o]=l(H)))[K]||G),G in H)switch(typeof H[G]){case "string":F[G]=E;break;case "number":F[G]=E.length?Number(E):NaN;
break;case "boolean":F[G]=E.toLowerCase()!="false";break;case "function":F[G]=E===""||E.search(/[^\w\.]+/i)!=-1?new Function(E):m.getObject(E,!1)||new Function(E);break;default:K=H[G],F[G]=K&&"length"in K?E?E.split(/\s*,\s*/):[]:K instanceof Date?E==""?new Date(""):E=="now"?new Date:b.fromISOString(E):K instanceof d._Url?d.baseUrl+E:n.fromJson(E)}else F[G]=E}if(M)try{M=n.fromJson.call(h.propsThis,"{"+M+"}"),m.mixin(F,M)}catch($){throw Error($.toString()+" in data-dojo-props='"+M+"'");}m.mixin(F,p);
K=r.node?r.scripts:J&&(J._noScript||H._noScript)?[]:a("> script[type^='dojo/']",I);r=[];M=[];D=[];G=[];if(K)for(C=0;C<K.length;C++){var N=K[C];I.removeChild(N);E=N.getAttribute(y+"event")||N.getAttribute("event");var S=N.getAttribute(y+"prop"),o=N.getAttribute("type"),N=this._functionFromScript(N,y);E?o=="dojo/connect"?r.push({event:E,func:N}):o=="dojo/on"?G.push({event:E,func:N}):F[E]=N:o=="dojo/watch"?D.push({prop:S,func:N}):M.push(N)}t=(o=J.markupFactory||H.markupFactory)?o(F,I,J):new J(F,I),J=
t;z.push(J);Q&&m.setObject(Q,J);for(C=0;C<r.length;C++)c.after(J,r[C].event,d.hitch(J,r[C].func),!0);for(C=0;C<M.length;C++)M[C].call(J);for(C=0;C<D.length;C++)J.watch(D[C].prop,D[C].func);for(C=0;C<G.length;C++)q(J,G[C].event,G[C].func)}},this);p._started||i.forEach(z,function(a){!h.noStart&&a&&m.isFunction(a.startup)&&!a._started&&a.startup()});return z};this.parse=function(a,c){function b(a){if(!a.inherited){a.inherited={};var c=a.node,f=b(a.parent),c={dir:c.getAttribute("dir")||f.dir,lang:c.getAttribute("lang")||
f.lang,textDir:c.getAttribute(w)||f.textDir},p;for(p in c)c[p]&&(a.inherited[p]=c[p])}return a.inherited}var f;!c&&a&&a.rootNode?(c=a,f=c.rootNode):f=a;f=f?o.byId(f):h.body();var c=c||{},l=(c.scope||d._scopeName)+"Type",s="data-"+(c.scope||d._scopeName)+"-",u=s+"type",w=s+"textdir",s=[],B=f.firstChild,q=c&&c.inherited;if(!q){var n=function(a,c){return a.getAttribute&&a.getAttribute(c)||(a!==h.doc&&a!==h.doc.documentElement&&a.parentNode?n(a.parentNode,c):null)},q={dir:n(f,"dir"),lang:n(f,"lang"),
textDir:n(f,w)},i;for(i in q)q[i]||delete q[i]}for(var q={inherited:q},H,F;;)if(B)B.nodeType!=1?B=B.nextSibling:H&&B.nodeName.toLowerCase()=="script"?((f=B.getAttribute("type"))&&/^dojo\/\w/i.test(f)&&H.push(B),B=B.nextSibling):F?B=B.nextSibling:(f=B.getAttribute(u)||B.getAttribute(l),i=B.firstChild,!f&&(!i||i.nodeType==3&&!i.nextSibling)?B=B.nextSibling:(q={node:B,scripts:H,parent:q},H=(F=f&&(e[f]||(e[f]=m.getObject(f))))&&!F.prototype._noScript?[]:null,f&&s.push({type:f,node:B,scripts:H,inherited:b(q)}),
B=i,F=F&&F.prototype.stopParser&&!(c&&c.template)));else{if(!q||!q.node)break;B=q.node.nextSibling;H=q.scripts;F=!1;q=q.parent}return this.instantiate(s,c&&c.template?{template:!0}:null,c)}};d.config.parseOnLoad&&d.ready(100,d.parser,"parse");return d.parser})},"dijit/_Container":function(){define("dijit/_Container",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","./registry"],function(d,m,i,o){return m("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode)this.containerNode=
this.domNode},addChild:function(d,e){var n=this.containerNode;if(e&&typeof e=="number"){var c=this.getChildren();if(c&&c.length>=e)n=c[e-1].domNode,e="after"}i.place(d.domNode,n,e);this._started&&!d._started&&d.startup()},removeChild:function(d){typeof d=="number"&&(d=this.getChildren()[d]);if(d)(d=d.domNode)&&d.parentNode&&d.parentNode.removeChild(d)},hasChildren:function(){return this.getChildren().length>0},_getSiblingOfChild:function(d,e){var n=d.domNode,c=e>0?"nextSibling":"previousSibling";
do n=n[c];while(n&&(n.nodeType!=1||!o.byNode(n)));return n&&o.byNode(n)},getIndexOfChild:function(h){return d.indexOf(this.getChildren(),h)}})})},"dojo/aspect":function(){define([],function(){function d(d,h,e,n){var c=d[h],b=h=="around",a;if(b){var q=e(function(){return c.advice(this,arguments)});a={remove:function(){a.cancelled=!0},advice:function(b,l){return a.cancelled?c.advice(b,l):q.apply(b,l)}}}else a={remove:function(){var c=a.previous,b=a.next;if(!b&&!c)delete d[h];else if(c?c.next=b:d[h]=
b,b)b.previous=c},id:i++,advice:e,receiveArguments:n};if(c&&!b)if(h=="after"){for(e=c;e;)c=e,e=e.next;c.next=a;a.previous=c}else{if(h=="before")d[h]=a,a.next=c,c.previous=a}else d[h]=a;return a}function m(o){return function(h,e,n,c){var b=h[e],a;if(!b||b.target!=h){h[e]=a=function(){for(var c=i,b=arguments,l=a.before;l;)b=l.advice.apply(this,b)||b,l=l.next;if(a.around)var f=a.around.advice(this,b);for(l=a.after;l&&l.id<c;)f=l.receiveArguments?l.advice.apply(this,b)||f:l.advice.call(this,f),l=l.next;
return f};if(b)a.around={advice:function(a,c){return b.apply(a,c)}};a.target=h}h=d(a||b,o,n,c);n=null;return h}}var i=0;return{before:m("before"),around:m("around"),after:m("after")}})},"dojo/topic":function(){define(["./Evented"],function(d){var m=new d;return{publish:function(){return m.emit.apply(m,arguments)},subscribe:function(){return m.on.apply(m,arguments)}}})},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(d,m){d.cookie=function(d,o,h){var e=document.cookie,n;if(arguments.length==
1)n=(n=e.match(RegExp("(?:^|; )"+m.escapeString(d)+"=([^;]*)")))?decodeURIComponent(n[1]):void 0;else{h=h||{};e=h.expires;if(typeof e=="number"){var c=new Date;c.setTime(c.getTime()+e*864E5);e=h.expires=c}if(e&&e.toUTCString)h.expires=e.toUTCString();var o=encodeURIComponent(o),e=d+"="+o,b;for(b in h)e+="; "+b,c=h[b],c!==!0&&(e+="="+c);document.cookie=e}return n};d.cookie.isSupported=function(){if(!("cookieEnabled"in navigator))this("__djCookieTest__","CookiesAllowed"),navigator.cookieEnabled=this("__djCookieTest__")==
"CookiesAllowed",navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1});return navigator.cookieEnabled};return d.cookie})},"dijit/layout/_LayoutWidget":function(){define("dijit/layout/_LayoutWidget",["dojo/_base/lang","../_Widget","../_Container","../_Contained","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/sniff","dojo/_base/window"],function(d,m,i,o,h,e,n,c,b,a){return h("dijit.layout._LayoutWidget",[m,i,o],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,
buildRendering:function(){this.inherited(arguments);e.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var c=this.getParent&&this.getParent();if(!c||!c.isLayoutContainer)this.resize(),this.connect(a.global,"onresize",function(){this.resize()})}},resize:function(a,b){var l=this.domNode;a&&n.setMarginBox(l,a);var f=b||{};d.mixin(f,a||{});if(!("h"in f)||!("w"in f))f=d.mixin(n.getMarginBox(l),f);var e=c.getComputedStyle(l),r=n.getMarginExtents(l,e),p=
n.getBorderExtents(l,e),f=this._borderBox={w:f.w-(r.w+p.w),h:f.h-(r.h+p.h)},r=n.getPadExtents(l,e);this._contentBox={l:c.toPixelValue(l,e.paddingLeft),t:c.toPixelValue(l,e.paddingTop),w:f.w-r.w,h:f.h-r.h};this.layout()},layout:function(){},_setupChild:function(a){e.add(a.domNode,this.baseClass+"-child "+(a.baseClass?this.baseClass+"-"+a.baseClass:""))},addChild:function(a){this.inherited(arguments);this._started&&this._setupChild(a)},removeChild:function(a){e.remove(a.domNode,this.baseClass+"-child"+
(a.baseClass?" "+this.baseClass+"-"+a.baseClass:""));this.inherited(arguments)}})})},"dojo/_base/connect":function(){define(["./kernel","../on","../topic","../aspect","./event","../mouse","./sniff","./lang","../keys"],function(d,m,i,o,h,e,n,c){function b(a,b,l,t,h){t=c.hitch(l,t);if(!a||!a.addEventListener&&!a.attachEvent)return o.after(a||d.global,b,t,!0);typeof b=="string"&&b.substring(0,2)=="on"&&(b=b.substring(2));if(!a)a=d.global;if(!h)switch(b){case "keypress":b=f;break;case "mouseenter":b=
e.enter;break;case "mouseleave":b=e.leave}return m(a,b,t,h)}function a(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}n.add("events-keypress-typed",function(){var a={charCode:0};try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(c){}return a.charCode==0&&!n("opera")});var q={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},
s=n("mac")?"metaKey":"ctrlKey",l=function(b,f){var l=c.mixin({},b,f);a(l);l.preventDefault=function(){b.preventDefault()};l.stopPropagation=function(){b.stopPropagation()};return l},f;f=n("events-keypress-typed")?function(a,c){var b=m(a,"keydown",function(a){var b=a.keyCode,f=(b!=13||n("ie")>=9&&!n("quirks"))&&b!=32&&(b!=27||!n("ie"))&&(b<48||b>90)&&(b<96||b>111)&&(b<186||b>192)&&(b<219||b>222)&&b!=229;if(f||a.ctrlKey){f=f?0:b;if(a.ctrlKey)if(b==3||b==13)return c.call(a.currentTarget,a);else f>95&&
f<106?f-=48:!a.shiftKey&&f>=65&&f<=90?f+=32:f=q[f]||f;b=l(a,{type:"keypress",faux:!0,charCode:f});c.call(a.currentTarget,b);if(n("ie"))try{a.keyCode=b.keyCode}catch(e){}}}),f=m(a,"keypress",function(a){var b=a.charCode,a=l(a,{charCode:b>=32?b:0,faux:!0});return c.call(this,a)});return{remove:function(){b.remove();f.remove()}}}:n("opera")?function(a,c){return m(a,"keypress",function(a){var b=a.which;b==3&&(b=99);b=b<32&&!a.shiftKey?0:b;a.ctrlKey&&!a.shiftKey&&b>=65&&b<=90&&(b+=32);return c.call(this,
l(a,{charCode:b}))})}:function(c,b){return m(c,"keypress",function(c){a(c);return b.call(this,c)})};var t={_keypress:f,connect:function(){var a=arguments,c=[],f=0;c.push(typeof a[0]=="string"?null:a[f++],a[f++]);var l=a[f+1];c.push(typeof l=="string"||typeof l=="function"?a[f++]:null,a[f++]);for(l=a.length;f<l;f++)c.push(a[f]);return b.apply(this,c)},disconnect:function(a){a&&a.remove()},subscribe:function(a,b,f){return i.subscribe(a,c.hitch(b,f))},publish:function(a,c){return i.publish.apply(i,[a].concat(c))},
connectPublisher:function(a,c,b){var f=function(){t.publish(a,arguments)};return b?t.connect(c,b,f):t.connect(c,f)},isCopyKey:function(a){return a[s]}};t.unsubscribe=t.disconnect;c.mixin(d,t);return t})},"dgrid/Editor":function(){define(["dojo/on","dojo/has","dojo/_base/lang","put-selector/put","dojo/_base/sniff"],function(d,m,i,o){return function(h,e,n){function c(a){a=a.target;if("lastValue"in a&&a.className.indexOf("dgrid-input")>-1)a.lastValue=b(a.parentNode,a.lastValue,a[a.type=="checkbox"||
a.type=="radio"?"checked":"value"])}function b(a,c,b){if(c!=b){var e=q.cell(a),p=e.row,e=e.column;if(e.field&&p){if(typeof c=="number")b=isNaN(b)?b:parseFloat(b);else if(typeof c=="boolean")b=b=="true"?!0:b=="false"?!1:b;else if(c instanceof Date)var h=new Date(b),b=isNaN(h.getTime())?b:h;if(d.emit(a,"dgrid-datachange",{rowId:p.id,oldValue:c,value:b,bubbles:!0,cancelable:!0})){if(q.dirty){a=q.dirty[p.id];c=p.data;if(!a&&(a=q.dirty[p.id]={},!e.autoSave))c=p.data=i.delegate(p.data,a);a[e.field]=c[e.field]=
b;e.autoSave&&q._trackError("save")}}else return c}}return b}var a=h.renderCell||function(a,c,b){c!=null&&b.appendChild(document.createTextNode(c))};h.editor=e=e||h.editor;h.editOn=n=n||h.editOn;var q,s=typeof e=="string"?function(a,b,t,r){var p=b.input||(b.input=o(b,"input[type="+e+"].dgrid-input",{name:h.field||this.id+"-selection",tabIndex:isNaN(h.tabIndex)?-1:h.tabIndex}));p.value=a||"";p.checked=a;p.lastValue=a;if(!q._hasInputListener)q._hasInputListener=!0,q.on("change",c);m("ie")<9&&(b.input.type==
"radio"||b.input.type=="checkbox"?d(p,"click",c):d(p,"change",c));if(r){var s,i;p.focus();n&&(i=d(p,n,function(a){a.stopPropagation()}));s=d(p,"blur",function(){s.remove();i&&i.remove();o(p,"!");b.input=null;r(p.lastValue)})}return p}:function(a,c,t,r){var t=typeof h.widgetArgs=="function"?i.hitch(q,h.widgetArgs)(t):h.widgetArgs||{},p;t.value=a;p=new e(t,c.appendChild(o("div")));p.watch("value",function(p,e,d){a=b(c,a,d)});if(r){var s;p.focus();n&&(s=d(p.domNode,n,function(a){a.stopPropagation()}));
p.connect(p,"onBlur",function(){(!p.isValid||p.isValid())&&setTimeout(function(){s&&s.remove();p.destroyRecursive();r(a)},0)})}return p};h.renderCell=function(c,b,e,r){var p;if(!q)q=h.grid;h.editOn?(d(e.tagName=="TD"?e:e.parentNode,h.editOn,function(){if(!h.canEdit||h.canEdit(c,b))e.innerHTML="",p=s(b,e,c,function(p){a(c,b=p,e)}),p.startup&&p.startup()}),a(c,b,e,r)):(p=s(b,e,c),p.startup&&setTimeout(function(){p.startup()},0))};return h}})},"dojo/_base/fx":function(){define(["./kernel","./lang","../Evented",
"./Color","./connect","./sniff","../dom","../dom-style"],function(d,m,i,o,h,e,n,c){var b=m.mixin;d._Line=function(a,c){this.start=a;this.end=c};d._Line.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};d.Animation=function(a){b(this,a);if(m.isArray(this.curve))this.curve=new d._Line(this.curve[0],this.curve[1])};d.Animation.prototype=new i;d._Animation=d.Animation;m.extend(d.Animation,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,
c=this.easing;return c?c(a):a},_fire:function(a,c){var b=c||[];if(this[a])if(d.config.debugAtAllCosts)this[a].apply(this,b);else try{this[a].apply(this,b)}catch(f){}return this},play:function(a,c){this._delayTimer&&this._clearTimer();if(c)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);var b=a||this.delay,f=m.hitch(this,"_play",c);if(b>0)return this._delayTimer=setTimeout(f,b),this;f();return this},
_play:function(){this._delayTimer&&this._clearTimer();this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;var a=this.curve.getValue(this._getStep());if(!this._percent){if(!this._startRepeatCount)this._startRepeatCount=this.repeat;this._fire("onBegin",[a])}this._fire("onPlay",[a]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;
this._fire("onPause",[this.curve.getValue(this._getStep())]);return this},gotoPercent:function(a,c){this._stopTimer();this._active=this._paused=!0;this._percent=a;c&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();if(a)this._percent=1;this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},status:function(){if(this._active)return this._paused?"paused":"playing";return"stopped"},
_cycle:function(){if(this._active){var a=((new Date).valueOf()-this._startTime)/this.duration;a>=1&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);if(this._percent<1)this._startTimer();else{this._active=!1;if(this.repeat>0)this.repeat--,this.play(null,!0);else if(this.repeat==-1)this.play(null,!0);else if(this._startRepeatCount)this.repeat=this._startRepeatCount,this._startRepeatCount=0;this._percent=0;this._fire("onEnd",[this.node]);!this.repeat&&
this._stopTimer()}}return this},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var a=0,q=null,s={run:function(){}};m.extend(d.Animation,{_startTimer:function(){if(!this._timer)this._timer=h.connect(s,"run",this,"_cycle"),a++;q||(q=setInterval(m.hitch(s,"run"),this.rate))},_stopTimer:function(){if(this._timer)h.disconnect(this._timer),this._timer=null,a--;a<=0&&(clearInterval(q),q=null,a=0)}});var l=e("ie")?function(a){var b=a.style;if(!b.width.length&&c.get(a,"width")==
"auto")b.width="auto"}:function(){};d._fade=function(a){a.node=n.byId(a.node);var f=b({properties:{}},a),a=f.properties.opacity={};a.start=!("start"in f)?function(){return+c.get(f.node,"opacity")||0}:f.start;a.end=f.end;a=d.animateProperty(f);h.connect(a,"beforeBegin",m.partial(l,f.node));return a};d.fadeIn=function(a){return d._fade(b({end:1},a))};d.fadeOut=function(a){return d._fade(b({end:0},a))};d._defaultEasing=function(a){return 0.5+Math.sin((a+1.5)*Math.PI)/2};var f=function(a){this._properties=
a;for(var c in a){var b=a[c];if(b.start instanceof o)b.tempColor=new o}};f.prototype.getValue=function(a){var c={},b;for(b in this._properties){var f=this._properties[b],e=f.start;e instanceof o?c[b]=o.blendColors(e,f.end,a,f.tempColor).toCss():m.isArray(e)||(c[b]=(f.end-e)*a+e+(b!="opacity"?f.units||"px":0))}return c};d.animateProperty=function(a){var e=a.node=n.byId(a.node);if(!a.easing)a.easing=d._defaultEasing;a=new d.Animation(a);h.connect(a,"beforeBegin",a,function(){var a={},l;for(l in this.properties){if(l==
"width"||l=="height")this.node.display="block";var d=this.properties[l];m.isFunction(d)&&(d=d(e));d=a[l]=b({},m.isObject(d)?d:{end:d});if(m.isFunction(d.start))d.start=d.start(e);if(m.isFunction(d.end))d.end=d.end(e);var t=l.toLowerCase().indexOf("color")>=0,h=function(a,b){var f={height:a.offsetHeight,width:a.offsetWidth}[b];if(f!==void 0)return f;f=c.get(a,b);return b=="opacity"?+f:t?f:parseFloat(f)};if("end"in d){if(!("start"in d))d.start=h(e,l)}else d.end=h(e,l);t?(d.start=new o(d.start),d.end=
new o(d.end)):d.start=l=="opacity"?+d.start:parseFloat(d.start)}this.curve=new f(a)});h.connect(a,"onAnimate",m.hitch(c,"set",a.node));return a};d.anim=function(a,c,b,f,e,l){return d.animateProperty({node:a,duration:b||d.Animation.prototype.duration,properties:c,easing:f,onEnd:e}).play(l||0)};return{_Line:d._Line,Animation:d.Animation,_fade:d._fade,fadeIn:d.fadeIn,fadeOut:d.fadeOut,_defaultEasing:d._defaultEasing,animateProperty:d.animateProperty,anim:d.anim}})},"dojo/_base/config":function(){define(["../has",
"require"],function(d,m){var i={},o=m.rawConfig,h;for(h in o)i[h]=o[h];return i})},"dijit/layout/utils":function(){define("dijit/layout/utils",["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang",".."],function(d,m,i,o,h,e){function n(c,b){var a=c.resize?c.resize(b):i.setMarginBox(c.domNode,b);a?h.mixin(c,a):(h.mixin(c,i.getMarginBox(c.domNode)),h.mixin(c,b))}e=h.getObject("layout",!0,e);e.marginBox2contentBox=function(c,b){var a=o.getComputedStyle(c),e=i.getMarginExtents(c,
a),d=i.getPadBorderExtents(c,a);return{l:o.toPixelValue(c,a.paddingLeft),t:o.toPixelValue(c,a.paddingTop),w:b.w-(e.w+d.w),h:b.h-(e.h+d.h)}};e.layoutChildren=function(c,b,a,e,s){b=h.mixin({},b);m.add(c,"dijitLayoutContainer");a=d.filter(a,function(a){return a.region!="center"&&a.layoutAlign!="client"}).concat(d.filter(a,function(a){return a.region=="center"||a.layoutAlign=="client"}));d.forEach(a,function(a){var c=a.domNode,d=a.region||a.layoutAlign;if(!d)throw Error("No region setting for "+a.id);
var h=c.style;h.left=b.l+"px";h.top=b.t+"px";h.position="absolute";m.add(c,"dijitAlign"+(d.substring(0,1).toUpperCase()+d.substring(1)));c={};e&&e==a.id&&(c[a.region=="top"||a.region=="bottom"?"h":"w"]=s);d=="top"||d=="bottom"?(c.w=b.w,n(a,c),b.h-=a.h,d=="top"?b.t+=a.h:h.top=b.t+b.h+"px"):d=="left"||d=="right"?(c.h=b.h,n(a,c),b.w-=a.w,d=="left"?b.l+=a.w:h.left=b.l+b.w+"px"):(d=="client"||d=="center")&&n(a,b)})};return{marginBox2contentBox:e.marginBox2contentBox,layoutChildren:e.layoutChildren}})},
"dgrid/List":function(){define(["put-selector/put","dojo/_base/declare","dojo/on","dojo/aspect","dojo/has","dojo/has!touch?./TouchScroll","xstyle/has-class","dojo/_base/sniff","xstyle/css!./css/dgrid.css"],function(d,m,i,o,h,e,n){function c(a,c,b){this.id=a;this.data=c;this.element=b}function b(a,c,b){var p,e=a=a.element,c=c||1;do if(p=a[c<0?"previousSibling":"nextSibling"]){do if((p=(a=p)&&a.className)&&p.indexOf(b)>-1){e=a;c+=c<0?1:-1;break}while(p=a[c<0?"lastChild":"firstChild"])}else if((a=a.parentNode)==
this.domNode)break;while(c);return e}n("mozilla","opera","ie-6","ie-6-7","quirks","no-quirks");var a=d(document.getElementsByTagName("head")[0],"style"),q=[],a=a.sheet||a.styleSheet,s;c.prototype={remove:function(){var a=this.element,c=a.parentNode;c.removeChild(a);(a=a.connected)&&c.removeChild(a)}};var l=0;return m(e?[e]:[],{tabableHeader:!1,showHeader:!1,postscript:function(a,c){if(c)this.srcNodeRef=c=c.nodeType?c:document.getElementById(c);this.create(a,c)},getCSSClass:function(a){return"dgrid-"+
a},listType:"list",create:function(a,c){if(a)this.params=a,m.safeMixin(this,a);this.domNode=c||d("div");this.postMixInProperties();this.buildRendering();this.postCreate&&this.postCreate();delete this.srcNodeRef;this.domNode.offsetHeight&&this.startup()},postMixInProperties:function(){this.observers=[];this._listeners=[];this._rowIdToObject={}},buildRendering:function(){var a=this.domNode;this.id=a.id=a.id||this.id||"dgrid_"+l++;d(a,"[role=grid].ui-widget.dgrid.dgrid-"+this.listType);var c=this.headerNode=
d(a,"div.dgrid-header.dgrid-header-row.ui-widget-header"+(this.showHeader?"":".dgrid-header-hidden"));(h("quirks")||h("ie")<8)&&d(a,"div.dgrid-spacer");var b=this.bodyNode=d(a,"div.dgrid-scroller");this.headerScrollNode=d(a,"div.dgrid-header-scroll.dgrid-scrollbar-width.ui-widget-header");i(b,"scroll",function(p){c.scrollLeft=b.scrollLeft;p.stopPropagation();i.emit(a,"scroll",{scrollTarget:b})});this.configStructure();this.renderHeader();this.contentNode=d(this.bodyNode,"div.dgrid-content.ui-widget-content");
o.after(this,"scrollTo",function(){i.emit(b,"scroll",{})});var p=this;this._listeners.push(i(window,"resize",function(){p.resize()}))},startup:function(){if(!this._started)this._started=!0,this.resize(),this.refresh()},setShowHeader:function(a){this.showHeader=a;d(this.headerNode,(a?"!":".")+"dgrid-header-hidden");this.renderHeader();this.resize()},configStructure:function(){},resize:function(){var a=this.bodyNode,c=this.headerNode,b=h("quirks")||h("ie")<7;this.headerScrollNode.style.height=a.style.marginTop=
c.offsetHeight+"px";if(b)a.style.height=Math.max(this.domNode.offsetHeight-c.offsetHeight,0)+"px";if(!s){var p=d(document.body,"div.dgrid-scrollbar-measure");s=p.offsetWidth-p.clientWidth;d(p,"!");h("ie")===7&&s++;this.addCssRule(".dgrid-scrollbar-width","width: "+s+"px");this.addCssRule(".dgrid-scrollbar-height","height: "+s+"px");s!=17&&!b&&this.addCssRule(".dgrid-header","right: "+s+"px")}if(b)c.style.width=a.clientWidth+"px",setTimeout(function(){c.scrollLeft=a.scrollLeft},0)},addCssRule:function(c,
b){var e=q.length;q[e]=(a.cssRules||a.rules).length;a.addRule?a.addRule(c,b):a.insertRule(c+"{"+b+"}",q[e]);return{remove:function(){var c=q[e],b,f=q.length;if(c!==void 0){a.deleteRule?a.deleteRule(c):a.removeRule(c);q[e]=void 0;for(b=e;b<f;b++)q[b]>c&&q[b]--}}}},on:function(a,c){var b=i(this.domNode,a,c);h("dom-addeventlistener")||this._listeners.push(b)},destroy:function(){var a,c=["domNode","headerNode","headerScrollNode","bodyNode","contentNode","preloadNode","columns","subRows","params"];for(a=
this._listeners.length;a--;)this._listeners[a].remove();delete this._listeners;d("!",this.domNode);for(a=c.length;a--;)delete this[c[a]]},refresh:function(){this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";for(var a=0;a<this.observers.length;a++)this.observers[a].cancel();this.observers=[];this.init&&this.init({domNode:this.bodyNode,containerNode:this.contentNode});this.preloadNode=null},renderArray:function(a,c,b){function e(a){return n=s.insertRow(a,q,null,h++,b)}function l(a){(c&&
c.parentNode||s.contentNode).insertBefore(q,c||null);c||d(n,".dgrid-last-row");return u=a}var b=b||{},h=b.start||0,s=this;if(!c)this.lastCollection=a;a.observe&&this.observers.push(a.observe(function(a,f,e){f>-1&&s.row(u.splice(f,1)[0]).remove();if(e>-1){var f=u[e]||c,p=s.insertRow(a,f.parentNode,f,b.start+e,b);d(p,".ui-state-highlight");setTimeout(function(){d(p,"!ui-state-highlight")},250);u.splice(e,0,p)}},!0));var q=document.createDocumentFragment();if(a.map){var u=a.map(e,console.error);if(u.then)return u.then(l)}else for(var u=
[],w=0,B=a.length;w<B;w++)u[w]=e(a[w]);var n;return l(u)},_autoId:0,renderHeader:function(){},insertRow:function(a,c,b,e,l){l=this.renderRow(a,l);l.className=(l.className||"")+" ui-state-default dgrid-row "+(e%2==1?"dgrid-row-odd":"dgrid-row-even");this._rowIdToObject[l.id=this.id+"-row-"+(this.store&&this.store.getIdentity?this.store.getIdentity(a):this._autoId++)]=a;c.insertBefore(l,b);return l},renderRow:function(a){return d("div",""+a)},row:function(a){if(a.target&&a.target.nodeType)a=a.target;
if(a.nodeType){var b;do{var e=a.id;if(b=this._rowIdToObject[e])return new c(e.substring(this.id.length+5),b,a);a=a.parentNode}while(a&&a!=this.domNode)}else return typeof a=="object"?b=this.store.getIdentity(a):(b=a,a=this._rowIdToObject[this.id+"-row-"+b]),new c(b,a,document.getElementById(this.id+"-row-"+b))},cell:function(a){return{row:this.row(a)}},_move:b,up:function(a,c){return this.row(b(a,-(c||1),"dgrid-row"))},down:function(a,c){return this.row(b(a,c||1,"dgrid-row"))},sort:function(a,c){this.sortOrder=
typeof a!="string"?a:[{attribute:a,descending:c}];this.refresh();if(this.lastCollection){if(typeof a!="string")c=a[0].descending,a=a[0].attribute;this.lastCollection.sort(function(b,e){var l=b[a],d=e[a];l===void 0&&(l="");d===void 0&&(d="");return l==d?0:l>d==!c?1:-1});this.renderArray(this.lastCollection)}}})})},"dojo/_base/unload":function(){define(["./kernel","./connect"],function(d,m){var i=window;d.addOnWindowUnload=function(o,h){if(!d.windowUnloaded)m.connect(i,"unload",d.windowUnloaded=function(){});
m.connect(i,"unload",o,h)};d.addOnUnload=function(d,h){m.connect(i,"beforeunload",d,h)};return{addOnWindowUnload:d.addOnWindowUnload,addOnUnload:d.addOnUnload}})},"dojo/selector/_loader":function(){define(["../has","require"],function(d,m){var i=document.createElement("div");d.add("dom-qsa2.1",!!i.querySelectorAll);d.add("dom-qsa3",function(){try{return i.innerHTML="<p class='TEST'></p>",i.querySelectorAll(".TEST:empty").length==1}catch(d){}});var o;return{load:function(h,e,n){var c=m,h=h=="default"?
d("config-selectorEngine")||"css3":h,h=h=="css2"||h=="lite"?"./lite":h=="css2.1"?d("dom-qsa2.1")?"./lite":"./acme":h=="css3"?d("dom-qsa3")?"./lite":"./acme":h=="acme"?"./acme":(c=e)&&h;if(h.charAt(h.length-1)=="?")var h=h.substring(0,h.length-1),b=!0;if(b&&(d("dom-compliant-qsa")||o))return n(o);c([h],function(a){h!="./lite"&&(o=a);n(a)})}}})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(d,m,i){function o(a,c){throw Error("declare"+(c?" "+c:"")+": "+a);}function h(a,
c,b){var f,e,p,l,d,u,h,B=this._inherited=this._inherited||{};typeof a=="string"&&(f=a,a=c,c=b);b=0;l=a.callee;(f=f||l.nom)||o("can't deduce a name to call inherited()",this.declaredClass);d=this.constructor._meta;p=d.bases;h=B.p;if(f!=w){if(B.c!==l&&(h=0,u=p[0],d=u._meta,d.hidden[f]!==l)){(e=d.chains)&&typeof e[f]=="string"&&o("calling chained method with inherited: "+f,this.declaredClass);do if(d=u._meta,e=u.prototype,d&&(e[f]===l&&e.hasOwnProperty(f)||d.hidden[f]===l))break;while(u=p[++h]);h=u?
h:-1}if(u=p[++h])if(e=u.prototype,u._meta&&e.hasOwnProperty(f))b=e[f];else{l=z[f];do if(e=u.prototype,(b=e[f])&&(u._meta?e.hasOwnProperty(f):b!==l))break;while(u=p[++h])}b=u&&b||z[f]}else{if(B.c!==l&&(h=0,(d=p[0]._meta)&&d.ctor!==l)){e=d.chains;for((!e||e.constructor!=="manual")&&o("calling chained constructor with inherited",this.declaredClass);u=p[++h];)if((d=u._meta)&&d.ctor===l)break;h=u?h:-1}for(;u=p[++h];)if(b=(d=u._meta)?d.ctor:u)break;b=u&&b}B.c=b;B.p=h;if(b)return c===!0?b:b.apply(this,c||
a)}function e(a,c){if(typeof a=="string")return this.__inherited(a,c,!0);return this.__inherited(a,!0)}function n(a,c,b){var f=this.getInherited(a,c);if(f)return f.apply(this,b||c||a)}function c(a){for(var c=this.constructor._meta.bases,b=0,f=c.length;b<f;++b)if(c[b]===a)return!0;return this instanceof a}function b(a,c){for(var b in c)b!=w&&c.hasOwnProperty(b)&&(a[b]=c[b]);if(m("bug-for-in-skips-shadowed"))for(var f=i._extraNames,e=f.length;e;)b=f[--e],b!=w&&c.hasOwnProperty(b)&&(a[b]=c[b])}function a(a){p.safeMixin(this.prototype,
a);return this}function q(a,c){return function(){var C;var b=arguments,f=b,e=b[0],p,l;l=a.length;var d;if(!(this instanceof b.callee))return r(b);if(c&&(e&&e.preamble||this.preamble)){d=Array(a.length);d[0]=b;for(p=0;;){if(e=b[0])(e=e.preamble)&&(b=e.apply(this,b)||b);e=a[p].prototype;(e=e.hasOwnProperty("preamble")&&e.preamble)&&(b=e.apply(this,b)||b);if(++p==l)break;d[p]=b}}for(p=l-1;p>=0;--p)e=a[p],(C=(l=e._meta)?l.ctor:e,e=C)&&e.apply(this,d?d[p]:b);(e=this.postscript)&&e.apply(this,f)}}function s(a,
c){return function(){var b=arguments,f=b,e=b[0];if(!(this instanceof b.callee))return r(b);if(c){if(e)(e=e.preamble)&&(f=e.apply(this,f)||f);(e=this.preamble)&&e.apply(this,f)}a&&a.apply(this,b);(e=this.postscript)&&e.apply(this,b)}}function l(a){return function(){var C;var c=arguments,b=0,f,e;if(!(this instanceof c.callee))return r(c);for(;f=a[b];++b)if(C=(e=f._meta)?e.ctor:f,f=C){f.apply(this,c);break}(f=this.postscript)&&f.apply(this,c)}}function f(a,c,b){return function(){var f,e,p=0,l=1;b&&(p=
c.length-1,l=-1);for(;f=c[p];p+=l)e=f._meta,(f=(e?e.hidden:f.prototype)[a])&&f.apply(this,arguments)}}function t(a){y.prototype=a.prototype;a=new y;y.prototype=null;return a}function r(a){var c=a.callee,b=t(c);c.apply(b,a);return b}function p(d,r,n){typeof d!="string"&&(n=r,r=d,d="");var n=n||{},y,m,D,C,E,G,K,M=1,Q=r;if(x.call(r)=="[object Array]"){M=d;D=[];C=[{cls:0,refs:[]}];G={};for(var $=1,N=r.length,S=0,O,V,L,R;S<N;++S){(O=r[S])?x.call(O)!="[object Function]"&&o("mixin #"+S+" is not a callable constructor.",
M):o("mixin #"+S+" is unknown. Did you use dojo.require to pull it in?",M);V=O._meta?O._meta.bases:[O];L=0;for(O=V.length-1;O>=0;--O){R=V[O].prototype;if(!R.hasOwnProperty("declaredClass"))R.declaredClass="uniqName_"+u++;R=R.declaredClass;G.hasOwnProperty(R)||(G[R]={count:0,refs:[],cls:V[O]},++$);R=G[R];L&&L!==R&&(R.refs.push(L),++L.count);L=R}++L.count;C[0].refs.push(L)}for(;C.length;){L=C.pop();D.push(L.cls);for(--$;m=L.refs,m.length==1;){L=m[0];if(!L||--L.count){L=0;break}D.push(L.cls);--$}if(L){S=
0;for(N=m.length;S<N;++S)L=m[S],--L.count||C.push(L)}}$&&o("can't build consistent linearization",M);O=r[0];D[0]=O?O._meta&&O===D[D.length-O._meta.bases.length]?O._meta.bases.length:1:0;G=D;D=G[0];M=G.length-D;r=G[M]}else G=[0],r?x.call(r)=="[object Function]"?(D=r._meta,G=G.concat(D?D.bases:r)):o("base class is not a callable constructor.",d):r!==null&&o("unknown base class. Did you use dojo.require to pull it in?",d);if(r)for(m=M-1;;--m){y=t(r);if(!m)break;D=G[m];(D._meta?b:A)(y,D.prototype);C=
new Function;C.superclass=r;C.prototype=y;r=y.constructor=C}else y={};p.safeMixin(y,n);D=n.constructor;if(D!==z.constructor)D.nom=w,y.constructor=D;for(m=M-1;m;--m)(D=G[m]._meta)&&D.chains&&(K=A(K||{},D.chains));y["-chains-"]&&(K=A(K||{},y["-chains-"]));D=!K||!K.hasOwnProperty(w);G[0]=C=K&&K.constructor==="manual"?l(G):G.length==1?s(n.constructor,D):q(G,D);C._meta={bases:G,hidden:n,chains:K,parents:Q,ctor:n.constructor};C.superclass=r&&r.prototype;C.extend=a;C.prototype=y;y.constructor=C;y.getInherited=
e;y.isInstanceOf=c;y.inherited=B;y.__inherited=h;if(d)y.declaredClass=d,i.setObject(d,C);if(K)for(E in K)if(y[E]&&typeof K[E]=="string"&&E!=w)D=y[E]=f(E,G,K[E]==="after"),D.nom=E;return C}var A=i.mixin,z=Object.prototype,x=z.toString,y=new Function,u=0,w="constructor",B=d.config.isDebug?n:h;d.safeMixin=p.safeMixin=function(a,c){var b,f;for(b in c)if(f=c[b],(f!==z[b]||!(b in z))&&b!=w){if(x.call(f)=="[object Function]")f.nom=b;a[b]=f}if(m("bug-for-in-skips-shadowed"))for(var e=i._extraNames,p=e.length;p;)if(b=
e[--p],f=c[b],(f!==z[b]||!(b in z))&&b!=w){if(x.call(f)=="[object Function]")f.nom=b;a[b]=f}return a};return d.declare=p})},"dijit/layout/ContentPane":function(){define("dijit/layout/ContentPane",["dojo/_base/kernel","dojo/_base/lang","../_Widget","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/i18n!../nls/loading","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/_base/window","dojo/_base/xhr","dojo/i18n"],function(d,m,i,o,h,e,n,c,b,a,q,s,
l,f,t){return b("dijit.layout.ContentPane",[i,o],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:d._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,
stopParser:!0,template:!1,create:function(a,c){if((!a||!a.template)&&c&&!("href"in a)&&!("content"in a)){for(var b=l.doc.createDocumentFragment(),c=q.byId(c);c.firstChild;)b.appendChild(c.firstChild);a=m.delegate(a,{content:b})}this.inherited(arguments,[a,c])},postMixInProperties:function(){this.inherited(arguments);var a=t.getLocalization("dijit","loading",this.lang);this.loadingMessage=h.substitute(this.loadingMessage,a);this.errorMessage=h.substitute(this.errorMessage,a)},buildRendering:function(){this.inherited(arguments);
if(!this.containerNode)this.containerNode=this.domNode;this.domNode.title="";s.get(this.domNode,"role")||this.domNode.setAttribute("role","group")},startup:function(){this.inherited(arguments);this._contentSetter&&c.forEach(this._contentSetter.parseResults,function(a){if(!a._started&&!a._destroyed&&m.isFunction(a.startup))a.startup(),a._started=!0},this)},setHref:function(a){d.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",
a)},_setHrefAttr:function(c){this.cancel();this.onLoadDeferred=new a(m.hitch(this,"cancel"));this.onLoadDeferred.addCallback(m.hitch(this,"onLoad"));this._set("href",c);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(a){d.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",a)},_setContentAttr:function(c){this._set("href","");this.cancel();this.onLoadDeferred=
new a(m.hitch(this,"cancel"));this._created&&this.onLoadDeferred.addCallback(m.hitch(this,"onLoad"));this._setContent(c||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&this._xhrDfd.fired==-1&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},uninitialize:function(){this._beingDestroyed&&this.cancel();this.inherited(arguments)},destroyRecursive:function(){this._beingDestroyed||this.inherited(arguments)},
_onShow:function(){this.inherited(arguments);if(this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new a(m.hitch(this,"cancel"));this.onLoadDeferred.addCallback(m.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var a=this,c={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};m.isObject(this.ioArgs)&&
m.mixin(c,this.ioArgs);var b=this._xhrDfd=(this.ioMethod||f.get)(c);b.addCallback(function(c){try{a._isDownloaded=!0,a._setContent(c,!1),a.onDownloadEnd()}catch(b){a._onError("Content",b)}delete a._xhrDfd;return c});b.addErrback(function(c){b.canceled||a._onError("Download",c);delete a._xhrDfd;return c});delete this._hrefChanged},_onLoadHandler:function(a){this._set("isLoaded",!0);try{this.onLoadDeferred.callback(a)}catch(c){}},_onUnloadHandler:function(){this._set("isLoaded",!1);try{this.onUnload()}catch(a){}},
destroyDescendants:function(a){this.isLoaded&&this._onUnloadHandler();var b=this._contentSetter;c.forEach(this.getChildren(),function(c){c.destroyRecursive&&c.destroyRecursive(a)});b&&(c.forEach(b.parseResults,function(c){c.destroyRecursive&&c.domNode&&c.domNode.parentNode==l.body()&&c.destroyRecursive(a)}),delete b.parseResults);a||e._emptyNode(this.containerNode);delete this._singleChild},_setContent:function(a,c){this.destroyDescendants();var b=this._contentSetter;if(!(b&&b instanceof e._ContentSetter))b=
this._contentSetter=new e._ContentSetter({node:this.containerNode,_onError:m.hitch(this,this._onError),onContentError:m.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(c){}})});var f=m.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!a.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{});b.set(m.isObject(a)&&a.domNode?a.domNode:
a,f);delete this._contentSetterParams;this.doLayout&&this._checkIfSingleChild();c||(this._started&&(delete this._started,this.startup(),this._scheduleLayout()),this._onLoadHandler(a))},_onError:function(a,c,b){this.onLoadDeferred.errback(c);a=this["on"+a+"Error"].call(this,c);b||a&&this._setContent(a,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},
"djeo/dojox/gfx/svg":function(){define("djeo/dojox/gfx/svg",["dojo/_base/lang","dojo/_base/window","dojo/dom","dojo/_base/declare","dojo/_base/array","dojo/dom-geometry","dojo/_base/Color","./_base","./shape","./path"],function(d,m,i,o,h,e,n,c,b,a){function q(a,c){return m.doc.createElementNS?m.doc.createElementNS(a,c):m.doc.createElement(c)}function s(a){return l.useSvgWeb?m.doc.createTextNode(a,!0):m.doc.createTextNode(a)}var l=c.svg={};l.useSvgWeb=typeof window.svgweb!="undefined";var f=navigator.userAgent.toLowerCase(),
t=f.search("iphone")>-1||f.search("ipad")>-1||f.search("ipod")>-1;l.xmlns={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};l.getRef=function(a){if(!a||a=="none")return null;if(a.match(/^url\(#.+\)$/))return i.byId(a.slice(5,-1));if(a.match(/^#dojoUnique\d+$/))return i.byId(a.slice(1));return null};l.dasharray={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,
3,1,3],longdashdotdot:[8,3,1,3,1,3]};o("dojox.gfx.svg.Shape",b.Shape,{setFill:function(a){if(!a)return this.fillStyle=null,this.rawNode.setAttribute("fill","none"),this.rawNode.setAttribute("fill-opacity",0),this;var b,f=function(a){this.setAttribute(a,b[a].toFixed(8))};if(typeof a=="object"&&"type"in a){switch(a.type){case "linear":b=c.makeParameters(c.defaultLinearGradient,a);a=this._setFillObject(b,"linearGradient");h.forEach(["x1","y1","x2","y2"],f,a);break;case "radial":b=c.makeParameters(c.defaultRadialGradient,
a);a=this._setFillObject(b,"radialGradient");h.forEach(["cx","cy","r"],f,a);break;case "pattern":b=c.makeParameters(c.defaultPattern,a),a=this._setFillObject(b,"pattern"),h.forEach(["x","y","width","height"],f,a)}this.fillStyle=b;return this}this.fillStyle=b=c.normalizeColor(a);this.rawNode.setAttribute("fill",b.toCss());this.rawNode.setAttribute("fill-opacity",b.a);this.rawNode.setAttribute("fill-rule","evenodd");return this},setStroke:function(a){var b=this.rawNode;if(!a)return this.strokeStyle=
null,b.setAttribute("stroke","none"),b.setAttribute("stroke-opacity",0),this;if(typeof a=="string"||d.isArray(a)||a instanceof n)a={color:a};a=this.strokeStyle=c.makeParameters(c.defaultStroke,a);a.color=c.normalizeColor(a.color);if(a){b.setAttribute("stroke",a.color.toCss());b.setAttribute("stroke-opacity",a.color.a);b.setAttribute("stroke-width",a.width);b.setAttribute("stroke-linecap",a.cap);typeof a.join=="number"?(b.setAttribute("stroke-linejoin","miter"),b.setAttribute("stroke-miterlimit",a.join)):
b.setAttribute("stroke-linejoin",a.join);var f=a.style.toLowerCase();f in l.dasharray&&(f=l.dasharray[f]);if(f instanceof Array){for(var f=d._toArray(f),e=0;e<f.length;++e)f[e]*=a.width;if(a.cap!="butt"){for(e=0;e<f.length;e+=2)f[e]-=a.width,f[e]<1&&(f[e]=1);for(e=1;e<f.length;e+=2)f[e]+=a.width}f=f.join(",")}b.setAttribute("stroke-dasharray",f);b.setAttribute("dojoGfxStrokeStyle",a.style)}return this},_getParentSurface:function(){for(var a=this.parent;a&&!(a instanceof c.Surface);a=a.parent);return a},
_setFillObject:function(a,b){var f=l.xmlns.svg;this.fillStyle=a;var e=this._getParentSurface().defNode,d=this.rawNode.getAttribute("fill");if(d=l.getRef(d))if(d.tagName.toLowerCase()!=b.toLowerCase()){var u=d.id;d.parentNode.removeChild(d);d=q(f,b);d.setAttribute("id",u);e.appendChild(d)}else for(;d.childNodes.length;)d.removeChild(d.lastChild);else d=q(f,b),d.setAttribute("id",c._base._getUniqueId()),e.appendChild(d);if(b=="pattern")d.setAttribute("patternUnits","userSpaceOnUse"),f=q(f,"image"),
f.setAttribute("x",0),f.setAttribute("y",0),f.setAttribute("width",a.width.toFixed(8)),f.setAttribute("height",a.height.toFixed(8)),f.setAttributeNS(l.xmlns.xlink,"xlink:href",a.src),d.appendChild(f);else{d.setAttribute("gradientUnits","userSpaceOnUse");for(e=0;e<a.colors.length;++e){var u=a.colors[e],w=q(f,"stop"),h=u.color=c.normalizeColor(u.color);w.setAttribute("offset",u.offset.toFixed(8));w.setAttribute("stop-color",h.toCss());w.setAttribute("stop-opacity",h.a);d.appendChild(w)}}this.rawNode.setAttribute("fill",
"url(#"+d.getAttribute("id")+")");this.rawNode.removeAttribute("fill-opacity");this.rawNode.setAttribute("fill-rule","evenodd");return d},_applyTransform:function(){if(this.matrix){var a=this.matrix;this.rawNode.setAttribute("transform","matrix("+a.xx.toFixed(8)+","+a.yx.toFixed(8)+","+a.xy.toFixed(8)+","+a.yy.toFixed(8)+","+a.dx.toFixed(8)+","+a.dy.toFixed(8)+")")}else this.rawNode.removeAttribute("transform");return this},setRawNode:function(a){a=this.rawNode=a;this.shape.type!="image"&&a.setAttribute("fill",
"none");a.setAttribute("fill-opacity",0);a.setAttribute("stroke","none");a.setAttribute("stroke-opacity",0);a.setAttribute("stroke-width",1);a.setAttribute("stroke-linecap","butt");a.setAttribute("stroke-linejoin","miter");a.setAttribute("stroke-miterlimit",4);a.__gfxObject__=this.getUID()},setShape:function(a){this.shape=c.makeParameters(this.shape,a);for(var b in this.shape)b!="type"&&this.rawNode.setAttribute(b,this.shape[b]);this.bbox=null;return this},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);
return this},_moveToBack:function(){this.rawNode.parentNode.insertBefore(this.rawNode,this.rawNode.parentNode.firstChild);return this}});o("dojox.gfx.svg.Group",l.Shape,{constructor:function(){b.Container._init.call(this)},setRawNode:function(a){this.rawNode=a;this.rawNode.__gfxObject__=this.getUID()}});l.Group.nodeType="g";o("dojox.gfx.svg.Rect",[l.Shape,b.Rect],{setShape:function(a){this.shape=c.makeParameters(this.shape,a);this.bbox=null;for(var b in this.shape)b!="type"&&b!="r"&&this.rawNode.setAttribute(b,
this.shape[b]);this.shape.r!=null&&(this.rawNode.setAttribute("ry",this.shape.r),this.rawNode.setAttribute("rx",this.shape.r));return this}});l.Rect.nodeType="rect";o("dojox.gfx.svg.Ellipse",[l.Shape,b.Ellipse],{});l.Ellipse.nodeType="ellipse";o("dojox.gfx.svg.Circle",[l.Shape,b.Circle],{});l.Circle.nodeType="circle";o("dojox.gfx.svg.Line",[l.Shape,b.Line],{});l.Line.nodeType="line";o("dojox.gfx.svg.Polyline",[l.Shape,b.Polyline],{setShape:function(a,b){a&&a instanceof Array?(this.shape=c.makeParameters(this.shape,
{points:a}),b&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.shape=c.makeParameters(this.shape,a);this.bbox=null;this._normalizePoints();for(var f=[],e=this.shape.points,d=0;d<e.length;++d)f.push(e[d].x.toFixed(8),e[d].y.toFixed(8));this.rawNode.setAttribute("points",f.join(" "));return this}});l.Polyline.nodeType="polyline";o("dojox.gfx.svg.Image",[l.Shape,b.Image],{setShape:function(a){this.shape=c.makeParameters(this.shape,a);this.bbox=null;var a=this.rawNode,b;for(b in this.shape)b!=
"type"&&b!="src"&&a.setAttribute(b,this.shape[b]);a.setAttribute("preserveAspectRatio","none");a.setAttributeNS(l.xmlns.xlink,"xlink:href",this.shape.src);a.__gfxObject__=this.getUID();return this}});l.Image.nodeType="image";o("dojox.gfx.svg.Text",[l.Shape,b.Text],{setShape:function(a){this.shape=c.makeParameters(this.shape,a);this.bbox=null;var a=this.rawNode,b=this.shape;a.setAttribute("x",b.x);a.setAttribute("y",b.y);a.setAttribute("text-anchor",b.align);a.setAttribute("text-decoration",b.decoration);
a.setAttribute("rotate",b.rotated?90:0);a.setAttribute("kerning",b.kerning?"auto":0);a.setAttribute("text-rendering","optimizeLegibility");a.firstChild?a.firstChild.nodeValue=b.text:a.appendChild(s(b.text));return this},getTextWidth:function(){var a=this.rawNode,c=a.parentNode,a=a.cloneNode(!0);a.style.visibility="hidden";var b=0,f=a.firstChild.nodeValue;c.appendChild(a);if(f!="")for(;!b;)b=a.getBBox?parseInt(a.getBBox().width):68;c.removeChild(a);return b}});l.Text.nodeType="text";o("dojox.gfx.svg.Path",
[l.Shape,a.Path],{_updateWithSegment:function(){this.inherited(arguments);typeof this.shape.path=="string"&&this.rawNode.setAttribute("d",this.shape.path)},setShape:function(){this.inherited(arguments);this.shape.path?this.rawNode.setAttribute("d",this.shape.path):this.rawNode.removeAttribute("d");return this}});l.Path.nodeType="path";o("dojox.gfx.svg.TextPath",[l.Shape,a.TextPath],{_updateWithSegment:function(){this.inherited(arguments);this._setTextPath()},setShape:function(){this.inherited(arguments);
this._setTextPath();return this},_setTextPath:function(){if(typeof this.shape.path=="string"){var a=this.rawNode;if(!a.firstChild){var b=q(l.xmlns.svg,"textPath"),f=s("");b.appendChild(f);a.appendChild(b)}b=(b=a.firstChild.getAttributeNS(l.xmlns.xlink,"href"))&&l.getRef(b);if(!b&&(f=this._getParentSurface())){var f=f.defNode,b=q(l.xmlns.svg,"path"),e=c._base._getUniqueId();b.setAttribute("id",e);f.appendChild(b);a.firstChild.setAttributeNS(l.xmlns.xlink,"xlink:href","#"+e)}b&&b.setAttribute("d",this.shape.path)}},
_setText:function(){var a=this.rawNode;if(!a.firstChild){var b=q(l.xmlns.svg,"textPath"),c=s("");b.appendChild(c);a.appendChild(b)}a=a.firstChild;b=this.text;a.setAttribute("alignment-baseline","middle");switch(b.align){case "middle":a.setAttribute("text-anchor","middle");a.setAttribute("startOffset","50%");break;case "end":a.setAttribute("text-anchor","end");a.setAttribute("startOffset","100%");break;default:a.setAttribute("text-anchor","start"),a.setAttribute("startOffset","0%")}a.setAttribute("baseline-shift",
"0.5ex");a.setAttribute("text-decoration",b.decoration);a.setAttribute("rotate",b.rotated?90:0);a.setAttribute("kerning",b.kerning?"auto":0);a.firstChild.data=b.text}});l.TextPath.nodeType="text";o("dojox.gfx.svg.Surface",b.Surface,{constructor:function(){b.Container._init.call(this)},destroy:function(){this.defNode=null;this.inherited(arguments)},setDimensions:function(a,b){if(!this.rawNode)return this;this.rawNode.setAttribute("width",a);this.rawNode.setAttribute("height",b);return this},getDimensions:function(){return this.rawNode?
{width:c.normalizedLength(this.rawNode.getAttribute("width")),height:c.normalizedLength(this.rawNode.getAttribute("height"))}:null}});l.createSurface=function(a,b,c){var f=new l.Surface;f.rawNode=q(l.xmlns.svg,"svg");f.rawNode.setAttribute("overflow","hidden");b&&f.rawNode.setAttribute("width",b);c&&f.rawNode.setAttribute("height",c);b=q(l.xmlns.svg,"defs");f.rawNode.appendChild(b);f.defNode=b;f._parent=i.byId(a);f._parent.appendChild(f.rawNode);return f};var o={_setFont:function(){var a=this.fontStyle;
this.rawNode.setAttribute("font-style",a.style);this.rawNode.setAttribute("font-variant",a.variant);this.rawNode.setAttribute("font-weight",a.weight);this.rawNode.setAttribute("font-size",a.size);this.rawNode.setAttribute("font-family",a.family)}},r=b.Container,a={openBatch:function(){this.fragment=l.useSvgWeb?m.doc.createDocumentFragment(!0):m.doc.createDocumentFragment()},closeBatch:function(){this.fragment&&(this.rawNode.appendChild(this.fragment),delete this.fragment)},add:function(a){this!=a.getParent()&&
(this.fragment?this.fragment.appendChild(a.rawNode):this.rawNode.appendChild(a.rawNode),r.add.apply(this,arguments));return this},remove:function(a){this==a.getParent()&&(this.rawNode==a.rawNode.parentNode&&this.rawNode.removeChild(a.rawNode),this.fragment&&this.fragment==a.rawNode.parentNode&&this.fragment.removeChild(a.rawNode),r.remove.apply(this,arguments));return this},clear:function(){for(var a=this.rawNode;a.lastChild;)a.removeChild(a.lastChild);var b=this.defNode;if(b){for(;b.lastChild;)b.removeChild(b.lastChild);
a.appendChild(b)}return r.clear.apply(this,arguments)},_moveChildToFront:r._moveChildToFront,_moveChildToBack:r._moveChildToBack},f={createObject:function(a,b){if(!this.rawNode)return null;var c=new a,f=q(l.xmlns.svg,a.nodeType);c.setRawNode(f);c.setShape(b);this.add(c);return c}};d.extend(l.Text,o);d.extend(l.TextPath,o);d.extend(l.Group,a);d.extend(l.Group,b.Creator);d.extend(l.Group,f);d.extend(l.Surface,a);d.extend(l.Surface,b.Creator);d.extend(l.Surface,f);l.fixTarget=function(a){if(!a.gfxTarget)a.gfxTarget=
t&&a.target.wholeText?b.byId(a.target.parentElement.__gfxObject__):b.byId(a.target.__gfxObject__);return!0};if(l.useSvgWeb)l.createSurface=function(a,b,f){var d=new l.Surface;if(!b||!f)var h=e.position(a),b=b||h.w,f=f||h.h;var a=i.byId(a),h=a.id?a.id+"_svgweb":c._base._getUniqueId(),u=q(l.xmlns.svg,"svg");u.id=h;u.setAttribute("width",b);u.setAttribute("height",f);svgweb.appendChild(u,a);u.addEventListener("SVGLoad",function(){d.rawNode=this;d.isLoaded=!0;var a=q(l.xmlns.svg,"defs");d.rawNode.appendChild(a);
d.defNode=a;if(d.onLoad)d.onLoad(d)},!1);d.isLoaded=!1;return d},l.Surface.extend({destroy:function(){var a=this.rawNode;svgweb.removeChild(a,a.parentNode)}}),o={connect:function(a,b,c){a.substring(0,2)==="on"&&(a=a.substring(2));c=arguments.length==2?b:d.hitch(b,c);this.getEventSource().addEventListener(a,c,!1);return[this,a,c]},disconnect:function(a){this.getEventSource().removeEventListener(a[1],a[2],!1);delete a[0]}},d.extend(l.Shape,o),d.extend(l.Surface,o);return l})},"djeo/common/Placemark":function(){define("djeo/common/Placemark",
["dojo/_base/declare","require","dojo/_base/lang","dojo/_base/array","../_base","../util/_base","../Style"],function(d,m,i,o,h,e){var n=d(null,{specificStyleIndex:-1,render:function(c,b,a){this._render(c,b,a)},_render:function(c,b,a){if(c.visible){var e=c.getCoords();if(e){if(a)for(var d=c.baseShapes.length-1;d>=0;d--)this.map.engine.destroy(c.baseShapes.pop(),c);if(c.extraShapes)for(d=c.extraShapes.length-1;d>=0;d--)this.map.engine.destroy(c.extraShapes.pop(),c);d=h.calculateStyle(c,b);if(!b||b==
"normal")c.reg.cs=d;b=c.isPoint()?"point":c.isArea()?"area":"line";a?(this.multipleSymbolizers&&d[b]?o.forEach(d[b],function(){var a=this.createShape(c,e);a&&c.baseShapes.push(a)},this):(a=this.createShape(c,e))&&c.baseShapes.push(a),this.applyStyle(c,d,b,e),o.forEach(c.baseShapes,function(a){this.map.engine.appendChild(a,c)},this)):this.applyStyle(c,d,b,e);if(a=this.makeText(c,d)){if(!c.textShapes)c.textShapes=[];c.textShapes.push(a);this.map.engine.appendChild(a,c)}}else c.invalid=!0}},createShape:function(c,
b){var a;switch(c.getCoordsType()){case "Point":a=this.makePoint(c,b);break;case "LineString":a=this.makeLineString(c,b);break;case "Polygon":a=this.makePolygon(c,b);break;case "MultiPolygon":a=this.makeMultiPolygon(c,b);break;case "MultiLineString":a=this.makeMultiLineString(c,b);break;case "MultiPoint":a=this.makeMultiPoint(c,b)}return a},applyStyle:function(c,b,a,e){switch(a){case "point":this.applyPointStyle(c,b,e);break;case "line":this.applyLineStyle(c,b,e);break;case "area":this.applyPolygonStyle(c,
b,e)}},_getLabel:function(c,b){return b.attr?c.get(b.attr):c.get("label")||c.get("name")},_getIconUrl:function(c,b,a){var d;b&&c?d=n.shapeIconsUrl+n.shapes[b]:a&&(d=e.isRelativeUrl(a)?e.baseUrl+this.map.iconBasePath+a:a);return d},_getImageUrl:function(c){return c&&e.isRelativeUrl(c)?e.baseUrl+this.map.iconBasePath+c:c}});n.defaultShapeType="square";n.shapeIconsUrl=m.toUrl("../resources/icons/");n.shapes={circle:"circle.png",star:"star.png",cross:"cross.png",x:"x.png",square:"square.png",triangle:"triangle.png"};
n.get=function(c,b,a,e){return e&&e[c]!==void 0?e[c]:a&&a[c]!==void 0?a[c]:b[c]};n.getSpecificShapeStyle=function(c,b){if(!c)return null;var a=c.length;return b>=0?b<a?c[b]:c[a-1]:b>=-a?c[a+b]:c[0]};n.getSize=function(c,b,a){c=n.get("size",c,b,a);c!==void 0&&!i.isArray(c)&&(c=[c,c]);return c};n.getScale=function(c,b,a){(c=n.get("scale",c,b,a))||(c=1);return c};n.getAnchor=function(c,b,a,e){var d=n.get("img",c,b,a);return(c=i.isObject(d)&&d.anchor?d.anchor:n.get("anchor",c,b,a))?c:[e[0]/2,e[1]/2]};
n.getImgSrc=function(c,b,a){c=n.get("img",c,b,a);return i.isObject(c)?c.src:c};n.getImgSize=function(c,b,a){var e=n.get("img",c,b,a);return i.isObject(e)&&e.size?e.size:n.getSize(c,b,a)};return n})},"dojo/json":function(){define(["./has"],function(d){var m=typeof JSON!="undefined";d.add("json-parse",m);d.add("json-stringify",m&&JSON.stringify({a:0},function(d,h){return h||1})=='{"a":1}');if(d("json-stringify"))return JSON;else{var i=function(d){return('"'+d.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,
"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:d("json-parse")?JSON.parse:function(d,h){if(h&&!/^([\s\[\{]*(?:"(?:\\.|[^"])+"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(d))throw new SyntaxError("Invalid characters in JSON");return eval("("+d+")")},stringify:function(d,h,e){function n(b,a,d){h&&(b=h(d,b));var s;s=typeof b;if(s=="number")return isFinite(b)?b+"":"null";if(s=="boolean")return b+"";if(b===
null)return"null";if(typeof b=="string")return i(b);if(s=="function"||s=="undefined")return c;if(typeof b.toJSON=="function")return n(b.toJSON(d),a,d);if(b instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(a,c,f){a=b["getUTC"+c]()+(f?1:0);return a<10?"0"+a:a});if(b.valueOf()!==b)return n(b.valueOf(),a,d);var l=e?a+e:"",f=e?" ":"",t=e?"\n":"";if(b instanceof Array){for(var f=b.length,r=[],d=0;d<f;d++)s=n(b[d],l,d),typeof s!="string"&&
(s="null"),r.push(t+l+s);return"["+r.join(",")+t+a+"]"}r=[];for(d in b){var p;if(typeof d=="number")p='"'+d+'"';else if(typeof d=="string")p=i(d);else continue;s=n(b[d],l,d);typeof s=="string"&&r.push(t+l+p+":"+f+s)}return"{"+r.join(",")+t+a+"}"}var c;typeof h=="string"&&(e=h,h=null);return n(d,"","")}}}})},"dojo/_base/json":function(){define(["./kernel","../json"],function(d,m){d.fromJson=function(d){return eval("("+d+")")};d._escapeString=m.stringify;d.toJsonIndentStr="\t";d.toJson=function(i,o){return m.stringify(i,
function(d,e){if(e){var n=e.__json__||e.json;if(typeof n=="function")return n.call(e)}return e},o&&d.toJsonIndentStr)};return d})},"djeo/Style":function(){define("djeo/Style",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","./_base","dojo/colors"],function(d,m,i,o){var h=["points","lines"],e={theme:1,name:1,legend:1},n={id:1,filter:1,styleClass:1,fid:1,composer:1,composerOptions:1,zoom:1},c=/\$(?:(\w+)|\[([^\]]+)\])/g,d=d(null,{def:null,_features:null,constructor:function(a,b){this.map=
b;this._features={};this._setDef(a);a.id&&(b.styleById[a.id]=this)},set:function(a){var b=this.map,c=this.styleClass||this.fid?{}:this._features;this.styleClass?i.forEach(this.styleClass,function(a){if(this.fid)i.forEach(this.fid,function(e){for(var d=b.styleByClassAndFid[a][e],h=d.length,u=0;u<h;u++)if(d[u]==this)break;if(u<h&&(d.splice(u,1),(e=b.getFeatureById(e))&&e.styleClass))for(u=0;u<e.styleClass.length;u++)if(a==e.styleClass[u]&&!c[e.id]){c[e.id]=e;break}},this);else{for(var e=b.styleByClass[a],
d=e.length,h=0;h<d;h++)if(e[h]==this)break;h<d&&(e.splice(h,1),(e=b.featuresByClass[a])&&i.forEach(e,function(a){c[a.id]||(c[a.id]=a)}))}},this):this.fid&&i.forEach(this.fid,function(a){for(var e=b.styleByFid[a],d=e.length,h=0;h<d;h++)if(e[h]==this)break;h<d&&(e.splice(h,1),(a=b.getFeatureById(a))&&!c[a.id]&&(c[a.id]=a))},this);delete this.styleClass;this._setDef(a);this.map.renderFeatures(c)},_setDef:function(a){var b=this.map;for(attr in a)attr in e&&(this[attr]=a[attr]);var f=a.filter;if(f)m.isString(f)&&
(f=f.replace(c,function(a,b,c){return"this.get('"+(b||c)+"')"}),f=eval("_=function(){return "+f+";}")),this.filter=f;if("zoom"in a&&(f=a.zoom,this.zoom=f=m.isArray(f)?f.length==0?[-Infinity,Infinity]:[f[0]===void 0?-Infinity:f[0],f[1]===void 0?Infinity:f[1]]:[f,f],!b._hasZoomStyle))b._hasZoomStyle=!0;var f=a.styleClass,d=a.fid;d&&!m.isArray(d)&&(d=[d]);f?(m.isArray(f)||(f=[f]),i.forEach(f,function(a){if(d){var c=b.styleByClassAndFid;i.forEach(d,function(b){c[a]||(c[a]={});c[a][b]||(c[a][b]=[]);c[a][b].push(this)},
this)}else b.styleByClass[a]||(b.styleByClass[a]=[]),b.styleByClass[a].push(this)},this)):d&&i.forEach(d,function(a){b.styleByFid[a]||(b.styleByFid[a]=[]);b.styleByFid[a].push(this)},this);if(f)this.styleClass=f;if(d)this.fid=d;if(f=a.composer)m.isString(f)&&(f=m.getObject(f)),this.composer=f,this._updated=(new Date).getTime(),this.composerOptions=a.composerOptions||a;if(f=a.handler)m.isString(f)&&(f=m.getObject(f)),this.handler=f;this.def={};for(attr in a)!(attr in e)&&!(attr in n)&&(this.def[attr]=
a[attr])},destroy:function(){delete this.def}});o.calculateStyle=function(a,c){var f=[],e=[],d=a;do e.push(d),d=d.parent;while(d!=a.map);for(d=e.length-1;d>=0;d--)b(e[d],f,c);for(var d=a.map.engine,e=d._get_zoom&&d._get_zoom(),p={},d=0,n=f.length;d<n;d++){var o=f[d],x=o.zoom;if(!x||e===void 0||x[0]<=e&&e<=x[1])if(o.filter?o.filter.call(a.map.useAttrs?a.attrs:a):1)q(p,o.def),o.composer&&o.composer(a,o.composerOptions,p,o._updated)}i.forEach(h,function(a){var b=p[a];b&&!m.isArray(b)&&(p[a]=[b])});return p};
var b=function(b,c,f){var e=b.map;styleClass=b.styleClass;fid=b.id;styleClass?i.forEach(styleClass,function(b){var d=e.styleByClassAndFid;d[b]&&d[b][fid]?a(d[b][fid],c,f):e.styleByClass[b]&&a(e.styleByClass[b],c,f)}):e.styleByFid[fid]&&a(e.styleByFid[fid],c,f);b.style&&a(b.style,c,f)},a=function(a,b,c){i.forEach(a,function(a){if((!a.theme||a.theme=="normal")&&(!c||c=="normal")||a.theme==c){if(a.def.reset)for(var e=b.length-1;e>=0;e--)b.pop();b.push(a)}})},q=function(a,b){for(attr in b)attr=="shape"&&
a.img?delete a.img:attr=="img"&&a.shape&&delete a.shape,a[attr]=b[attr];return a};return d})},"djeo/Placemark":function(){define("djeo/Placemark",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","./_base","./Feature","./util/_base","./util/bbox"],function(d,m,i,o,h,e,n){d=d([h],{type:"",isPlacemark:!0,factory:null,handles:null,baseShapes:null,textShapes:null,reg:null,constructor:function(){this.handles={};this.baseShapes=[];this.reg={}},getType:function(){var c;if(this.coords)c=this.type;
else{var b=this.map.getGeometryById(this.geometryId||this.id);if(b)c=b.type}return c},getCoordsType:function(){return this.getType()},isPoint:function(){return this.getCoordsType()=="Point"},isArea:function(){var c=this.getCoordsType();return c=="Polygon"||c=="MultiPolygon"},isLine:function(){var c=this.getCoordsType();return c=="LineString"||c=="MultiLineString"},getCoords:function(){return this._getCoords()},_getCoords:function(){var c=this.coords;if(!c){var b=this.map.getGeometryById(this.geometryId||
this.id);if(b)c=b.coords}return c},_set_coords:function(c){var b=this.map.getCoords(c);this.map.engine.factories.Placemark.setCoords(b,this);delete this._bb;this.coords=c;this._coords=b},_get_coords:function(){return this.getCoords()},render:function(c,b){!c&&this.state&&(c=this.map.states[this.state]);this.map.engine.factories.Placemark.render(this,c,b)},_render:function(c,b){b&&this.parent._show(this,!0,!0);this.map.engine.factories.Placemark._render(this,c,b)},remove:function(){this.map.engine.factories.Placemark.remove(this)},
show:function(c){c===void 0&&(c=!0);this.visible!=c&&this.parent._show(this,c)},_show:function(c){this.map.engine.factories.Placemark.show(this,c);this.visible=c},getBbox:function(){var c=this._bbox||this.bbox;c||(c=n.get(this));return c},onForHandle:function(c,b){if(this.invalid)return c;var a=this.handles[c];if(!a||!b.key){var d=b.events,d=m.isString(d)?[d]:d;if(a){var h=a[3];i.forEach(h,function(a){a&&this.map.engine.disconnect(a)},this)}var h=[],a=[d,b.context,b.method,h],l=0;i.forEach(d,function(a){o.events[a]?
(h.push(this.map.engine.onForFeature(this,a,b.method,b.context)),l++):h.push(null)},this);if(!l)return c;c=c||e.uid();this.handles[c]||(this.handles[c]=a)}if(b.key)a.length==4&&(a[4]={}),a[4][b.key]=b.value;return c},disconnect:function(c,b,a){var e=this.handles[c];if(e){var d=!0;if(b){if(e.length==4)return;delete e[4][b];if(a)for(var l in e[4]){d=!1;break}}d&&(i.forEach(e[3],function(a){this.map.engine.disconnect(a)},this),delete this.handles[c])}},_set_state:function(c){this.state=c;this.render()},
_set_orientation:function(c){var b=this.map.engine.factories.Placemark,c=m.isObject(c)?c.heading:c;if(c!==void 0)b.setOrientation(c,this),this.orientation=c}});h=o.featureTypes;h.Placemark=d;h.Point=d;h.LineString=d;h.Polygon=d;h.MultiLineString=d;return h.MultiPolygon=d})},"dojo/i18n":function(){define(["./_base/kernel","require","./has","./_base/array","./_base/config","./_base/lang","./_base/xhr","./json"],function(d,m,i,o,h,e,n,c){i.add("dojo-preload-i18n-Api",1);var b=d.i18n={},a=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,
q=function(a,b,c,f){for(var e=[c+f],b=b.split("-"),d="",l=0;l<b.length;l++)d+=(d?"-":"")+b[l],(!a||a[d])&&e.push(c+d+"/"+f);return e},s={},l=d.getL10nName=function(a,b,c){c=c?c.toLowerCase():d.locale;a="dojo/i18n!"+a.replace(/\./g,"/");b=b.replace(/\./g,"/");return/root/i.test(c)?a+"/nls/"+b:a+"/nls/"+c+"/"+b},f=function(a,b,c,f,d,l){a([b],function(w){var h=e.clone(w.root),u=q(!w._v1x&&w,d,c,f);a(u,function(){for(var a=1;a<u.length;a++)h=e.mixin(e.clone(h),arguments[a]);s[b+"/"+d]=h;l()})})},t=function(a){var b=
h.extraLocale||[],b=e.isArray(b)?b:[b];b.push(a);return b},r=function(b,l,w){if(i("dojo-preload-i18n-Api")){var h=b.split("*"),u=h[1]=="preload";u&&(s[b]||(s[b]=1,y(h[2],c.parse(h[3]),1)),w(1));if(!(h=u))z&&x.push([b,l,w]),h=z;if(h)return}var b=a.exec(b),p=b[1]+"/",n=b[5]||b[4],q=p+n,h=(b=b[5]&&b[4])||d.locale,r=q+"/"+h,b=b?[h]:t(h),m=b.length,A=function(){--m||w(e.delegate(s[r]))};o.forEach(b,function(a){var b=q+"/"+a;i("dojo-preload-i18n-Api")&&B(b);s[b]?A():f(l,q,p,n,a,A)})};if(i("dojo-unit-tests"))var p=
b.unitTests=[];i("dojo-preload-i18n-Api");var A=b.normalizeLocale=function(a){a=a?a.toLowerCase():d.locale;return a=="root"?"ROOT":a},z=0,x=[],y=b._preloadLocalizations=function(a,b,c){function f(a,b){for(var c=a.split("-");c.length;){if(b(c.join("-")))return!0;c.pop()}return b("ROOT")}function e(d){d=A(d);f(d,function(f){if(o.indexOf(b,f)>=0)return f=a.replace(/\./g,"/")+"_"+f,z++,(m.isXdUrl(m.toUrl(f+".js"))||c?m:w)([f],function(a){for(var b in a)s[b+"/"+d]=a[b];for(--z;!z&&x.length;)r.apply(null,
x.shift())}),!0;return!1})}e();o.forEach(d.config.extraLocale,e)},u=new Function("__bundle","__checkForLegacyModules","__mid","var define = function(){define.called = 1;},    require = function(){define.called = 1;};try{define.called = 0;eval(__bundle);if(define.called==1)return 1;if((__checkForLegacyModules = __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),w=function(a,b){var c=[];o.forEach(a,function(a){function b(e){e=
u(e,B,a);e===1?m([a],function(a){c.push(s[f]=a)}):(e instanceof Error&&(e={}),c.push(s[f]=/nls\/[^\/]+\/[^\/]+$/.test(f)?e:{root:e,_v1x:1}))}var f=m.toUrl(a+".js");if(s[f])c.push(s[f]);else{var e=m.syncLoadNls(a);if(e)c.push(e);else if(n)n.get({url:f,sync:!0,load:b,error:function(){c.push(s[f]={})}});else try{m.getText(f,!0,b)}catch(d){c.push(s[f]={})}}});b&&b.apply(null,c)},B=function(a){for(var b,c=a.split("/"),f=d.global[c[0]],e=1;f&&e<c.length-1;f=f[c[e++]]);f&&((b=f[c[e]])||(b=f[c[e].replace(/-/g,
"_")]),b&&(s[a]=b));return b};b.getLocalization=function(a,b,c){var f,a=l(a,b,c).substring(10);r(a,!m.isXdUrl(m.toUrl(a+".js"))?w:m,function(a){f=a});return f};i("dojo-unit-tests")&&p.push(function(a){a.register("tests.i18n.unit",function(a){var b;b=u("{prop:1}");a.is({prop:1},b);a.is(void 0,b[1]);b=u("({prop:1})");a.is({prop:1},b);a.is(void 0,b[1]);b=u("{'prop-x':1}");a.is({"prop-x":1},b);a.is(void 0,b[1]);b=u("({'prop-x':1})");a.is({"prop-x":1},b);a.is(void 0,b[1]);b=u("define({'prop-x':1})");a.is(1,
b);b=u("this is total nonsense and should throw an error");a.is(b instanceof Error,!0)})});return e.mixin(b,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:r,cache:s})})},"dojo/dom-construct":function(){define("dojo/dom-construct",["exports","./_base/kernel","./_base/sniff","./_base/window","./dom","./dom-attr","./on"],function(d,m,i,o,h,e,n){function c(a,b){var c=b.parentNode;c&&c.insertBefore(a,b)}var b={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table",
"tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},a=/<\s*([\w\:]+)/,q={},s=0,l="__"+m._scopeName+"ToDomId",f;for(f in b)if(b.hasOwnProperty(f))m=b[f],m.pre=f=="option"?'<select multiple="multiple">':"<"+m.join("><")+">",m.post="</"+m.reverse().join("></")+">";var t=null,r;n(window,"unload",function(){t=null});d.toDom=function(c,f){var f=f||o.doc,e=f[l];e||(f[l]=e=++s+"",q[e]=f.createElement("div"));
c+="";var d=c.match(a),h=d?d[1].toLowerCase():"",e=q[e];if(d&&b[h]){d=b[h];e.innerHTML=d.pre+c+d.post;for(d=d.length;d;--d)e=e.firstChild}else e.innerHTML=c;if(e.childNodes.length==1)return e.removeChild(e.firstChild);for(h=f.createDocumentFragment();d=e.firstChild;)h.appendChild(d);return h};d.place=function(a,b,f){b=h.byId(b);typeof a=="string"&&(a=/^\s*</.test(a)?d.toDom(a,b.ownerDocument):h.byId(a));if(typeof f=="number"){var e=b.childNodes;!e.length||e.length<=f?b.appendChild(a):c(a,e[f<0?0:
f])}else switch(f){case "before":c(a,b);break;case "after":f=a;(e=b.parentNode)&&(e.lastChild==b?e.appendChild(f):e.insertBefore(f,b.nextSibling));break;case "replace":b.parentNode.replaceChild(a,b);break;case "only":d.empty(b);b.appendChild(a);break;case "first":if(b.firstChild){c(a,b.firstChild);break}default:b.appendChild(a)}return a};d.create=function(a,b,c,f){var l=o.doc;if(c)c=h.byId(c),l=c.ownerDocument;typeof a=="string"&&(a=l.createElement(a));b&&e.set(a,b);c&&d.place(a,c,f);return a};d.empty=
i("ie")?function(a){for(var a=h.byId(a),b;b=a.lastChild;)d.destroy(b)}:function(a){h.byId(a).innerHTML=""};d.destroy=function(a){a=h.byId(a);try{var b=a.ownerDocument;if(!t||r!=b)t=b.createElement("div"),r=b;t.appendChild(a.parentNode?a.parentNode.removeChild(a):a);t.innerHTML=""}catch(c){}}})},"dijit/BackgroundIframe":function(){define("dijit/BackgroundIframe",["require",".","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/_base/sniff","dojo/_base/window"],
function(d,m,i,o,h,e,n,c,b){var a=new function(){var a=[];this.pop=function(){var e;a.length?(e=a.pop(),e.style.display=""):(c("ie")<9?(e="<iframe src='"+(i.dojoBlankHtmlUrl||d.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role='presentation' style='position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity=\"0\");'>",e=b.doc.createElement(e)):(e=o.create("iframe"),e.src='javascript:""',e.className="dijitBackgroundIframe",e.setAttribute("role","presentation"),h.set(e,"opacity",
0.1)),e.tabIndex=-1);return e};this.push=function(b){b.style.display="none";a.push(b)}};m.BackgroundIframe=function(b){if(!b.id)throw Error("no id");if(c("ie")||c("mozilla")){var d=this.iframe=a.pop();b.appendChild(d);c("ie")<7||c("quirks")?(this.resize(b),this._conn=n(b,"resize",e.hitch(this,function(){this.resize(b)}))):h.set(d,{width:"100%",height:"100%"})}};e.extend(m.BackgroundIframe,{resize:function(a){this.iframe&&h.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){if(this._conn)this._conn.remove(),
this._conn=null;this.iframe&&(a.push(this.iframe),delete this.iframe)}});return m.BackgroundIframe})},"djeo/widget/Legend":function(){define("djeo/widget/Legend",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/dom-construct","dijit/_Widget","dijit/_TemplatedMixin","../dojox/gfx","../dojox/gfx/matrix","../_base","../common/Placemark","../gfx","../Style"],function(d,m,i,o,h,e,n,c,b,a,q){d=d([h,e],{templateString:"<table dojoAttachPoint='legendNode' class='dojoxLegendNode' role='group' aria-label='map legend'><tbody dojoAttachPoint='legendBody'></tbody></table>",
legendNode:null,legendBody:null,postCreate:function(){this.map&&this.refresh()},refresh:function(){for(;this.legendBody.lastChild;)o.destroy(this.legendBody.lastChild);var a=this.map,b=a.styleByClass,c=a.styleByFid,e;for(e in b)this._processStyle(b[e],a.featuresByClass[e]);for(var d in c)(b=a.getFeatureById(d))&&this._processStyle(c[d],[b]);this._processInlineStyle(a.document)},_processInlineStyle:function(a){a.style&&this._processStyle(a.style,[a]);i.forEach(a.features,function(a){a.isContainer?
this._processInlineStyle(a):a.style&&this._processStyle(a.style,[a])},this)},_processStyle:function(a,b){i.forEach(a,function(a){var c=a.legend;if(c){var e=o.create("tr",null,this.legendBody),e=o.create("td",null,e),d=this.getName?this.getName(a):a.name,c=m.isString(c)?m.getObject(c):c;c(e,a,b,d)}},this)}});d._getBreaksIconLegend=function(e,d,f,h){var r=d.composerOptions,p=m.isString(r.composeStyle)?m.getObject(r.composeStyle):r.composeStyle;i.forEach(f,function(f){var d=b.calculateStyle(f.features[0]);
if(f=m.isArray(r.breaks)?r.breaks:f._breaks){var l=m.isArray(r.breaks)?r.breaks.length-1:r.numClasses,i=!0,u=a.get("shape",d),w=a.getImgSrc(d),B=w?a.getImgSize(d):a.getSize(d);if(!u&&w)i=!1;else if(!b.shapes[u])u=a.defaultShapeType;h&&o.create("div",{innerHTML:h+":"},e);var I=o.create("table",null,e),I=o.create("tbody",null,I);for(l-=1;l>=0;l--){var T=o.create("tr",null,I),J=o.create("td",null,T),H={},F,D;p(H,l,r);H.fill?(d.fill=H.fill,F=B[0],D=B[1]):(F=B[0]>B[1]?H.size:H.size*B[0]/B[1],D=B[0]>B[1]?
H.size*B[1]/B[0]:H.size);H=Math.max(F,D);if(i){var C=n.createSurface(J,F+2,D+2),E=b.shapes[u],J=u=="circle"?Math.max(F,D):Math.max(E.size[0],E.size[1]);F=u=="circle"?C.createCircle({cx:F/2+1,cy:D/2+1,r:Math.min(F,D)/2}):C.createPolyline(E.points).setTransform([c.translate(F/2+1,D/2+1),c.scale(H/J)]);q.applyFill(F,d);q.applyStroke(F,d,null,null,J/H)}else o.create("img",{src:w,width:F,height:D},J);o.create("td",{innerHTML:f[l]+"..."+f[l+1]},T)}}})};d._getBreaksAreaLegend=function(a,c,f,e){var d=c.composerOptions,
h=m.isString(d.composeStyle)?m.getObject(d.composeStyle):d.composeStyle;i.forEach(f,function(c){b.calculateStyle(c.features[0]);if(c=m.isArray(d.breaks)?d.breaks:c._breaks){var f=m.isArray(d.breaks)?d.breaks.length-1:d.numClasses;e&&o.create("div",{innerHTML:e+":"},a);var l=o.create("table",null,a),l=o.create("tbody",null,l);for(f-=1;f>=0;f--){var n=o.create("tr",null,l),u={};h(u,f,d);o.create("td",{innerHTML:"&nbsp;&nbsp;&nbsp;&nbsp;",style:{backgroundColor:u.fill}},n);o.create("td",{innerHTML:c[f]+
"..."+c[f+1]},n)}}})};return d})},"djeo/control/Navigation":function(){define("djeo/control/Navigation",["dojo/_base/declare","dojo/_base/lang","../_base"],function(d,m,i){i.registerDependency("Navigation");return d(null,{constructor:function(d,h){this.map=d;var e=this.map.engine.getFactory("Navigation");e&&(m.mixin(this,e),h&&m.mixin(this,h),this.enable(!0))},enable:function(){},_onZoom:function(){this.map.engine.onzoom_changed()}})})},"dojo/_base/event":function(){define(["./kernel","../on","../has",
"../dom-geometry"],function(d,m,i,o){if(m._fixEvent){var h=m._fixEvent;m._fixEvent=function(e,d){(e=h(e,d))&&o.normalizeEvent(e);return e}}d.fixEvent=function(e,d){if(m._fixEvent)return m._fixEvent(e,d);return e};d.stopEvent=function(e){i("dom-addeventlistener")||e&&e.preventDefault?(e.preventDefault(),e.stopPropagation()):(e=e||window.event,e.cancelBubble=!0,m._preventDefault.call(e))};return{fix:d.fixEvent,stop:d.stopEvent}})},"dojo/Stateful":function(){define(["./_base/kernel","./_base/declare",
"./_base/lang","./_base/array"],function(d,m,i,o){return d.declare("dojo.Stateful",null,{postscript:function(d){d&&i.mixin(this,d)},get:function(d){return this[d]},set:function(d,e){if(typeof d==="object"){for(var n in d)this.set(n,d[n]);return this}n=this[d];this[d]=e;this._watchCallbacks&&this._watchCallbacks(d,n,e);return this},watch:function(d,e){var n=this._watchCallbacks;if(!n)var c=this,n=this._watchCallbacks=function(a,b,e,d){var f=function(f){if(f)for(var f=f.slice(),d=0,l=f.length;d<l;d++)try{f[d].call(c,
a,b,e)}catch(h){}};f(n["_"+a]);d||f(n["*"])};!e&&typeof d==="function"?(e=d,d="*"):d="_"+d;var b=n[d];typeof b!=="object"&&(b=n[d]=[]);b.push(e);return{unwatch:function(){b.splice(o.indexOf(b,e),1)}}}})})},"djeo/_base":function(){define("djeo/_base",["dojo/_base/lang","dojo/_base/array"],function(d,m){function i(c,b,a){m.forEach(c.features,function(c){c.isContainer?i(c,b,a):b.call(a,c)})}var o={defaultLayerID:"ROADMAP",defaultEngine:"djeo",featureTypes:{},events:{mouseover:1,mouseout:1,click:1,mousemove:1}},
h={};o.dependencies=h;o.registerDependency=function(c,b){h[c]=b||1};o.defaultStyle=[{stroke:"black",strokeWidth:0.5,strokeOpacity:1,fill:"#B7B7B7",fillOpacity:0.8,shape:"square",size:10},{theme:"highlight",stroke:"orange",area:{strokeWidth:3},rScale:1.5}];o.getLayerClassId=function(c){var b=c.indexOf(":");return b>0?c.substring(0,b):c};o.getTraversedAttr=function(c,b){for(var a=c;a;){var e=a[b];if(e!==void 0)return e;a=a.parent}};o.forEach=function(c,b,a){d.isArray(c)||(c=[c]);m.forEach(c,function(c){c.isContainer?
i(c,b,a):b.call(a,c)})};for(var e=[1/156543.034],n=1;n<20;n++)e[n]=2*e[n-1];o.scales=e;return o})},"dojo/touch":function(){define(["./_base/kernel","./on","./has","./mouse"],function(d,m,i,o){function h(e){return function(d,c){return m(d,e,c)}}i=i("touch");d.touch={press:h(i?"touchstart":"mousedown"),move:h(i?"touchmove":"mousemove"),release:h(i?"touchend":"mouseup"),cancel:i?h("touchcancel"):o.leave};return d.touch})},"djeo/dojox/gfx/canvasWithEvents":function(){define("djeo/dojox/gfx/canvasWithEvents",
["dojo/_base/lang","dojo/_base/declare","dojo/_base/connect","dojo/_base/Color","dojo/dom","dojo/dom-geometry","./_base","./canvas","./shape","./matrix"],function(d,m,i,o,h,e,n,c,b,a){var q=n.canvasWithEvents={};m("dojox.gfx.canvasWithEvents.Shape",c.Shape,{_testInputs:function(b,c){if(!this.canvasFill&&this.strokeStyle)this._hitTestPixel(b,c);else{this._renderShape(b);for(var f=this.getTransform(),e=0;e<c.length;++e){var d=c[e];if(!d.target){var l=d.x,w=d.y,l=f?a.multiplyPoint(a.invert(f),l,w):{x:l,
y:w};d.target=this._hitTestGeometry(b,l.x,l.y)}}}},_hitTestPixel:function(a,b){for(var c=0;c<b.length;++c){var f=b[c];if(!f.target){var e=f.x,d=f.y;a.clearRect(0,0,1,1);a.save();a.translate(-e,-d);this._render(a,!0);f.target=a.getImageData(0,0,1,1).data[0]?this:null;a.restore()}}},_hitTestGeometry:function(a,b,c){return a.isPointInPath(b,c)?this:null},_renderFill:function(a,b){a.pickingMode?"canvasFill"in this&&b&&a.fill():this.inherited(arguments)},_renderStroke:function(a){if(this.strokeStyle&&
a.pickingMode){var b=this.strokeStyle.color;try{this.strokeStyle.color=new o(a.strokeStyle),this.inherited(arguments)}finally{this.strokeStyle.color=b}}else this.inherited(arguments)},getEventSource:function(){return this.surface.getEventSource()},connect:function(a,b,c){this.surface._setupEvents(a);return arguments.length>2?i.connect(this,a,b,c):i.connect(this,a,b)},disconnect:function(a){i.disconnect(a)},oncontextmenu:function(){},onclick:function(){},ondblclick:function(){},onmouseenter:function(){},
onmouseleave:function(){},onmouseout:function(){},onmousedown:function(){},ontouchstart:function(){},touchstart:function(){},onmouseup:function(){},ontouchend:function(){},touchend:function(){},onmouseover:function(){},onmousemove:function(){},ontouchmove:function(){},touchmove:function(){},onkeydown:function(){},onkeyup:function(){}});m("dojox.gfx.canvasWithEvents.Group",[q.Shape,c.Group],{_testInputs:function(b,c){var f=this.children,e=this.getTransform(),d;if(f.length!=0){var l=[];for(d=0;d<c.length;++d){var w=
c[d];l[d]={x:w.x,y:w.y};if(!w.target){var h=w.x,n=w.y,h=e?a.multiplyPoint(a.invert(e),h,n):{x:h,y:n};w.x=h.x;w.y=h.y}}for(d=f.length-1;d>=0;--d){f[d]._testInputs(b,c);w=!0;for(e=0;e<c.length;++e)if(c[e].target==null){w=!1;break}if(w)break}for(d=0;d<c.length;++d)c[d].x=l[d].x,c[d].y=l[d].y}}});m("dojox.gfx.canvasWithEvents.Image",[q.Shape,c.Image],{_renderShape:function(a){var b=this.shape;a.pickingMode?a.fillRect(b.x,b.y,b.width,b.height):this.inherited(arguments)},_hitTestGeometry:function(a,b,c){a=
this.shape;return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height?this:null}});m("dojox.gfx.canvasWithEvents.Text",[q.Shape,c.Text],{_testInputs:function(a,b){return this._hitTestPixel(a,b)}});m("dojox.gfx.canvasWithEvents.Rect",[q.Shape,c.Rect],{});m("dojox.gfx.canvasWithEvents.Circle",[q.Shape,c.Circle],{});m("dojox.gfx.canvasWithEvents.Ellipse",[q.Shape,c.Ellipse],{});m("dojox.gfx.canvasWithEvents.Line",[q.Shape,c.Line],{});m("dojox.gfx.canvasWithEvents.Polyline",[q.Shape,c.Polyline],{});m("dojox.gfx.canvasWithEvents.Path",
[q.Shape,c.Path],{});m("dojox.gfx.canvasWithEvents.TextPath",[q.Shape,c.TextPath],{});var s={onmouseenter:"onmousemove",onmouseleave:"onmousemove",onmouseout:"onmousemove",onmouseover:"onmousemove",touchstart:"ontouchstart",touchend:"ontouchend",touchmove:"ontouchmove"},l={ontouchstart:"touchstart",ontouchend:"touchend",ontouchmove:"touchmove"},f=navigator.userAgent.toLowerCase(),t=f.search("iphone")>-1||f.search("ipad")>-1||f.search("ipod")>-1;m("dojox.gfx.canvasWithEvents.Surface",c.Surface,{constructor:function(){this._pick=
{curr:null,last:null};this._pickOfMouseUp=this._pickOfMouseDown=null},connect:function(a,c,f){return a.indexOf("touch")!==-1?(this._setupEvents(a),i.connect(this,"_on"+a+"Impl_",c,f)):(this._initMirrorCanvas(),i.connect(this.getEventSource(),a,null,b.fixCallback(this,n.fixTarget,c,f)))},_ontouchstartImpl_:function(){},_ontouchendImpl_:function(){},_ontouchmoveImpl_:function(){},_initMirrorCanvas:function(){if(!this.mirrorCanvas){var a=this._parent,b=a.ownerDocument.createElement("canvas");b.width=
1;b.height=1;b.style.position="absolute";b.style.left="-99999px";b.style.top="-99999px";a.appendChild(b);this.mirrorCanvas=b}},_setupEvents:function(a){a in s&&(a=s[a]);if(!this._eventsH||!this._eventsH[a]){this._initMirrorCanvas();if(!this._eventsH)this._eventsH={};this._eventsH[a]=i.connect(this.getEventSource(),a,b.fixCallback(this,n.fixTarget,this,"_"+a));if(a==="onclick"||a==="ondblclick")this._eventsH.onmousedown||(this._eventsH.onmousedown=i.connect(this.getEventSource(),"onmousedown",b.fixCallback(this,
n.fixTarget,this,"_onmousedown"))),this._eventsH.onmouseup||(this._eventsH.onmouseup=i.connect(this.getEventSource(),"onmouseup",b.fixCallback(this,n.fixTarget,this,"_onmouseup")))}},destroy:function(){c.Surface.destroy.apply(this);for(var a in this._eventsH)i.disconnect(this._eventsH[a]);this._eventsH=this.mirrorCanvas=null},getEventSource:function(){return this.rawNode},_invokeHandler:function(a,b,c){var f=a[b];f&&f.after?f.apply(a,[c]):b in l&&(f=a[l[b]])&&f.after&&f.apply(a,[c]);!f&&b.indexOf("touch")!==
-1&&(b="_"+b+"Impl_",(f=a[b])&&f.apply(a,[c]));!r(c)&&a.parent&&this._invokeHandler(a.parent,b,c)},_oncontextmenu:function(a){this._pick.curr&&this._invokeHandler(this._pick.curr,"oncontextmenu",a)},_ondblclick:function(a){this._pickOfMouseUp&&this._invokeHandler(this._pickOfMouseUp,"ondblclick",a)},_onclick:function(a){this._pickOfMouseUp&&this._pickOfMouseUp==this._pickOfMouseDown&&this._invokeHandler(this._pickOfMouseUp,"onclick",a)},_onmousedown:function(a){(this._pickOfMouseDown=this._pick.curr)&&
this._invokeHandler(this._pick.curr,"onmousedown",a)},_ontouchstart:function(a){this._pick.curr&&this._fireTouchEvent(a)},_onmouseup:function(a){(this._pickOfMouseUp=this._pick.curr)&&this._invokeHandler(this._pick.curr,"onmouseup",a)},_ontouchend:function(a){if(this._pick.curr)for(var b=0;b<this._pick.curr.length;++b)if(this._pick.curr[b].target)a.gfxTarget=this._pick.curr[b].target,this._invokeHandler(this._pick.curr[b].target,"ontouchend",a)},_onmousemove:function(a){this._pick.last&&this._pick.last!=
this._pick.curr&&(this._invokeHandler(this._pick.last,"onmouseleave",a),this._invokeHandler(this._pick.last,"onmouseout",a));this._pick.curr&&(this._pick.last==this._pick.curr?this._invokeHandler(this._pick.curr,"onmousemove",a):(this._invokeHandler(this._pick.curr,"onmouseenter",a),this._invokeHandler(this._pick.curr,"onmouseover",a)))},_ontouchmove:function(a){this._pick.curr&&this._fireTouchEvent(a)},_fireTouchEvent:function(a){for(var b=[],c=0;c<this._pick.curr.length;++c){var f=this._pick.curr[c];
if(f.target){var e=f.target.__gfxtt;if(!e)e=[],f.target.__gfxtt=e;e.push(f.t);if(!f.target.__inToFire)b.push(f.target),f.target.__inToFire=!0}}if(b.length===0)this._invokeHandler(this,"on"+a.type,a);else for(c=0;c<b.length;++c)(function(){var f=b[c].__gfxtt,e=d.delegate(a,{gfxTarget:b[c]});if(t)e.preventDefault=function(){a.preventDefault()},e.stopPropagation=function(){a.stopPropagation()};e.__defineGetter__("targetTouches",function(){return f});delete b[c].__gfxtt;delete b[c].__inToFire;this._invokeHandler(b[c],
"on"+a.type,e)}).call(this)},_onkeydown:function(){},_onkeyup:function(){},_whatsUnderEvent:function(a){var b=e.position(this.rawNode,!0),c=[],f=a.changedTouches,d=a.touches;if(f)for(a=0;a<f.length;++a)c.push({t:f[a],x:f[a].pageX-b.x,y:f[a].pageY-b.y});else if(d)for(a=0;a<d.length;++a)c.push({t:d[a],x:d[a].pageX-b.x,y:d[a].pageY-b.y});else c.push({x:a.pageX-b.x,y:a.pageY-b.y});var a=this.mirrorCanvas,b=a.getContext("2d"),l=this.children;b.clearRect(0,0,a.width,a.height);b.save();b.strokeStyle="rgba(127,127,127,1.0)";
b.fillStyle="rgba(127,127,127,1.0)";b.pickingMode=!0;for(a=l.length-1;a>=0;a--){l[a]._testInputs(b,c);var w=!0;for(j=0;j<c.length;++j)if(c[j].target==null){w=!1;break}if(w)break}b.restore();return d||f?c:c[0].target}});q.createSurface=function(a,b,c){if(!b&&!c)var f=e.position(a),b=b||f.w,c=c||f.h;typeof b=="number"&&(b+="px");typeof c=="number"&&(c+="px");var f=new q.Surface,a=h.byId(a),d=a.ownerDocument.createElement("canvas");d.width=n.normalizedLength(b);d.height=n.normalizedLength(c);a.appendChild(d);
f.rawNode=d;f._parent=a;return f.surface=f};var r=function(a){if(a.cancelBubble!==void 0)return a.cancelBubble;return!1};q.fixTarget=function(a,b){if(r(a))return!1;if(!a.gfxTarget&&(b._pick.last=b._pick.curr,b._pick.curr=b._whatsUnderEvent(a),!d.isArray(b._pick.curr)))a.gfxTarget=b._pick.curr;return!0};return q})},"xstyle/css":function(){define("xstyle/css",["require"],function(d){var m=window.cssCache||(window.cssCache={});return{load:function(i,o,h){var e=o.toUrl(i);if(m[e])return createStyleSheet(m[e]);
var n=document.documentElement,c=n.insertBefore(document.createElement("div"),n.firstChild);c.id=o.toAbsMid(i).replace(/\//g,"-").replace(/\..*/,"")+"-loaded";i=(c.currentStyle||getComputedStyle(c,null)).display;n.removeChild(c);if(i=="none")return h();d(["./load-css"],function(b){b(e,h)})},pluginBuilder:"xstyle/css-builder"}})},"dojo/_base/url":function(){define(["./kernel"],function(d){var m=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,i=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,
o=function(){for(var d=arguments,e=[d[0]],n=1;n<d.length;n++)if(d[n]){var c=new o(d[n]+""),e=new o(e[0]+"");if(c.path==""&&!c.scheme&&!c.authority&&!c.query){if(c.fragment!=null)e.fragment=c.fragment;c=e}else if(!c.scheme&&(c.scheme=e.scheme,!c.authority&&(c.authority=e.authority,c.path.charAt(0)!="/"))){for(var e=(e.path.substring(0,e.path.lastIndexOf("/")+1)+c.path).split("/"),b=0;b<e.length;b++)e[b]=="."?b==e.length-1?e[b]="":(e.splice(b,1),b--):b>0&&!(b==1&&e[0]=="")&&e[b]==".."&&e[b-1]!=".."&&
(b==e.length-1?(e.splice(b,1),e[b-1]=""):(e.splice(b-1,2),b-=2));c.path=e.join("/")}e=[];c.scheme&&e.push(c.scheme,":");c.authority&&e.push("//",c.authority);e.push(c.path);c.query&&e.push("?",c.query);c.fragment&&e.push("#",c.fragment)}this.uri=e.join("");d=this.uri.match(m);this.scheme=d[2]||(d[1]?"":null);this.authority=d[4]||(d[3]?"":null);this.path=d[5];this.query=d[7]||(d[6]?"":null);this.fragment=d[9]||(d[8]?"":null);if(this.authority!=null)d=this.authority.match(i),this.user=d[3]||null,this.password=
d[4]||null,this.host=d[6]||d[7],this.port=d[9]||null};o.prototype.toString=function(){return this.uri};return d._Url=o})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(d,m){m.getObject("string",!0,d);d.string.rep=function(d,m){if(m<=0||!d)return"";for(var h=[];;){m&1&&h.push(d);if(!(m>>=1))break;d+=d}return h.join("")};d.string.pad=function(i,m,h,e){h||(h="0");i=String(i);m=d.string.rep(h,Math.ceil((m-i.length)/h.length));return e?i+m:m+i};d.string.substitute=function(i,
o,h,e){e=e||d.global;h=h?m.hitch(e,h):function(d){return d};return i.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(d,c,b){d=m.getObject(c,!1,o);b&&(d=m.getObject(b,!1,e).call(e,d,c));return h(d,c).toString()})};d.string.trim=String.prototype.trim?m.trim:function(d){for(var d=d.replace(/^\s+/,""),m=d.length-1;m>=0;m--)if(/\S/.test(d.charAt(m))){d=d.substring(0,m+1);break}return d};return d.string})},"dojo/domReady":function(){define(["./has"],function(d){function m(a){n?a(1):c.push(a)}
var i=this,o=document,h={loaded:1,complete:1},e=typeof o.readyState!="string",n=!!h[o.readyState];if(e)o.readyState="loading";if(!n){var c=[],b=[],a=function(a){a=a||i.event;if(!(n||a.type=="readystatechange"&&!h[o.readyState])){n=1;if(e)o.readyState="complete";for(;c.length;)c.shift()()}},q=function(b,f){b.addEventListener(f,a,!1);c.push(function(){b.removeEventListener(f,a,!1)})};if(!d("dom-addeventlistener")){var q=function(b,f){f="on"+f;b.attachEvent(f,a);c.push(function(){b.detachEvent(f,a)})},
s=o.createElement("div");try{s.doScroll&&i.frameElement===null&&b.push(function(){try{return s.doScroll("left"),1}catch(a){}})}catch(l){}}q(o,"DOMContentLoaded");q(i,"load");"onreadystatechange"in o?q(o,"readystatechange"):e||b.push(function(){return h[o.readyState]});if(b.length){var f=function(){if(!n){for(var c=b.length;c--;)if(b[c]()){a("poller");return}setTimeout(f,30)}};f()}}m.load=function(a,b,c){m(c)};return m})},"xstyle/load-css":function(){define("xstyle/load-css",[],function(){function d(a,
b){var c=a[e]("link");c.rel="stylesheet";c.type="text/css";if(b)c.href=b;return c}function m(a){for(var a=a.split("!"),b,c=1;b=a[c++];)b=b.split("=",2),a[b[0]]=b.length==2?b[1]:!0;return a}function i(b){if(a["dom-create-style-element"])return c=document.createElement("style"),c.setAttribute("type","text/css"),c.appendChild(document.createTextNode(b)),q.insertBefore(c,q.firstChild),c;else{var c=document.createStyleSheet();c.cssText=b;return c.owningElement}}var o="onreadystatechange",h="onload",e=
"createElement",n=!1,c=document,b=typeof _css_cache=="undefined"?{}:_css_cache,a={"event-link-onload":!1,"dom-create-style-element":!document.createStyleSheet},q=c.head||(c.head=c.getElementsByTagName("head")[0]);if(!a["bundled-css"])var s=function(b,f){function d(a){var b,f,l=!1;try{if(b=a.sheet||a.styleSheet)if((l=(f=b.cssRules||b.rules)?f.length>0:f!==void 0)&&navigator.userAgent.indexOf("Chrome")>=0){b.insertRule("#_cssx_load_test{margin-top:-5px;}",0);if(!m)m=document[e]("div"),m.id="_cssx_load_test",
m.style.cssText="position:absolute;top:-999px;left:-999px;",c.body.appendChild(m);l=c.defaultView.getComputedStyle(m,null).marginTop=="-5px";b.deleteRule(0)}}catch(h){l=h.code==1E3||h.message.match(/security|denied/i)}return l}function q(a,b){d(a.link)?(i(a),b()):n||setTimeout(function(){q(a,b)},a.wait)}function i(a){a=a.link;a[o]=a[h]=null}function s(){x||(x=!0,f())}if(require.onError)require.onError=function(a){return function(){n=!0;a.apply(this,arguments)}}(require.onError);var m,x;(function(b,
c){var f=b.link;f[o]=f[h]=function(){if(!f.readyState||f.readyState=="complete")a["event-link-onload"]=!0,i(b),c()}})(b,s);a["event-link-onload"]||q(b,s)};return function(a,f,e){for(var h=a.split(","),n=h.length,o=function(){--n==0&&f(y.sheet||y.styleSheet)},z=0;z<h.length;z++){var a=h[z],x=b[a];if(x)return y=i(x),o();var a=m(a),x=a.shift(),x=x.lastIndexOf(".")<=x.lastIndexOf("/")?x+".css":x,y=d(c),a="nowait"in a?a.nowait!="false":!(!e||!e.cssDeferLoad);s({link:y,url:x,wait:e&&e.cssWatchPeriod||50},
o);a&&f(y);y.href=x;q.appendChild(y)}}})},"dijit/layout/BorderContainer":function(){define("dijit/layout/BorderContainer",["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","dojo/_base/window","../_WidgetBase","../_Widget","../_TemplatedMixin","./_LayoutWidget","./utils"],function(d,m,i,o,h,e,n,c,b,a,q,s,l,f,t,r,p,A){var z=i("dijit.layout._Splitter",
[t,r],{live:!0,templateString:'<div class="dijitSplitter" data-dojo-attach-event="onkeypress:_onKeyPress,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse" tabIndex="0" role="separator"><div class="dijitSplitterThumb"></div></div>',constructor:function(){this._handlers=[]},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region},buildRendering:function(){this.inherited(arguments);
o.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var a=m(this._cookieName);a&&(this.child.domNode.style[this.horizontal?"height":"width"]=a)}},_computeMaxSize:function(){var a=this.horizontal?"h":"w",b=e.getMarginBox(this.child.domNode)[a],c=d.filter(this.container.getChildren(),function(a){return a.region=="center"})[0],a=e.getMarginBox(c.domNode)[a];return Math.min(this.child.maxSize,b+a)},_startDrag:function(b){if(!this.cover)this.cover=l.doc.createElement("div"),
o.add(this.cover,"dijitSplitterCover"),h.place(this.cover,this.child.domNode,"after");o.add(this.cover,"dijitSplitterCoverActive");this.fake&&h.destroy(this.fake);if(!(this._resize=this.live))(this.fake=this.domNode.cloneNode(!0)).removeAttribute("id"),o.add(this.domNode,"dijitSplitterShadow"),h.place(this.fake,this.domNode,"after");o.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");this.fake&&o.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?
"H":"V")+"Hover");var f=this._factor,d=this.horizontal,B=d?"pageY":"pageX",n=b[B],i=this.domNode.style,t=e.getMarginBox(this.child.domNode)[d?"h":"w"],p=this._computeMaxSize(),r=this.child.minSize||20,d=this.region,m=d=="top"||d=="bottom"?"top":"left",x=parseInt(i[m],10),A=this._resize,z=a.hitch(this.container,"_layoutChildren",this.child.id),d=l.doc;this._handlers=this._handlers.concat([q(d,s.move,this._drag=function(a,b){var c=a[B]-n,d=f*c+t,e=Math.max(Math.min(d,p),r);(A||b)&&z(e);i[m]=c+x+f*(e-
d)+"px"}),q(d,"dragstart",c.stop),q(l.body(),"selectstart",c.stop),q(d,s.release,a.hitch(this,"_stopDrag"))]);c.stop(b)},_onMouse:function(a){a=a.type=="mouseover"||a.type=="mouseenter";o.toggle(this.domNode,"dijitSplitterHover",a);o.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",a)},_stopDrag:function(a){try{this.cover&&o.remove(this.cover,"dijitSplitterCoverActive"),this.fake&&h.destroy(this.fake),o.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?
"H":"V")+"Active dijitSplitterShadow"),this._drag(a),this._drag(a,!0)}finally{this._cleanupHandlers(),delete this._drag}this.container.persist&&m(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365})},_cleanupHandlers:function(){for(var a;a=this._handlers.pop();)a.remove()},_onKeyPress:function(a){this._resize=!0;var f=this.horizontal,d=1;switch(a.charOrCode){case f?b.UP_ARROW:b.LEFT_ARROW:d*=-1;case f?b.DOWN_ARROW:b.RIGHT_ARROW:break;default:return}f=e.getMarginSize(this.child.domNode)[f?
"h":"w"]+this._factor*d;this.container._layoutChildren(this.child.id,Math.max(Math.min(f,this._computeMaxSize()),this.child.minSize));c.stop(a)},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments)}}),x=i("dijit.layout._Gutter",[t,r],{templateString:'<div class="dijitGutter" role="presentation"></div>',postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region)},buildRendering:function(){this.inherited(arguments);
o.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"))}}),i=i("dijit.layout.BorderContainer",p,{design:"headline",gutters:!0,liveSplitters:!0,persist:!1,baseClass:"dijitBorderContainer",_splitterClass:z,postMixInProperties:function(){this.gutters||(this.baseClass+="NoGutter");this.inherited(arguments)},startup:function(){this._started||(d.forEach(this.getChildren(),this._setupChild,this),this.inherited(arguments))},_setupChild:function(b){var c=b.region;if(c){this.inherited(arguments);o.add(b.domNode,
this.baseClass+"Pane");var f=this.isLeftToRight();c=="leading"&&(c=f?"left":"right");c=="trailing"&&(c=f?"right":"left");if(c!="center"&&(b.splitter||this.gutters)&&!b._splitterWidget)f=b.splitter?this._splitterClass:x,a.isString(f)&&(f=a.getObject(f)),f=new f({id:b.id+"_splitter",container:this,child:b,region:c,live:this.liveSplitters}),f.isSplitter=!0,b._splitterWidget=f,h.place(f.domNode,b.domNode,"after"),f.startup();b.region=c}},layout:function(){this._layoutChildren()},addChild:function(){this.inherited(arguments);
this._started&&this.layout()},removeChild:function(a){var b=a.region,c=a._splitterWidget;c&&(c.destroy(),delete a._splitterWidget);this.inherited(arguments);this._started&&this._layoutChildren();o.remove(a.domNode,this.baseClass+"Pane");n.set(a.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});n.set(a.domNode,b=="top"||b=="bottom"?"width":"height","auto")},getChildren:function(){return d.filter(this.inherited(arguments),function(a){return!a.isSplitter})},getSplitter:function(a){return d.filter(this.getChildren(),
function(b){return b.region==a})[0]._splitterWidget},resize:function(){if(!this.cs||!this.pe){var a=this.domNode;this.cs=n.getComputedStyle(a);this.pe=e.getPadExtents(a,this.cs);this.pe.r=n.toPixelValue(a,this.cs.paddingRight);this.pe.b=n.toPixelValue(a,this.cs.paddingBottom);n.set(a,"padding","0px")}this.inherited(arguments)},_layoutChildren:function(a,b){if(this._borderBox&&this._borderBox.h){var c=d.map(this.getChildren(),function(a,b){return{pane:a,weight:[a.region=="center"?Infinity:0,a.layoutPriority,
(this.design=="sidebar"?1:-1)*(/top|bottom/.test(a.region)?1:-1),b]}},this);c.sort(function(a,b){for(var c=a.weight,f=b.weight,d=0;d<c.length;d++)if(c[d]!=f[d])return c[d]-f[d];return 0});var f=[];d.forEach(c,function(a){a=a.pane;f.push(a);a._splitterWidget&&f.push(a._splitterWidget)});A.layoutChildren(this.domNode,{l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h},f,a,b)}},destroyRecursive:function(){d.forEach(this.getChildren(),function(a){var b=a._splitterWidget;
b&&b.destroy();delete a._splitterWidget});this.inherited(arguments)}});a.extend(f,{region:"",layoutPriority:0,splitter:!1,minSize:0,maxSize:Infinity});i._Splitter=z;i._Gutter=x;return i})},"dojo/dom-prop":function(){define("dojo/dom-prop",["exports","./_base/kernel","./_base/sniff","./_base/lang","./dom","./dom-style","./dom-construct","./_base/connect"],function(d,m,i,o,h,e,n,c){var b={},a=0,q=m._scopeName+"attrid",s={col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1};d.names={"class":"className",
"for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"};d.get=function(a,b){var a=h.byId(a),c=b.toLowerCase();return a[d.names[c]||b]};d.set=function(l,f,t){l=h.byId(l);if(arguments.length==2&&typeof f!="string"){for(var r in f)d.set(l,r,f[r]);return l}r=f.toLowerCase();r=d.names[r]||f;if(r=="style"&&typeof t!="string")return e.style(l,t),l;if(r=="innerHTML")return i("ie")&&l.tagName.toLowerCase()in s?(n.empty(l),
l.appendChild(n.toDom(t,l.ownerDocument))):l[r]=t,l;if(o.isFunction(t)){var p=l[q];p||(p=a++,l[q]=p);b[p]||(b[p]={});var m=b[p][r];if(m)c.disconnect(m);else try{delete l[r]}catch(z){}t?b[p][r]=c.connect(l,r,t):l[r]=null;return l}l[r]=t;return l}})},"djeo/util/numeric":function(){define("djeo/util/numeric",["dojo/_base/lang","dojo/_base/array","../common/Placemark"],function(d,m,i){var o={composeArray:function(d,e,n,c){var b=[];m.forEach(d.features,function(a){a=a.get(e);isNaN(a)||b.push(a)});n&&b.sort(c?
function(a,b){return a-b}:null);return b},getBreakIndex:function(d,e,n){for(var c=0;c<e;c++)if(c==0){if(d[0]<=n&&n<=d[1])break}else if(d[c]<n&&n<=d[c+1])break;return c<e?c:-1},composeStyle:function(h,e,n,c){var b=h.get(e.attr);if(b!==void 0){var a=d.isString(e.composeStyle)?d.getObject(e.composeStyle):e.composeStyle;if(d.isArray(e.breaks))h=e.breaks,c=h.length-1;else{var q=d.isString(e.breaks)?d.getObject(e.breaks):e.breaks,i=h.parent,h=i._breaks;if(!h||c>i._breaksTimestamp)h=q(i,e),i._breaks=h,i._breaksTimestamp=
(new Date).getTime();c=e.numClasses}b=o.getBreakIndex(h,c,b);b<c&&a(n,b,e)}},composeSizeStyle:function(h,e,n){var c=d.isArray(n.breaks)?n.breaks.length-1:n.numClasses,e=n.medianSize+n.sizeStep*(e-parseInt(c/2)+(c%2?0:0.5));(n=i.getImgSrc(h)?i.getImgSize(h):i.getSize(h))?h.scale=n[0]>n[1]?e/n[0]:e/n[1]:h.size=e}};return o})},"dojo/keys":function(){define("dojo/keys",["./_base/kernel","./_base/sniff"],function(d,m){return d.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:m("safari")?
91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,
F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:m("mac")&&!m("air")?m("safari")?91:224:17}})},"dojo/_base/lang":function(){define(["./kernel","../has","./sniff"],function(d,m){m.add("bug-for-in-skips-shadowed",function(){for(var a in{toString:1})return 0;return 1});var i=m("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):
[],o=i.length,h=function(a){a||(a={});for(var b=1,c=arguments.length;b<c;b++)f._mixin(a,arguments[b]);return a},e=function(a,b,c){var f,e=0,l=d.global;if(!c)if(a.length){f=a[e++];try{c=d.scopeMap[f]&&d.scopeMap[f][1]}catch(h){}c=c||(f in l?l[f]:b?l[f]={}:void 0)}else return l;for(;c&&(f=a[e++]);)c=f in c?c[f]:b?c[f]={}:void 0;return c},n=function(a,b,c){return e(a.split("."),b,c)},c=Object.prototype.toString,b=function(){function a(){}return function(b,c){a.prototype=b;var d=new a;a.prototype=null;
c&&f._mixin(d,c);return d}}(),a=function(a,b,c){return(c||[]).concat(Array.prototype.slice.call(a,b||0))},q=m("ie")?function(){function b(a,c,f){f=f||[];for(c=c||0;c<a.length;c++)f.push(a[c]);return f}return function(c){return(c.item?b:a).apply(this,arguments)}}():a,s=function(a){if(!a||typeof a!="object"||f.isFunction(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return RegExp(a);var b,c,d;if(f.isArray(a)){b=
[];c=0;for(d=a.length;c<d;++c)c in a&&b.push(s(a[c]))}else b=a.constructor?new a.constructor:{};return f._mixin(b,a,s)},l=/\{([^\}]+)\}/g,f={_extraNames:i,_mixin:function(a,b,c){var f,d,e,l={};for(f in b)if(d=b[f],!(f in a)||a[f]!==d&&(!(f in l)||l[f]!==d))a[f]=c?c(d):d;if(m("bug-for-in-skips-shadowed")&&b)for(e=0;e<o;++e)if(f=i[e],d=b[f],!(f in a)||a[f]!==d&&(!(f in l)||l[f]!==d))a[f]=c?c(d):d;return a},mixin:h,setObject:function(a,b,c){var f=a.split("."),a=f.pop();return(c=e(f,!0,c))&&a?c[a]=b:
void 0},getObject:n,exists:function(a,b){return f.getObject(a,!1,b)!==void 0},isString:function(a){return typeof a=="string"||a instanceof String},isArray:function(a){return a&&(a instanceof Array||typeof a=="array")},isFunction:function(a){return c.call(a)==="[object Function]"},isObject:function(a){return a!==void 0&&(a===null||typeof a=="object"||f.isArray(a)||f.isFunction(a))},isArrayLike:function(a){return a&&a!==void 0&&!f.isString(a)&&!f.isFunction(a)&&!(a.tagName&&a.tagName.toLowerCase()==
"form")&&(f.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!f.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(String(a))},extend:function(a){for(var b=1,c=arguments.length;b<c;b++)f._mixin(a.prototype,arguments[b]);return a},_hitchArgs:function(a,b){var c=q(arguments,2),e=f.isString(b);return function(){var f=q(arguments),l=e?(a||d.global)[b]:b;return l&&l.apply(a||this,c.concat(f))}},hitch:function(a,b){if(arguments.length>2)return f._hitchArgs.apply(d,arguments);b||(b=a,a=null);
if(f.isString(b)){a=a||d.global;if(!a[b])throw['dojo.hitch: scope["',b,'"] is null (scope="',a,'")'].join("");return function(){return a[b].apply(a,arguments||[])}}return!a?b:function(){return b.apply(a,arguments||[])}},delegate:b,_toArray:q,partial:function(){return f.hitch.apply(d,[null].concat(f._toArray(arguments)))},clone:s,trim:String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,b,c){return a.replace(c||l,f.isFunction(b)?
b:function(a,c){return n(c,!1,b)})}};h(d,f);return f})},"dijit/registry":function(){define("dijit/registry",["dojo/_base/array","dojo/_base/sniff","dojo/_base/unload","dojo/_base/window","."],function(d,m,i,o,h){var e={},n={},c={length:0,add:function(b){if(n[b.id])throw Error("Tried to register widget with id=="+b.id+" but that id is already registered");n[b.id]=b;this.length++},remove:function(b){n[b]&&(delete n[b],this.length--)},byId:function(b){return typeof b=="string"?n[b]:b},byNode:function(b){return n[b.getAttribute("widgetId")]},
toArray:function(){var b=[],a;for(a in n)b.push(n[a]);return b},getUniqueId:function(b){var a;do a=b+"_"+(b in e?++e[b]:e[b]=0);while(n[a]);return h._scopeName=="dijit"?a:h._scopeName+"_"+a},findWidgets:function(b){function a(b){for(b=b.firstChild;b;b=b.nextSibling)if(b.nodeType==1){var d=b.getAttribute("widgetId");d?(d=n[d])&&c.push(d):a(b)}}var c=[];a(b);return c},_destroyAll:function(){h._curFocus=null;h._prevFocus=null;h._activeStack=[];d.forEach(c.findWidgets(o.body()),function(b){b._destroyed||
(b.destroyRecursive?b.destroyRecursive():b.destroy&&b.destroy())})},getEnclosingWidget:function(b){for(;b;){var a=b.getAttribute&&b.getAttribute("widgetId");if(a)return n[a];b=b.parentNode}return null},_hash:n};m("ie")&&i.addOnWindowUnload(function(){c._destroyAll()});return h.registry=c})},"dijit/_base/manager":function(){define("dijit/_base/manager",["dojo/_base/array","dojo/_base/config","../registry",".."],function(d,m,i,o){d.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode",
"getEnclosingWidget"],function(d){o[d]=i[d]});o.defaultDuration=m.defaultDuration||200;return o})},"djeo/dojox/gfx/gradient":function(){define("djeo/dojox/gfx/gradient",["dojo/_base/lang","./matrix","dojo/_base/Color"],function(d,m,i){function o(d,c,b,a,e,h){d=m.multiplyPoint(b,d,c);a=m.multiplyPoint(a,d);return{r:d,p:a,o:m.multiplyPoint(e,a).x/h}}function h(d,c){return d.o-c.o}var e=d.getObject("dojox.gfx.gradient",!0);e.rescale=function(d,c,b){var a=d.length,e=b<c,h;e&&(h=c,c=b,b=h);if(!a)return[];
if(b<=d[0].offset)h=[{offset:0,color:d[0].color},{offset:1,color:d[0].color}];else if(c>=d[a-1].offset)h=[{offset:0,color:d[a-1].color},{offset:1,color:d[a-1].color}];else{var l=b-c,f,m,r;h=[];c<0&&h.push({offset:0,color:new i(d[0].color)});for(r=0;r<a;++r)if(f=d[r],f.offset>=c)break;r?(m=d[r-1],h.push({offset:0,color:i.blendColors(new i(m.color),new i(f.color),(c-m.offset)/(f.offset-m.offset))})):h.push({offset:0,color:new i(f.color)});for(;r<a;++r){f=d[r];if(f.offset>=b)break;h.push({offset:(f.offset-
c)/l,color:new i(f.color)})}r<a?(m=d[r-1],h.push({offset:1,color:i.blendColors(new i(m.color),new i(f.color),(b-m.offset)/(f.offset-m.offset))})):h.push({offset:1,color:new i(d[a-1].color)})}if(e){h.reverse();r=0;for(a=h.length;r<a;++r)f=h[r],f.offset=1-f.offset}return h};e.project=function(d,c,b,a){var d=d||m.identity,i=m.multiplyPoint(d,c.x1,c.y1),s=m.multiplyPoint(d,c.x2,c.y2),l=Math.atan2(s.y-i.y,s.x-i.x),f=m.project(s.x-i.x,s.y-i.y),i=m.multiplyPoint(f,i),s=m.multiplyPoint(f,s),i=new m.Matrix2D([m.rotate(-l),
{dx:-i.x,dy:-i.y}]),s=m.multiplyPoint(i,s).x,d=[o(b.x,b.y,d,f,i,s),o(a.x,a.y,d,f,i,s),o(b.x,a.y,d,f,i,s),o(a.x,b.y,d,f,i,s)].sort(h),c=e.rescale(c.colors,d[0].o,d[3].o);return{type:"linear",x1:d[0].p.x,y1:d[0].p.y,x2:d[3].p.x,y2:d[3].p.y,colors:c,angle:l}};return e})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(d,m,i,o){var h=d.Color=function(d){d&&this.setColor(d)};h.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,
0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:o.transparentColor||[0,0,0,0]};m.extend(h,{r:255,g:255,b:255,a:1,_set:function(d,h,c,b){this.r=d;this.g=h;this.b=c;this.a=b},setColor:function(d){m.isString(d)?h.fromString(d,this):m.isArray(d)?h.fromArray(d,this):(this._set(d.r,d.g,d.b,d.a),d instanceof h||this.sanitize());return this},sanitize:function(){return this},
toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+i.map(["r","g","b"],function(d){d=this[d].toString(16);return d.length<2?"0"+d:d},this).join("")},toCss:function(d){var h=this.r+", "+this.g+", "+this.b;return(d?"rgba("+h+", "+this.a:"rgb("+h)+")"},toString:function(){return this.toCss(!0)}});h.blendColors=d.blendColors=function(d,n,c,b){var a=b||new h;i.forEach(["r","g","b","a"],function(b){a[b]=d[b]+(n[b]-d[b])*c;b!=
"a"&&(a[b]=Math.round(a[b]))});return a.sanitize()};h.fromRgb=d.colorFromRgb=function(d,i){var c=d.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return c&&h.fromArray(c[1].split(/\s*,\s*/),i)};h.fromHex=d.colorFromHex=function(d,n){var c=n||new h,b=d.length==4?4:8,a=(1<<b)-1,d=Number("0x"+d.substr(1));if(isNaN(d))return null;i.forEach(["b","g","r"],function(h){var i=d&a;d>>=b;c[h]=b==4?17*i:i});c.a=1;return c};h.fromArray=d.colorFromArray=function(d,i){var c=i||new h;c._set(Number(d[0]),Number(d[1]),
Number(d[2]),Number(d[3]));if(isNaN(c.a))c.a=1;return c.sanitize()};h.fromString=d.colorFromString=function(d,i){var c=h.named[d];return c&&h.fromArray(c,i)||h.fromRgb(d,i)||h.fromHex(d,i)};return h})},"djeo/dojox/gfx/canvas":function(){define("djeo/dojox/gfx/canvas",["./_base","dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/window","dojo/dom-geometry","dojo/dom","./_base","./shape","./path","./arc","./matrix","./decompose"],function(d,m,i,o,h,e,n,c,b,a,q,s){var l=d.canvas={},
f=null,t=s.multiplyPoint,r=Math.PI,p=2*r,A=r/2,c=m.extend;o("dojox.gfx.canvas.Shape",b.Shape,{_render:function(a){a.save();this._renderTransform(a);this._renderShape(a);this._renderFill(a,!0);this._renderStroke(a,!0);a.restore()},_renderTransform:function(a){if("canvasTransform"in this){var b=this.canvasTransform;a.translate(b.dx,b.dy);a.rotate(b.angle2);a.scale(b.sx,b.sy);a.rotate(b.angle1)}},_renderShape:function(){},_renderFill:function(a,b){if("canvasFill"in this){var c=this.fillStyle;if("canvasFillImage"in
this){var d=c.width,e=c.height,l=this.canvasFillImage.width,h=this.canvasFillImage.height,u=Math.min(d==l?1:d/l,e==h?1:e/h),i=(d-u*l)/2,n=(e-u*h)/2;f.width=d;f.height=e;var q=f.getContext("2d");q.clearRect(0,0,d,e);q.drawImage(this.canvasFillImage,0,0,l,h,i,n,u*l,u*h);this.canvasFill=a.createPattern(f,"repeat");delete this.canvasFillImage}a.fillStyle=this.canvasFill;b&&(c.type==="pattern"&&(c.x!==0||c.y!==0)&&a.translate(c.x,c.y),a.fill())}else a.fillStyle="rgba(0,0,0,0.0)"},_renderStroke:function(a,
b){var c=this.strokeStyle;if(c)a.strokeStyle=c.color.toString(),a.lineWidth=c.width,a.lineCap=c.cap,typeof c.join=="number"?(a.lineJoin="miter",a.miterLimit=c.join):a.lineJoin=c.join,b&&a.stroke();else if(!b)a.strokeStyle="rgba(0,0,0,0.0)"},getEventSource:function(){return null},connect:function(){},disconnect:function(){}});var z=function(a,b,c){var f=a.prototype[b];a.prototype[b]=c?function(){this.surface.makeDirty();f.apply(this,arguments);c.call(this);return this}:function(){this.surface.makeDirty();
return f.apply(this,arguments)}};z(l.Shape,"setTransform",function(){this.matrix?this.canvasTransform=d.decompose(this.matrix):delete this.canvasTransform});z(l.Shape,"setFill",function(){var a=this.fillStyle,b;if(a){if(typeof a=="object"&&"type"in a){var c=this.surface.rawNode.getContext("2d");switch(a.type){case "linear":case "radial":b=a.type=="linear"?c.createLinearGradient(a.x1,a.y1,a.x2,a.y2):c.createRadialGradient(a.cx,a.cy,0,a.cx,a.cy,a.r);i.forEach(a.colors,function(a){b.addColorStop(a.offset,
d.normalizeColor(a.color).toString())});break;case "pattern":f||(f=document.createElement("canvas")),c=new Image,this.surface.downloadImage(c,a.src),this.canvasFillImage=c}}else b=a.toString();this.canvasFill=b}else delete this.canvasFill});z(l.Shape,"setStroke");z(l.Shape,"setShape");o("dojox.gfx.canvas.Group",l.Shape,{constructor:function(){b.Container._init.call(this)},_render:function(a){a.save();this._renderTransform(a);for(var b=0;b<this.children.length;++b)this.children[b]._render(a);a.restore()}});
o("dojox.gfx.canvas.Rect",[l.Shape,b.Rect],{_renderShape:function(a){var b=this.shape,c=Math.min(b.r,b.height/2,b.width/2),f=b.x,d=f+b.width,e=b.y,b=e+b.height,l=f+c,h=d-c,u=e+c,i=b-c;a.beginPath();a.moveTo(l,e);c?(a.arc(h,u,c,-A,0,!1),a.arc(h,i,c,0,A,!1),a.arc(l,i,c,A,r,!1),a.arc(l,u,c,r,r+A,!1)):(a.lineTo(h,e),a.lineTo(d,i),a.lineTo(l,b),a.lineTo(f,u));a.closePath()}});var x=[];(function(){var a=q.curvePI4;x.push(a.s,a.c1,a.c2,a.e);for(var b=45;b<360;b+=45){var c=s.rotateg(b);x.push(t(c,a.c1),t(c,
a.c2),t(c,a.e))}})();o("dojox.gfx.canvas.Ellipse",[l.Shape,b.Ellipse],{setShape:function(){this.inherited(arguments);var a=this.shape,b,c,f=[],d=s.normalize([s.translate(a.cx,a.cy),s.scale(a.rx,a.ry)]),a=t(d,x[0]);f.push([a.x,a.y]);for(var e=1;e<x.length;e+=3)b=t(d,x[e]),c=t(d,x[e+1]),a=t(d,x[e+2]),f.push([b.x,b.y,c.x,c.y,a.x,a.y]);this.canvasEllipse=f;return this},_renderShape:function(a){var b=this.canvasEllipse;a.beginPath();a.moveTo.apply(a,b[0]);for(var c=1;c<b.length;++c)a.bezierCurveTo.apply(a,
b[c]);a.closePath()}});o("dojox.gfx.canvas.Circle",[l.Shape,b.Circle],{_renderShape:function(a){var b=this.shape;a.beginPath();a.arc(b.cx,b.cy,b.r,0,p,1)}});o("dojox.gfx.canvas.Line",[l.Shape,b.Line],{_renderShape:function(a){var b=this.shape;a.beginPath();a.moveTo(b.x1,b.y1);a.lineTo(b.x2,b.y2)}});o("dojox.gfx.canvas.Polyline",[l.Shape,b.Polyline],{setShape:function(){this.inherited(arguments);var a=this.shape.points,b=a[0],c,f;this.bbox=null;this._normalizePoints();if(a.length)if(typeof b=="number")b=
a;else{b=[];for(f=0;f<a.length;++f)c=a[f],b.push(c.x,c.y)}else b=[];this.canvasPolyline=b;return this},_renderShape:function(a){var b=this.canvasPolyline;if(b.length){a.beginPath();a.moveTo(b[0],b[1]);for(var c=2;c<b.length;c+=2)a.lineTo(b[c],b[c+1])}}});o("dojox.gfx.canvas.Image",[l.Shape,b.Image],{setShape:function(){this.inherited(arguments);var a=new Image;this.surface.downloadImage(a,this.shape.src);this.canvasImage=a;return this},_renderShape:function(a){var b=this.shape;a.drawImage(this.canvasImage,
b.x,b.y,b.width,b.height)}});o("dojox.gfx.canvas.Text",[l.Shape,b.Text],{_setFont:function(){this.fontStyle?this.canvasFont=d.makeFontString(this.fontStyle):delete this.canvasFont},getTextWidth:function(){var a=this.shape,b=0,c;if(a.text&&a.text.length>0){c=this.surface.rawNode.getContext("2d");c.save();this._renderTransform(c);this._renderFill(c,!1);this._renderStroke(c,!1);if(this.canvasFont)c.font=this.canvasFont;b=c.measureText(a.text).width;c.restore()}return b},_render:function(a){a.save();
this._renderTransform(a);this._renderFill(a,!1);this._renderStroke(a,!1);this._renderShape(a);a.restore()},_renderShape:function(a){var b=this.shape;if(b.text&&b.text.length!=0){a.textAlign=b.align==="middle"?"center":b.align;if(this.canvasFont)a.font=this.canvasFont;this.canvasFill&&a.fillText(b.text,b.x,b.y);this.strokeStyle&&(a.beginPath(),a.strokeText(b.text,b.x,b.y),a.closePath())}}});z(l.Text,"setFont");h.global.CanvasRenderingContext2D&&(h=h.doc.createElement("canvas").getContext("2d"))&&typeof h.fillText!=
"function"&&l.Text.extend({getTextWidth:function(){return 0},_renderShape:function(){}});var y={M:"_moveToA",m:"_moveToR",L:"_lineToA",l:"_lineToR",H:"_hLineToA",h:"_hLineToR",V:"_vLineToA",v:"_vLineToR",C:"_curveToA",c:"_curveToR",S:"_smoothCurveToA",s:"_smoothCurveToR",Q:"_qCurveToA",q:"_qCurveToR",T:"_qSmoothCurveToA",t:"_qSmoothCurveToR",A:"_arcTo",a:"_arcTo",Z:"_closePath",z:"_closePath"};o("dojox.gfx.canvas.Path",[l.Shape,a.Path],{constructor:function(){this.lastControl={}},setShape:function(){this.canvasPath=
[];return this.inherited(arguments)},_updateWithSegment:function(a){var b=m.clone(this.last);this[y[a.action]](this.canvasPath,a.action,a.args);this.last=b;this.inherited(arguments)},_renderShape:function(a){var b=this.canvasPath;a.beginPath();for(var c=0;c<b.length;c+=2)a[b[c]].apply(a,b[c+1])},_moveToA:function(a,b,c){a.push("moveTo",[c[0],c[1]]);for(b=2;b<c.length;b+=2)a.push("lineTo",[c[b],c[b+1]]);this.last.x=c[c.length-2];this.last.y=c[c.length-1];this.lastControl={}},_moveToR:function(a,b,
c){"x"in this.last?a.push("moveTo",[this.last.x+=c[0],this.last.y+=c[1]]):a.push("moveTo",[this.last.x=c[0],this.last.y=c[1]]);for(b=2;b<c.length;b+=2)a.push("lineTo",[this.last.x+=c[b],this.last.y+=c[b+1]]);this.lastControl={}},_lineToA:function(a,b,c){for(b=0;b<c.length;b+=2)a.push("lineTo",[c[b],c[b+1]]);this.last.x=c[c.length-2];this.last.y=c[c.length-1];this.lastControl={}},_lineToR:function(a,b,c){for(b=0;b<c.length;b+=2)a.push("lineTo",[this.last.x+=c[b],this.last.y+=c[b+1]]);this.lastControl=
{}},_hLineToA:function(a,b,c){for(b=0;b<c.length;++b)a.push("lineTo",[c[b],this.last.y]);this.last.x=c[c.length-1];this.lastControl={}},_hLineToR:function(a,b,c){for(b=0;b<c.length;++b)a.push("lineTo",[this.last.x+=c[b],this.last.y]);this.lastControl={}},_vLineToA:function(a,b,c){for(b=0;b<c.length;++b)a.push("lineTo",[this.last.x,c[b]]);this.last.y=c[c.length-1];this.lastControl={}},_vLineToR:function(a,b,c){for(b=0;b<c.length;++b)a.push("lineTo",[this.last.x,this.last.y+=c[b]]);this.lastControl=
{}},_curveToA:function(a,b,c){for(b=0;b<c.length;b+=6)a.push("bezierCurveTo",c.slice(b,b+6));this.last.x=c[c.length-2];this.last.y=c[c.length-1];this.lastControl.x=c[c.length-4];this.lastControl.y=c[c.length-3];this.lastControl.type="C"},_curveToR:function(a,b,c){for(b=0;b<c.length;b+=6)a.push("bezierCurveTo",[this.last.x+c[b],this.last.y+c[b+1],this.lastControl.x=this.last.x+c[b+2],this.lastControl.y=this.last.y+c[b+3],this.last.x+c[b+4],this.last.y+c[b+5]]),this.last.x+=c[b+4],this.last.y+=c[b+
5];this.lastControl.type="C"},_smoothCurveToA:function(a,b,c){for(b=0;b<c.length;b+=4){var f=this.lastControl.type=="C";a.push("bezierCurveTo",[f?2*this.last.x-this.lastControl.x:this.last.x,f?2*this.last.y-this.lastControl.y:this.last.y,c[b],c[b+1],c[b+2],c[b+3]]);this.lastControl.x=c[b];this.lastControl.y=c[b+1];this.lastControl.type="C"}this.last.x=c[c.length-2];this.last.y=c[c.length-1]},_smoothCurveToR:function(a,b,c){for(b=0;b<c.length;b+=4){var f=this.lastControl.type=="C";a.push("bezierCurveTo",
[f?2*this.last.x-this.lastControl.x:this.last.x,f?2*this.last.y-this.lastControl.y:this.last.y,this.last.x+c[b],this.last.y+c[b+1],this.last.x+c[b+2],this.last.y+c[b+3]]);this.lastControl.x=this.last.x+c[b];this.lastControl.y=this.last.y+c[b+1];this.lastControl.type="C";this.last.x+=c[b+2];this.last.y+=c[b+3]}},_qCurveToA:function(a,b,c){for(b=0;b<c.length;b+=4)a.push("quadraticCurveTo",c.slice(b,b+4));this.last.x=c[c.length-2];this.last.y=c[c.length-1];this.lastControl.x=c[c.length-4];this.lastControl.y=
c[c.length-3];this.lastControl.type="Q"},_qCurveToR:function(a,b,c){for(b=0;b<c.length;b+=4)a.push("quadraticCurveTo",[this.lastControl.x=this.last.x+c[b],this.lastControl.y=this.last.y+c[b+1],this.last.x+c[b+2],this.last.y+c[b+3]]),this.last.x+=c[b+2],this.last.y+=c[b+3];this.lastControl.type="Q"},_qSmoothCurveToA:function(a,b,c){for(b=0;b<c.length;b+=2){var f=this.lastControl.type=="Q";a.push("quadraticCurveTo",[this.lastControl.x=f?2*this.last.x-this.lastControl.x:this.last.x,this.lastControl.y=
f?2*this.last.y-this.lastControl.y:this.last.y,c[b],c[b+1]]);this.lastControl.type="Q"}this.last.x=c[c.length-2];this.last.y=c[c.length-1]},_qSmoothCurveToR:function(a,b,c){for(b=0;b<c.length;b+=2){var f=this.lastControl.type=="Q";a.push("quadraticCurveTo",[this.lastControl.x=f?2*this.last.x-this.lastControl.x:this.last.x,this.lastControl.y=f?2*this.last.y-this.lastControl.y:this.last.y,this.last.x+c[b],this.last.y+c[b+1]]);this.lastControl.type="Q";this.last.x+=c[b];this.last.y+=c[b+1]}},_arcTo:function(a,
b,c){for(var b=b=="a",f=0;f<c.length;f+=7){var d=c[f+5],e=c[f+6];b&&(d+=this.last.x,e+=this.last.y);var l=q.arcAsBezier(this.last,c[f],c[f+1],c[f+2],c[f+3]?1:0,c[f+4]?1:0,d,e);i.forEach(l,function(b){a.push("bezierCurveTo",b)});this.last.x=d;this.last.y=e}this.lastControl={}},_closePath:function(a){a.push("closePath",[]);this.lastControl={}}});i.forEach(["moveTo","lineTo","hLineTo","vLineTo","curveTo","smoothCurveTo","qCurveTo","qSmoothCurveTo","arcTo","closePath"],function(a){z(l.Path,a)});o("dojox.gfx.canvas.TextPath",
[l.Shape,a.TextPath],{_renderShape:function(){},_setText:function(){},_setFont:function(){}});o("dojox.gfx.canvas.Surface",b.Surface,{constructor:function(){b.Container._init.call(this);this.pendingImageCount=0;this.makeDirty()},setDimensions:function(a,b){this.width=d.normalizedLength(a);this.height=d.normalizedLength(b);if(!this.rawNode)return this;var c=!1;if(this.rawNode.width!=this.width)this.rawNode.width=this.width,c=!0;if(this.rawNode.height!=this.height)this.rawNode.height=this.height,c=
!0;c&&this.makeDirty();return this},getDimensions:function(){return this.rawNode?{width:this.rawNode.width,height:this.rawNode.height}:null},_render:function(){if(!this.pendingImageCount){var a=this.rawNode.getContext("2d");a.save();a.clearRect(0,0,this.rawNode.width,this.rawNode.height);for(var b=0;b<this.children.length;++b)this.children[b]._render(a);a.restore();"pendingRender"in this&&(clearTimeout(this.pendingRender),delete this.pendingRender)}},makeDirty:function(){if(!this.pendingImagesCount&&
!("pendingRender"in this))this.pendingRender=setTimeout(m.hitch(this,this._render),0)},downloadImage:function(a,b){var c=m.hitch(this,this.onImageLoad);!this.pendingImageCount++&&"pendingRender"in this&&(clearTimeout(this.pendingRender),delete this.pendingRender);a.onload=c;a.onerror=c;a.onabort=c;a.src=b},onImageLoad:function(){--this.pendingImageCount||this._render()},getEventSource:function(){return null},connect:function(){},disconnect:function(){}});l.createSurface=function(a,b,c){if(!b&&!c)var f=
e.position(a),b=b||f.w,c=c||f.h;typeof b=="number"&&(b+="px");typeof c=="number"&&(c+="px");var f=new l.Surface,a=n.byId(a),h=a.ownerDocument.createElement("canvas");h.width=d.normalizedLength(b);h.height=d.normalizedLength(c);a.appendChild(h);f.rawNode=h;f._parent=a;return f.surface=f};var u=b.Container,o={add:function(){this.surface.makeDirty();return u.add.apply(this,arguments)},remove:function(){this.surface.makeDirty();return u.remove.apply(this,arguments)},clear:function(){this.surface.makeDirty();
return u.clear.apply(this,arguments)},_moveChildToFront:function(){this.surface.makeDirty();return u._moveChildToFront.apply(this,arguments)},_moveChildToBack:function(){this.surface.makeDirty();return u._moveChildToBack.apply(this,arguments)}},a={createObject:function(a,b){var c=new a;c.surface=this.surface;c.setShape(b);this.add(c);return c}};c(l.Group,o);c(l.Group,b.Creator);c(l.Group,a);c(l.Surface,o);c(l.Surface,b.Creator);c(l.Surface,a);l.fixTarget=function(){return!0};return l})},"dojo/mouse":function(){define(["./_base/kernel",
"./on","./has","./dom","./_base/window"],function(d,m,i,o,h){function e(d,c){var b=function(a,b){return m(a,d,function(d){if(!o.isDescendant(d.relatedTarget,c?d.target:a))return b.call(this,d)})};if(!c)b.bubble=e(d,!0);return b}i.add("dom-quirks",h.doc&&h.doc.compatMode=="BackCompat");i.add("events-mouseenter",h.doc&&"onmouseenter"in h.doc.createElement("div"));i=i("dom-quirks")||!i("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(d,c){return d.button&c},isLeft:function(d){return d.button&
1},isMiddle:function(d){return d.button&4},isRight:function(d){return d.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(d,c){return d.button==c},isLeft:function(d){return d.button==0},isMiddle:function(d){return d.button==1},isRight:function(d){return d.button==2}};d.mouseButtons=i;return{enter:e("mouseover"),leave:e("mouseout"),isLeft:i.isLeft,isMiddle:i.isMiddle,isRight:i.isRight}})},"dijit/a11y":function(){define("dijit/a11y",["dojo/_base/array","dojo/_base/config","dojo/_base/declare","dojo/dom",
"dojo/dom-attr","dojo/dom-style","dojo/_base/sniff","./_base/manager","."],function(d,m,i,o,h,e,n,c,b){var a=b._isElementShown=function(a){var b=e.get(a);return b.visibility!="hidden"&&b.visibility!="collapsed"&&b.display!="none"&&h.get(a,"type")!="hidden"};b.hasDefaultTabStop=function(a){switch(a.nodeName.toLowerCase()){case "a":return h.has(a,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var b;try{var c=a.contentDocument;if("designMode"in
c&&c.designMode=="on")return!0;b=c.body}catch(d){try{b=a.contentWindow.document.body}catch(e){return!1}}return b&&(b.contentEditable=="true"||b.firstChild&&b.firstChild.contentEditable=="true");default:return a.contentEditable=="true"}};var q=b.isTabNavigable=function(a){return h.get(a,"disabled")?!1:h.has(a,"tabIndex")?h.get(a,"tabIndex")>=0:b.hasDefaultTabStop(a)};b._getTabNavigable=function(b){function c(a){return a&&a.tagName.toLowerCase()=="input"&&a.type&&a.type.toLowerCase()=="radio"&&a.name&&
a.name.toLowerCase()}var f,d,e,i,m,o,x={},y=function(b){for(b=b.firstChild;b;b=b.nextSibling)if(!(b.nodeType!=1||n("ie")&&b.scopeName!=="HTML"||!a(b))){if(q(b)){var w=h.get(b,"tabIndex");if(!h.has(b,"tabIndex")||w==0)f||(f=b),d=b;else if(w>0){if(!e||w<i)i=w,e=b;if(!m||w>=o)o=w,m=b}w=c(b);h.get(b,"checked")&&w&&(x[w]=b)}b.nodeName.toUpperCase()!="SELECT"&&y(b)}};a(b)&&y(b);return{first:x[c(f)]||f,last:x[c(d)]||d,lowest:x[c(e)]||e,highest:x[c(m)]||m}};b.getFirstInTabbingOrder=function(a){a=b._getTabNavigable(o.byId(a));
return a.lowest?a.lowest:a.first};b.getLastInTabbingOrder=function(a){a=b._getTabNavigable(o.byId(a));return a.last?a.last:a.highest};return{hasDefaultTabStop:b.hasDefaultTabStop,isTabNavigable:b.isTabNavigable,_getTabNavigable:b._getTabNavigable,getFirstInTabbingOrder:b.getFirstInTabbingOrder,getLastInTabbingOrder:b.getLastInTabbingOrder}})},"put-selector/put":function(){(function(d){d("put-selector/put",[],function(){function d(c){function b(){t&&f&&t!=f&&(f==c&&(a||(a=o.test(A)&&h.createDocumentFragment()))||
f).insertBefore(t,l||null)}for(var a,q,n,l,f,t,r=arguments,p=0;p<r.length;p++){var A=r[p];if(typeof A=="object")if(A.nodeType)t=A,b(),f=A,l=0;else for(var z in A)t[z]=A[z];else if(n===p-1)t.appendChild(h.createTextNode(A));else{p<1&&(c=null);n=p;if(q=A.replace(i,function(a,i,u,w,n,q){if(i){b();if(i=="-"||i=="+"){if(f=(l=t||f).parentNode,t=null,i=="+")l=l.nextSibling}else i=="<"?f=t=(t||f).parentNode:(i==","?f=c:t&&(f=t),t=null),l=0;t&&(f=t)}if((a=!u&&w)||!t&&(u||n))a=="$"?(a=r[++p],f.appendChild(h.createTextNode(a))):
(a=a||d.defaultTag,(i=e&&r[p+1]&&r[p+1].name)&&(a="<"+a+' name="'+i+'">'),t=h.createElement(a));if(u)if(w=="$"&&(w=r[++p]),u=="#")t.id=w;else if(i=(a=t.className)&&(" "+a+" ").replace(" "+w+" "," "),u==".")t.className=a?(i+w).substring(1):w;else if(A=="!")d("div",t,"<").innerHTML="";else if(i=i.substring(1,i.length-1),i!=a)t.className=i;if(n)if(q=="$"&&(q=r[++p]),n=="style")t.style.cssText=q;else t[n.charAt(0)=="!"?(n=n.substring(1))&&"removeAttribute":"setAttribute"](n,q===""?n:q);return""}))throw new SyntaxError("Unexpected char "+
q+" in "+A);b();f=q=t||f}}c&&a&&c.appendChild(a);return q}var i=/(?:\s*([-+ ,<>]))?\s*(\.|!|#)?([-\w$]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,o=/[-+,> ]/,h;try{h=document;var e=1;d("i",{name:"a"})}catch(n){e=0}d.defaultTag="div";d.setDocument=function(c,b){h=c;o=b||o};return d})})(typeof define=="undefined"?function(d,m){typeof window=="undefined"?require("./node-html")(module,m):put=m()}:define)},"url:dijit/templates/Tooltip.html":'<div class="dijitTooltip dijitTooltipLeft" id="dojoTooltip"\n\t><div class="dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point="containerNode" role=\'alert\'></div\n\t><div class="dijitTooltipConnector" data-dojo-attach-point="connectorNode"></div\n></div>\n',
"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(d,m){m.getObject("regexp",!0,d);d.regexp.escapeString=function(d,m){return d.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(d){if(m&&m.indexOf(d)!=-1)return d;return"\\"+d})};d.regexp.buildGroupRE=function(i,m,h){if(!(i instanceof Array))return m(i);for(var e=[],n=0;n<i.length;n++)e.push(m(i[n]));return d.regexp.group(e.join("|"),h)};d.regexp.group=function(d,m){return"("+(m?"?:":"")+d+")"};return d.regexp})},"djeo/control/_Base":function(){define("djeo/control/_Base",
["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/Evented","../util/_base"],function(d,m,i,o,h){return d([o],{features:null,id:null,enabled:!0,constructor:function(d,n){this.id=h.uid();this.handle=h.uid();this.map=d;n||(n={});m.mixin(this,n);var c=n.features?n.features:[d.document];m.isArray(c)||(c=[c]);this.features=[];i.forEach(c,function(b){m.isString(b)&&(b=this.map.getFeatureById(b));b&&this.features.push(b)},this)},init:function(){},attachFactory:function(){var d=this.map.engine.getFactory(this._dependency);
d&&m.mixin(this,d)},enable:function(d){d===void 0&&(d=!0);d?this._connectEvents():this._disconnectEvents();this.enabled=d},_connectEvents:function(){i.forEach(this.features,function(d){d.onForHandle(this.handle,{events:this.events,context:this,method:this.process,key:this.id,value:this})},this)},_disconnectEvents:function(){i.forEach(this.features,function(d){d.disconnect(this.handle,this.id,!0)},this)},destroy:function(){this.enable(!1)}})})},"djeo/Feature":function(){define("djeo/Feature",["dojo/_base/declare",
"dojo/_base/lang","dojo/_base/array","./Style","./util/_base"],function(d,m,i,o,h){return d(null,{id:null,visible:!0,bbox:null,style:null,parent:null,map:null,constructor:function(d,i){i&&m.mixin(this,i);d&&m.mixin(this,d);if(!this.id)this.id="_geo_"+h.uid();if(this.styleClass&&!m.isArray(this.styleClass))this.styleClass=[this.styleClass];if(d&&d.style)this.style=null,this.addStyle(d.style,!0)},setMap:function(d){this.map=d;this.styleClass&&i.forEach(this.styleClass,function(h){var c=d.featuresByClass;
c[h]||(c[h]=[]);c[h].push(this)},this)},setParent:function(d){this.parent=d},set:function(d,h){var c=this["_set_"+d];return c&&c.call(this,h)},get:function(d){var h=this["_get_"+d];return h?h.call(this):this.map.useAttrs?this.attrs&&this.attrs[d]!==void 0?this.attrs[d]:this[d]:this[d]},addStyle:function(d,h){m.isArray(d)||(d=[d]);i.forEach(d,function(c){c=new o(c,this.map);if(!c.styleClass&&!c.fid){c._features[this.id]=this;if(!this.style)this.style=[];this.style.push(c)}},this);h||this.render()},
render:function(){},toggleVisibility:function(){this.show(!this.visible)},getBbox:function(){return this.bbox},on:function(d,h,c){var b=this.map,a=this.onForHandle(null,{events:m.isString(d)?[d]:d,context:c,method:h});return{remove:function(c){c?c.disconnect(a):b.disconnect(a)}}},onForHandle:function(){},disconnect:function(){}})})},"dijit/place":function(){define("dijit/place",["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","dojo/window","."],function(d,
m,i,o,h,e,n){function c(b,a,c,i){var l=e.getBox();(!b.parentNode||String(b.parentNode.tagName).toLowerCase()!="body")&&h.body().appendChild(b);var f=null;d.some(a,function(a){var d=a.corner,e=a.pos,h=0,n={w:{L:l.l+l.w-e.x,R:e.x-l.l,M:l.w}[d.charAt(1)],h:{T:l.t+l.h-e.y,B:e.y-l.t,M:l.h}[d.charAt(0)]};c&&(h=c(b,a.aroundCorner,d,n,i),h=typeof h=="undefined"?0:h);var t=b.style,u=t.display,w=t.visibility;if(t.display=="none")t.visibility="hidden",t.display="";var B=m.getMarginBox(b);t.display=u;t.visibility=
w;u={L:e.x,R:e.x-B.w,M:Math.max(l.l,Math.min(l.l+l.w,e.x+(B.w>>1))-B.w)}[d.charAt(1)];w={T:e.y,B:e.y-B.h,M:Math.max(l.t,Math.min(l.t+l.h,e.y+(B.h>>1))-B.h)}[d.charAt(0)];e=Math.max(l.l,u);t=Math.max(l.t,w);u=Math.min(l.l+l.w,u+B.w)-e;w=Math.min(l.t+l.h,w+B.h)-t;h+=B.w-u+(B.h-w);if(f==null||h<f.overflow)f={corner:d,aroundCorner:a.aroundCorner,x:e,y:t,w:u,h:w,overflow:h,spaceAvailable:n};return!h});f.overflow&&c&&c(b,f.aroundCorner,f.corner,f.spaceAvailable,i);var a=m.isBodyLtr(),n=b.style;n.top=f.y+
"px";n[a?"left":"right"]=(a?f.x:l.w-f.x-f.w)+"px";n[a?"right":"left"]="auto";return f}return n.place={at:function(b,a,e,h){e=d.map(e,function(b){var c={corner:b,pos:{x:a.x,y:a.y}};h&&(c.pos.x+=b.charAt(1)=="L"?h.x:-h.x,c.pos.y+=b.charAt(0)=="T"?h.y:-h.y);return c});return c(b,e)},around:function(b,a,e,h,l){function f(a,b){w.push({aroundCorner:a,corner:b,pos:{x:{L:z,R:z+y,M:z+(y>>1)}[a.charAt(1)],y:{T:x,B:x+u,M:x+(u>>1)}[a.charAt(0)]}})}var n=typeof a=="string"||"offsetWidth"in a?m.position(a,!0):
a;if(a.parentNode)for(a=a.parentNode;a&&a.nodeType==1&&a.nodeName!="BODY";){var r=m.position(a,!0),p=i.getComputedStyle(a).overflow;if(p=="hidden"||p=="auto"||p=="scroll"){var p=Math.min(n.y+n.h,r.y+r.h),A=Math.min(n.x+n.w,r.x+r.w);n.x=Math.max(n.x,r.x);n.y=Math.max(n.y,r.y);n.h=p-n.y;n.w=A-n.x}a=a.parentNode}var z=n.x,x=n.y,y="w"in n?n.w:n.w=n.width,u="h"in n?n.h:(o.deprecated("place.around: dijit.place.__Rectangle: { x:"+z+", y:"+x+", height:"+n.height+", width:"+y+" } has been deprecated.  Please use { x:"+
z+", y:"+x+", h:"+n.height+", w:"+y+" }","","2.0"),n.h=n.height),w=[];d.forEach(e,function(a){var b=h;switch(a){case "above-centered":f("TM","BM");break;case "below-centered":f("BM","TM");break;case "after-centered":b=!b;case "before-centered":f(b?"ML":"MR",b?"MR":"ML");break;case "after":b=!b;case "before":f(b?"TL":"TR",b?"TR":"TL");f(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":f(b?"BL":"BR",b?"TL":"TR");f(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":f(b?
"TL":"TR",b?"BL":"BR");f(b?"TR":"TL",b?"BR":"BL");break;default:f(a.aroundCorner,a.corner)}});b=c(b,w,l,{w:y,h:u});b.aroundNodePos=n;return b}}})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(d,m,i,o){var h,e={},n={},c={config:m,global:this,dijit:e,dojox:n},e={dojo:["dojo",c],dijit:["dijit",e],dojox:["dojox",n]},o=i.packs&&i.packs[o.id.match(/[^\/]+/)[0]].packageMap||{};for(h in o)e[h]?e[h][0]=o[h]:e[h]=[o[h],{}];for(h in e)o=e[h],o[1]._scopeName=o[0],m.noGlobals||
(this[o[0]]=o[1]);c.scopeMap=e;c.baseUrl=c.config.baseUrl=i.baseUrl;c.isAsync=i.async;c.locale=m.locale;o="$Rev: 28982 $".match(/\d+/);c.version={major:1,minor:7,patch:3,flag:"",revision:o?+o[0]:NaN,toString:function(){var a=c.version;return a.major+"."+a.minor+"."+a.patch+a.flag+" ("+a.revision+")"}};c.eval=function(){};Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(c);c.exit=function(){};typeof console!="undefined"||(console={});for(var e=
["assert","count","debug","dir","dirxml","error","group","groupEnd","info","profile","profileEnd","time","timeEnd","trace","warn","log"],b,o=0;b=e[o++];)console[b]||function(){var a=b+"";console[a]="log"in console?function(){var b=Array.apply({},arguments);b.unshift(a+":");console.log(b.join(" "))}:function(){};console[a]._fake=!0}();d.add("dojo-debug-messages",!!m.isDebug);d("dojo-debug-messages")?(c.deprecated=function(){},c.experimental=function(){}):c.deprecated=c.experimental=function(){};if(m.modulePaths){c.deprecated("dojo.modulePaths",
"use paths configuration");d={};for(h in m.modulePaths)d[h.replace(/\./g,"/")]=m.modulePaths[h];i({paths:d})}c.moduleUrl=function(a,b){c.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var d=null;a&&(d=i.toUrl(a.replace(/\./g,"/")+(b?"/"+b:"")+"/*.*").replace(/\/\*\.\*/,"")+(b?"":"/"));return d};c._hasResource={};return c})},"djeo/gfx":function(){define("djeo/gfx",["dojo/has","dojo/_base/Color","./dojox/gfx","./_base","./common/Placemark","dojo/_base/sniff"],function(d,m,i,o,h){o.shapes=
{circle:1,star:{size:[1E3,1E3],points:[0,-476,118,-112,500,-112,191,112,309,476,0,251,-309,476,-191,112,-500,-112,-118,-112,0,-476]},cross:{size:[10,10],points:[-1,-5,1,-5,1,-1,5,-1,5,1,1,1,1,5,-1,5,-1,1,-5,1,-5,-1,-1,-1,-1,-5]},x:{size:[100,100],points:[-50,-50,-25,-50,0,-15,25,-50,50,-50,15,0,50,50,25,50,0,15,-25,50,-50,50,-15,0,-50,-50]},square:{size:[2,2],points:[-1,-1,-1,1,1,1,1,-1,-1,-1]},triangle:{size:[10,10],points:[-5,5,5,5,0,-5,-5,5]}};return{applyFill:function(d,i,c,b){var a=h.get("fill",
i,c,b),i=h.get("fillOpacity",i,c,b);if(a||i!==void 0)if(b=(c=d.getFill())&&c.a,a&&(c=new m(a)),c){if(i!==void 0)c.a=i;else if(b!==void 0)c.a=b;d.setFill(c)}},applyStroke:function(e,n,c,b,a){if(i.renderer=="vml"||i.renderer=="svg"&&(d("webkit")||d("opera")))a=1;var q=h.get("stroke",n,c,b),s=h.get("strokeWidth",n,c,b),n=h.get("strokeOpacity",n,c,b);if(q||s!==void 0||n!==void 0)if(s===0)e.setStroke(null);else{c=e.getStroke();if(q)c||(c={join:"round",cap:"round"}),c.color=new m(q);if(c){if(n!==void 0)c.color.a=
n;if(s)c.width=s*a;e.setStroke(c)}}}}})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./has"],function(d,m,i){function o(a,d,f,e,l){if(e=d.match(/(.*):(.*)/))return d=e[2],e=e[1],c.selector(e,d).call(l,a,f);i("touch")&&(b.test(d)&&(f=x(f)),!i("event-orientationchange")&&d=="orientationchange"&&(d="resize",a=window,f=x(f)));if(a.addEventListener){var h=d in s;a.addEventListener(h?s[d]:d,f,h);return{remove:function(){a.removeEventListener(d,f,h)}}}d="on"+d;if(t&&
a.attachEvent)return t(a,d,f);throw Error("Target must be an event emitter");}function h(){this.cancelable=!1}function e(){this.bubbles=!1}var n=window.ScriptEngineMajorVersion;i.add("jscript",n&&n()+ScriptEngineMinorVersion()/10);i.add("event-orientationchange",i("touch")&&!i("android"));var c=function(a,b,d,f){if(a.on)return a.on(b,d);return c.parse(a,b,d,o,f,this)};c.pausable=function(a,b,d,f){var e,a=c(a,b,function(){if(!e)return d.apply(this,arguments)},f);a.pause=function(){e=!0};a.resume=function(){e=
!1};return a};c.once=function(a,b,d){var f=c(a,b,function(){f.remove();return d.apply(this,arguments)});return f};c.parse=function(a,b,c,d,f,e){if(b.call)return b.call(e,a,c);if(b.indexOf(",")>-1){for(var b=b.split(/\s*,\s*/),l=[],h=0,i;i=b[h++];)l.push(d(a,i,c,f,e));l.remove=function(){for(var a=0;a<l.length;a++)l[a].remove()};return l}return d(a,b,c,f,e)};var b=/^touch/;c.selector=function(a,b,d){return function(f,e){var l=this,h=b.bubble;h?b=h:d!==!1&&(d=!0);return c(f,b,function(b){var c=b.target;
for(l=l&&l.matches?l:m.query;!l.matches(c,a,f);)if(c==f||!d||!(c=c.parentNode))return;return e.call(c,b)})}};var a=[].slice,q=c.emit=function(b,c,d){var f=a.call(arguments,2),l="on"+c;if("parentNode"in b){var i=f[0]={},n;for(n in d)i[n]=d[n];i.preventDefault=h;i.stopPropagation=e;i.target=b;i.type=c;d=i}do b[l]&&b[l].apply(b,f);while(d&&d.bubbles&&(b=b.parentNode));return d&&d.cancelable&&d},s={};if(i("dom-addeventlistener")){s={focusin:"focus",focusout:"blur"};if(i("opera"))s.keydown="keypress";
c.emit=function(a,b,d){if(a.dispatchEvent&&document.createEvent){var f=document.createEvent("HTMLEvents");f.initEvent(b,!!d.bubbles,!!d.cancelable);for(var e in d)e in f||(f[e]=d[e]);return a.dispatchEvent(f)&&f}return q.apply(c,arguments)}}else{c._fixEvent=function(a,b){if(!a)a=(b&&(b.ownerDocument||b.document||b).parentWindow||window).event;if(!a)return a;if(!a.target){a.target=a.srcElement;a.currentTarget=b||a.srcElement;if(a.type=="mouseover")a.relatedTarget=a.fromElement;if(a.type=="mouseout")a.relatedTarget=
a.toElement;if(!a.stopPropagation)a.stopPropagation=r,a.preventDefault=p;switch(a.type){case "keypress":var c="charCode"in a?a.charCode:a.keyCode;c==10?(c=0,a.keyCode=13):c==13||c==27?c=0:c==3&&(c=99);a.charCode=c;c=a;c.keyChar=c.charCode?String.fromCharCode(c.charCode):"";c.charOrCode=c.keyChar||c.keyCode}}return a};var l=function(a){this.handle=a};l.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var f=function(a){return function(b){b=c._fixEvent(b,this);return a.call(this,b)}},
t=function(a,b,c){c=f(c);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=top||i("jscript")<5.8)&&!i("config-_allow_leaks")){typeof _dojoIEListeners_=="undefined"&&(_dojoIEListeners_=[]);var e=a[b];if(!e||!e.listeners){var h=e;a[b]=e=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");e.listeners=[];e.global=this;h&&e.listeners.push(_dojoIEListeners_.push(h)-
1)}e.listeners.push(a=e.global._dojoIEListeners_.push(c)-1);return new l(a)}return d.after(a,b,c,!0)},r=function(){this.cancelBubble=!0},p=c._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.returnValue=!1}}if(i("touch"))var A=function(){},z=window.orientation,x=function(a){return function(b){var c=b.corrected;if(!c){var d=b.type;try{delete b.type}catch(f){}b.type?(A.prototype=b,c=new A,c.preventDefault=function(){b.preventDefault()},c.stopPropagation=
function(){b.stopPropagation()}):(c=b,c.type=d);b.corrected=c;if(d=="resize"){if(z==window.orientation)return null;z=window.orientation;c.type="orientationchange";return a.call(this,c)}if(!("rotation"in c))c.rotation=0,c.scale=1;var d=c.changedTouches[0],e;for(e in d)delete c[e],c[e]=d[e]}return a.call(this,c)}};return c})},"djeo/control/_PointerBase":function(){define("djeo/control/_PointerBase",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","../util/_base","./_Base"],function(d,m,i,
o,h){var e=o.uid();return d([h],{c:{timeoutId:null,feature:null},_onpointeroutDelay:200,constructor:function(){this.handle=e;if(!this.c.handle)this.c.handle=e;this.events=["mouseover","mouseout"]},process:function(d){var c=d.feature;if(this.c.timeoutId)clearTimeout(this.c.timeoutId),this.c.timeoutId=null;if(d.type=="mouseover"){if(this.c.feature!=c){var d=c.handles[e][4],b;for(b in d)d[b].pointeroverAction(c,this.c.feature);this.c.feature=c}}else if(d.type=="mouseout")this.c.timeoutId=setTimeout(m.hitch(this,
this._onpointerout),this._onpointeroutDelay)},_onpointerout:function(){var d=this.c.feature;if(d){var c=d.handles[e][4],b;for(b in c)c[b].pointeroutAction(d);this.c.feature=null}}})})},"dijit/_Widget":function(){define("dijit/_Widget",["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(d,m,i,o,h,e,n,c,b,a,q,s){function l(){}
function f(a){return function(b,c,d,f){if(b&&typeof c=="string"&&b[c]==l)return b.on(c.substring(2).toLowerCase(),e.hitch(d,f));return a.apply(i,arguments)}}d.around(i,"connect",f);h.connect&&d.around(h,"connect",f);d=o("dijit._Widget",[a,q,s],{onClick:l,onDblClick:l,onKeyDown:l,onKeyPress:l,onKeyUp:l,onMouseDown:l,onMouseMove:l,onMouseOut:l,onMouseOver:l,onMouseLeave:l,onMouseEnter:l,onMouseUp:l,constructor:function(a){this._toConnect={};for(var b in a)this[b]===l&&(this._toConnect[b.replace(/^on/,
"").toLowerCase()]=a[b],delete a[b])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,b){if(this[this._onMap(a)]===l)return i.connect(this.domNode,a.toLowerCase(),this,b);return this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,b){h.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");
this.set(a,b)},attr:function(a){if(m.isDebug){var b=arguments.callee._ach||(arguments.callee._ach={}),c=(arguments.callee.caller||"unknown caller").toString();b[c]||(h.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+c,"","2.0"),b[c]=!0)}return arguments.length>=2||typeof a==="object"?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){h.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","",
"2.0");return this.containerNode?n("[widgetId]",this.containerNode).map(b.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});h.isAsync||c(0,function(){require(["dijit/_base"])});return d})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(d){return d.cache})},"dijit/_FocusMixin":function(){define("dijit/_FocusMixin",["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(d,m,i,o){o.extend(m,{focused:!1,
onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return i("dijit._FocusMixin",null,{_focusManager:d})})},"dijit/_OnDijitClickMixin":function(){define("dijit/_OnDijitClickMixin",["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/_base/sniff","dojo/_base/unload","dojo/_base/window"],function(d,m,i,o,h,e,n){var c=null;h("ie")?function(){var a=function(a){c=a.srcElement};n.doc.attachEvent("onkeydown",a);e.addOnWindowUnload(function(){n.doc.detachEvent("onkeydown",
a)})}():n.doc.addEventListener("keydown",function(a){c=a.target},!0);var b=function(a,b){if(/input|button/i.test(a.nodeName))return d(a,"click",b);else{var e=function(a){return(a.keyCode==i.ENTER||a.keyCode==i.SPACE)&&!a.ctrlKey&&!a.shiftKey&&!a.altKey&&!a.metaKey},l=[d(a,"keypress",function(a){if(e(a))c=a.target,a.preventDefault()}),d(a,"keyup",function(a){e(a)&&a.target==c&&(c=null,b.call(this,a))}),d(a,"click",function(a){b.call(this,a)})];return{remove:function(){m.forEach(l,function(a){a.remove()})}}}};
return o("dijit._OnDijitClickMixin",null,{connect:function(a,c,d){return this.inherited(arguments,[a,c=="ondijitclick"?b:c,d])}})})},"djeo-jenks/main":function(){define("djeo-jenks/main",["dojo/_base/lang","djeo/util/numeric"],function(d,m){return{getBreaks:function(i,o){var h=d.isArray(i)?i:m.composeArray(i,o.attr,!0,!0),e=h.length;if(e!=0){for(var n=e<o.numClasses?e:o.numClasses,c=h.length,e=[],b=0;b<=c;b++){for(var a=[],q=0;q<=n;q++);e.push(a)}for(var s=[],b=0;b<=c;b++){a=[];for(q=0;q<=n;q++);
s.push(a)}for(b=1;b<=n;b++){e[1][b]=1;s[1][b]=0;for(q=2;q<=c;q++)s[q][b]=Infinity}v=0;for(b=2;b<=c;b++){for(var l=a=0,f=0,t=1;t<=b;t++){var r=b-t+1,q=parseFloat(h[r-1]);l+=q*q;a+=q;f+=1;v=l-a*a/f;var p=r-1;if(p!=0)for(q=2;q<=n;q++)s[b][q]>=v+s[p][q-1]&&(e[b][q]=r,s[b][q]=v+s[p][q-1])}e[b][1]=1;s[b][1]=v}k=c;s=[];for(q=0;q<=n;q++)s.push(0);s[n]=parseFloat(h[c-1]);for(s[0]=parseFloat(h[0]);n>=2;)c=parseInt(e[k][n]-2),s[n-1]=h[c],k=parseInt(e[k][n]-1),n-=1;breaks=s;if(breaks.length)return breaks}}}})},
"dojo/query":function(){define(["./_base/kernel","./has","./dom","./on","./_base/array","./_base/lang","./selector/_loader","./selector/_loader!default"],function(d,m,i,o,h,e,n,c){function b(a,b){var c=function(c,d){if(typeof d=="string"&&(d=i.byId(d),!d))return new b([]);var f=typeof c=="string"?a(c,d):c.orphan?c:[c];if(f.orphan)return f;return new b(f)};c.matches=a.match||function(a,b,d){return c.filter([a],b,d).length>0};c.filter=a.filter||function(a,b,d){return c(b,d).filter(function(b){return h.indexOf(a,
b)>-1})};if(typeof a!="function")var d=a.search,a=function(a,b){return d(b||document,a)};return c}m.add("array-extensible",function(){return e.delegate([],{length:1}).length==1&&!m("bug-for-in-skips-shadowed")});var a=Array.prototype,q=a.slice,s=a.concat,l=h.forEach,f=function(a,b,c){b=[0].concat(q.call(b,0));c=c||d.global;return function(d){b[0]=d;return a.apply(c,b)}},t=function(a){var b=this instanceof r&&m("array-extensible");typeof a=="number"&&(a=Array(a));var c=a&&"length"in a?a:arguments;
if(b||!c.sort){for(var d=b?this:[],f=d.length=c.length,l=0;l<f;l++)d[l]=c[l];if(b)return d;c=d}e._mixin(c,p);c._NodeListCtor=function(a){return r(a)};return c},r=t,p=r.prototype=m("array-extensible")?[]:{};r._wrap=p._wrap=function(a,b,c){a=new (c||this._NodeListCtor||r)(a);return b?a._stash(b):a};r._adaptAsMap=function(a,b){return function(){return this.map(f(a,arguments,b))}};r._adaptAsForEach=function(a,b){return function(){this.forEach(f(a,arguments,b));return this}};r._adaptAsFilter=function(a,
b){return function(){return this.filter(f(a,arguments,b))}};r._adaptWithCondition=function(a,b,c){return function(){var e=arguments,l=f(a,e,c);if(b.call(c||d.global,e))return this.map(l);this.forEach(l);return this}};l(["slice","splice"],function(b){var c=a[b];p[b]=function(){return this._wrap(c.apply(this,arguments),b=="slice"?this:null)}});l(["indexOf","lastIndexOf","every","some"],function(a){var b=h[a];p[a]=function(){return b.apply(d,[this].concat(q.call(arguments,0)))}});e.extend(t,{constructor:r,
_NodeListCtor:r,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,b){var c=this.map(function(c){return o(c,a,b)});c.remove=function(){for(var a=0;a<c.length;a++)c[a].remove()};return c},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(){var a=e.isArray(this)?this:q.call(this,0),b=h.map(arguments,function(a){return a&&!e.isArray(a)&&(typeof t!="undefined"&&a.constructor===t||a.constructor===this._NodeListCtor)?
q.call(a,0):a});return this._wrap(s.apply(a,b),this)},map:function(a,b){return this._wrap(h.map(this,a,b),this)},forEach:function(a,b){l(this,a,b);return this},filter:function(a){var b=arguments,c=this,d=0;if(typeof a=="string"){c=A._filterResult(this,b[0]);if(b.length==1)return c._stash(this);d=1}return this._wrap(h.filter(c,b[d],b[d+1]),this)},instantiate:function(a,b){var c=e.isFunction(a)?a:e.getObject(a),b=b||{};return this.forEach(function(a){new c(b,a)})},at:function(){var a=new this._NodeListCtor(0);
l(arguments,function(b){b<0&&(b=this.length+b);this[b]&&a.push(this[b])},this);return a._stash(this)}});var A=b(c,t);d.query=b(c,function(a){return t(a)});A.load=function(a,c,d){n.load(a,c,function(a){d(b(a,t))})};d._filterQueryResult=A._filterResult=function(a,b,c){return new t(A.filter(a,b,c))};d.NodeList=A.NodeList=t;return A})},"djeo/dojox/gfx/decompose":function(){define("djeo/dojox/gfx/decompose",["./_base","dojo/_base/lang","./matrix"],function(d,m,i){function o(b,a){return Math.abs(b-a)<=
1.0E-6*(Math.abs(b)+Math.abs(a))}function h(b,a,c,d){if(isFinite(b)){if(!isFinite(c))return b}else return c;a=Math.abs(a);d=Math.abs(d);return(a*b+d*c)/(a+d)}function e(b){var b=i.normalize(b),a=-b.xx-b.yy,c=b.xx*b.yy-b.xy*b.yx,d=Math.sqrt(a*a-4*c),a=-(a+(a<0?-d:d))/2;c/=a;var d=b.xy/(a-b.xx),e=1,f=b.xy/(c-b.xx),h=1;o(a,c)&&(d=1,f=e=0,h=1);isFinite(d)||(d=1,e=(a-b.xx)/b.xy,isFinite(e)||(d=(a-b.yy)/b.yx,e=1,isFinite(d)||(d=1,e=b.yx/(a-b.yy))));isFinite(f)||(f=1,h=(c-b.xx)/b.xy,isFinite(h)||(f=(c-b.yy)/
b.yx,h=1,isFinite(f)||(f=1,h=b.yx/(c-b.yy))));var b=Math.sqrt(d*d+e*e),n=Math.sqrt(f*f+h*h);if(!isFinite(d/=b))d=0;if(!isFinite(e/=b))e=0;if(!isFinite(f/=n))f=0;if(!isFinite(h/=n))h=0;return{value1:a,value2:c,vector1:{x:d,y:e},vector2:{x:f,y:h}}}function n(b,a){var c=b.xx*b.yy<0||b.xy*b.yx>0?-1:1,d=a.angle1=(Math.atan2(b.yx,b.yy)+Math.atan2(-c*b.xy,c*b.xx))/2,c=Math.cos(d),d=Math.sin(d);a.sx=h(b.xx/c,c,-b.xy/d,d);a.sy=h(b.yy/c,c,b.yx/d,d);return a}function c(b,a){var c=b.xx*b.yy<0||b.xy*b.yx>0?-1:
1,d=a.angle2=(Math.atan2(c*b.yx,c*b.xx)+Math.atan2(-b.xy,b.yy))/2,c=Math.cos(d),d=Math.sin(d);a.sx=h(b.xx/c,c,b.yx/d,d);a.sy=h(b.yy/c,c,-b.xy/d,d);return a}return d.decompose=function(b){var a=i.normalize(b),b={dx:a.dx,dy:a.dy,sx:1,sy:1,angle1:0,angle2:0};if(o(a.xy,0)&&o(a.yx,0))return m.mixin(b,{sx:a.xx,sy:a.yy});if(o(a.xx*a.yx,-a.xy*a.yy))return n(a,b);if(o(a.xx*a.xy,-a.yx*a.yy))return c(a,b);var d,h=new i.Matrix2D(a);d=m.mixin(h,{dx:0,dy:0,xy:h.yx,yx:h.xy});h=e([a,d]);d=e([d,a]);h=new i.Matrix2D({xx:h.vector1.x,
xy:h.vector2.x,yx:h.vector1.y,yy:h.vector2.y});d=new i.Matrix2D({xx:d.vector1.x,xy:d.vector1.y,yx:d.vector2.x,yy:d.vector2.y});a=new i.Matrix2D([i.invert(h),a,i.invert(d)]);n(d,b);a.xx*=b.sx;a.yy*=b.sy;c(h,b);a.xx*=b.sx;a.yy*=b.sy;return m.mixin(b,{sx:a.xx,sy:a.yy})}})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(d,m,i){function o(b){if(typeof b=="string"||b instanceof String){if(b&&!e.test(b))return n[0]=b,n;b=b.split(e);b.length&&!b[0]&&b.shift();b.length&&
!b[b.length-1]&&b.pop();return b}if(!b)return[];return m.filter(b,function(a){return a})}var h,e=/\s+/,n=[""],c={};return h={contains:function(b,a){return(" "+i.byId(b).className+" ").indexOf(" "+a+" ")>=0},add:function(b,a){var b=i.byId(b),a=o(a),c=b.className,d,c=c?" "+c+" ":" ";d=c.length;for(var e=0,f=a.length,h;e<f;++e)(h=a[e])&&c.indexOf(" "+h+" ")<0&&(c+=h+" ");d<c.length&&(b.className=c.substr(1,c.length-2))},remove:function(b,a){var b=i.byId(b),c;if(a!==void 0){a=o(a);c=" "+b.className+" ";
for(var e=0,l=a.length;e<l;++e)c=c.replace(" "+a[e]+" "," ");c=d.trim(c)}else c="";b.className!=c&&(b.className=c)},replace:function(b,a,d){b=i.byId(b);c.className=b.className;h.remove(c,d);h.add(c,a);b.className!==c.className&&(b.className=c.className)},toggle:function(b,a,c){b=i.byId(b);if(c===void 0)for(var a=o(a),d=0,e=a.length,f;d<e;++d)f=a[d],h[h.contains(b,f)?"remove":"add"](b,f);else h[c?"add":"remove"](b,a);return c}}})},"dijit/focus":function(){define("dijit/focus",["dojo/aspect","dojo/_base/declare",
"dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/ready","dojo/_base/sniff","dojo/Stateful","dojo/_base/unload","dojo/_base/window","dojo/window","./a11y","./registry","."],function(d,m,i,o,h,e,n,c,b,a,q,s,l,f,t,r,p){var A=new (m([q,e],{curNode:null,activeStack:[],constructor:function(){var a=n.hitch(this,function(a){i.isDescendant(this.curNode,a)&&this.set("curNode",null);i.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});d.before(h,"empty",
a);d.before(h,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(b,c){var d=this,f=function(b){d._justMouseDowned=!0;setTimeout(function(){d._justMouseDowned=!1},0);if(!a("ie")||!b||!(b.srcElement&&b.srcElement.parentNode==null))d._onTouchNode(c||b.target||b.srcElement,"mouse")},e=a("ie")?b.document.documentElement:b.document;if(e)if(a("ie")){b.document.body.attachEvent("onmousedown",f);var l=function(a){var b=a.srcElement.tagName.toLowerCase();
b=="#document"||b=="body"||(t.isTabNavigable(a.srcElement)?d._onFocusNode(c||a.srcElement):d._onTouchNode(c||a.srcElement))};e.attachEvent("onactivate",l);var h=function(a){d._onBlurNode(c||a.srcElement)};e.attachEvent("ondeactivate",h);return{remove:function(){b.document.detachEvent("onmousedown",f);e.detachEvent("onactivate",l);e.detachEvent("ondeactivate",h);e=null}}}else{e.body.addEventListener("mousedown",f,!0);e.body.addEventListener("touchstart",f,!0);var i=function(a){d._onFocusNode(c||a.target)};
e.addEventListener("focus",i,!0);var n=function(a){d._onBlurNode(c||a.target)};e.addEventListener("blur",n,!0);return{remove:function(){e.body.removeEventListener("mousedown",f,!0);e.body.removeEventListener("touchstart",f,!0);e.removeEventListener("focus",i,!0);e.removeEventListener("blur",n,!0);e=null}}}},_onBlurNode:function(){this.set("prevNode",this.curNode);this.set("curNode",null);if(!this._justMouseDowned)this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),this._clearActiveWidgetsTimer=
setTimeout(n.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([]);this.prevNode=null}),100)},_onTouchNode:function(a,b){this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);var c=[];try{for(;a;){var d=o.get(a,"dijitPopupParent");if(d)a=r.byId(d).domNode;else if(a.tagName&&a.tagName.toLowerCase()=="body"){if(a===l.body())break;a=f.get(a.ownerDocument).frameElement}else{var e=a.getAttribute&&a.getAttribute("widgetId"),
h=e&&r.byId(e);h&&!(b=="mouse"&&h.get("disabled"))&&c.unshift(e);a=a.parentNode}}}catch(i){}this._setStack(c,b)},_onFocusNode:function(a){a&&a.nodeType!=9&&(this._onTouchNode(a),a!=this.curNode&&this.set("curNode",a))},_setStack:function(a,b){var c=this.activeStack;this.set("activeStack",a);for(var d=0;d<Math.min(c.length,a.length);d++)if(c[d]!=a[d])break;for(var f,e=c.length-1;e>=d;e--)if(f=r.byId(c[e]))f._hasBeenBlurred=!0,f.set("focused",!1),f._focusManager==this&&f._onBlur(b),this.emit("widget-blur",
f,b);for(e=d;e<a.length;e++)if(f=r.byId(a[e]))f.set("focused",!0),f._focusManager==this&&f._onFocus(b),this.emit("widget-focus",f,b)},focus:function(a){if(a)try{a.focus()}catch(b){}}}));b(function(){var b=A.registerWin(l.doc.parentWindow||l.doc.defaultView);a("ie")&&s.addOnWindowUnload(function(){b.remove();b=null})});p.focus=function(a){A.focus(a)};for(var z in A)/^_/.test(z)||(p.focus[z]=typeof A[z]=="function"?n.hitch(A,z):A[z]);A.watch(function(a,b,c){p.focus[a]=c});return A})},"djeo/Engine":function(){define("djeo/Engine",
["dojo/_base/declare","dojo/has","dojo/_base/lang","dojo/on","dojo/_base/array","dojo/Evented","./_base"],function(d,m,i,o,h,e,n){var c=[0,0];return d([e],{type:"",factories:null,initialized:!1,canRenderModels:!1,_require:null,ignoredDependencies:null,_layerCtrs:null,constructor:function(b){i.mixin(this,b);this.factories={};this.ignoredDependencies={};this.layers=[];this._layerCtrs={};this._layerReg={}},initialize:function(){},_initBasicFactories:function(b){var a=this.factories;a.Placemark=b;a.Point=
b;a.LineString=b;a.Polygon=b;a.MultiLineString=b;a.MultiPolygon=b},matchModuleId:function(b){if(this.ignoredDependencies[b])return null;var a=this._require.toAbsMid("./");a.length>5&&a.substr(a.length-5,5)=="/main"&&(a=a.substring(0,a.length-4));a+=b;return a},createContainer:function(){},appendChild:function(){},prepare:function(){},_initCamera:function(){var b=this.map,a=b.extent,d,e=!0;this._renderingDisabled=!0;if(a)b=this.map.getCoords([a[0],a[1]]),a=this.map.getCoords([a[2],a[3]]),this.zoomTo([b[0],
b[1],a[0],a[1]]);else{var a=b.center||b.lookAt&&b.lookAt.coords,l;if(!a||!("zoom"in b))l=b.getBbox();if("zoom"in b)d=b.zoom,a||(l?(a=[(l[2]+l[0])/2,(l[3]+l[1])/2],e=!1):a=[c[0],c[1]]);else if(a||!l)d=3,l||(a=[c[0],c[1]]);a&&e&&(a=b.getCoords(a));a?this._setCamera({center:a,zoom:d}):this.zoomTo(l)}this._renderingDisabled=!1},getFactory:function(b){if(!b||this.ignoredDependencies[b])return null;var a=this.factories;if(!a[b]){var c=this.matchModuleId(b);c&&(c=require(c),a[b]=new c({engine:this}))}return a[b]},
getTopContainer:function(){},connect:function(){},normalizeCallback:function(b,a,c,d){return function(e){c.call(d,{type:a,nativeEvent:e,feature:b})}},render:function(b,a){var c=this.map;c._calculateViewport();this.prepare();this._initCamera();return c.document.render(b,a)},renderFeatures:function(b,a,c){i.isString(b)&&(b=[b]);if(i.isArray(b))h.forEach(b,function(b){i.isString(b)&&(b=this.getFeatureById(b));b&&b._render(a,c)},this);else for(var d in b)b[d]._render(a,c)},renderContainer:function(b,
a,c){if(c)b.numVisibleFeatures=0;this._renderContainer(b,a,c)},_renderContainer:function(b,a,c){b.visible&&(b.features.length==0&&c&&b.parent.numVisibleFeatures++,h.forEach(b.features,function(b){(b.isContainer||b.visible)&&b._render(a,c)}))},enableLayer:function(b,a){a===void 0&&(a=!0);if(a)if(i.isString(b)){var c=b.indexOf(":"),d=c>0?b.substring(0,c):b,d=d.toLowerCase(),b=c>0?d+":"+b.substring(c+1):d;if(!this._layerReg[b]&&this._supportedLayers[d]){var e=this._supportedLayers[d],f=e[1];if(c>0)f.paramStr=
b.substring(c+1);this._layerCtrs[d]?this._createLayer(b,this._layerCtrs[d],f):this._require(["djeo/"+e[0],"./"+e[0]],i.hitch(this,function(a){this._layerCtrs[d]=a;this._createLayer(b,a,f)}))}}else{for(c=0;c<this.layers.length;c++)if(this.layers[c]===b)return;b.startup(this.map);this._checkLayerProjection(b);this.layers.push(b)}},_createLayer:function(b,a,c){c||(c={});a=new a(c);a.startup(this.map);this._checkLayerProjection(a);this.layers.push(a);this._layerReg[b]=a},_checkLayerProjection:function(b){if(this.layers.length==
0&&b.projection)this.map.projection=b.projection},isValidLayerId:function(b){return n.getLayerClassId(b.toLowerCase())in this._supportedLayers},getLayerModuleId:function(b){return this._supportedLayers[n.getLayerClassId(b.toLowerCase())][0]},setLayerConstructor:function(b,a){this._layerCtrs[n.getLayerClassId(b.toLowerCase())]=a},onzoom_changed:function(){!this._renderingDisabled&&this.map._hasZoomStyle&&this.map.document.render()},_appendDiv:function(b){this.map.container.appendChild(b)}})})},"dojo/dom-attr":function(){define(["exports",
"./_base/sniff","./_base/lang","./dom","./dom-style","./dom-prop"],function(d,m,i,o,h,e){function n(a,b){var c=a.getAttributeNode&&a.getAttributeNode(b);return c&&c.specified}var c={innerHTML:1,className:1,htmlFor:m("ie"),value:1},b={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};d.has=function(a,d){var h=d.toLowerCase();return c[e.names[h]||d]||n(o.byId(a),b[h]||d)};d.get=function(a,d){var a=o.byId(a),h=d.toLowerCase(),l=e.names[h]||d,f=c[l];value=a[l];if(f&&typeof value!=
"undefined")return value;if(l!="href"&&(typeof value=="boolean"||i.isFunction(value)))return value;h=b[h]||d;return n(a,h)?a.getAttribute(h):null};d.set=function(a,n,m){a=o.byId(a);if(arguments.length==2){for(var l in n)d.set(a,l,n[l]);return a}l=n.toLowerCase();var f=e.names[l]||n,t=c[f];if(f=="style"&&typeof m!="string")return h.set(a,m),a;if(t||typeof m=="boolean"||i.isFunction(m))return e.set(a,n,m);a.setAttribute(b[l]||n,m);return a};d.remove=function(a,c){o.byId(a).removeAttribute(b[c.toLowerCase()]||
c)};d.getNodeProp=function(a,c){var a=o.byId(a),d=c.toLowerCase(),l=e.names[d]||c;if(l in a&&l!="href")return a[l];d=b[d]||c;return n(a,d)?a.getAttribute(d):null}})},"djeo/control/Tooltip":function(){define("djeo/control/Tooltip",["dojo/_base/declare","dojo/_base/lang","dojo/on","dojo/dom-geometry","dijit/Tooltip","dijit/place","../_base","./_PointerBase"],function(d,m,i,o,h,e,n,c){n.registerDependency("Tooltip");var b=function(a){return a.tooltip||a.name||a.id},a,q,s,l,f={x:0,y:0,w:0,h:0};return d([c],
{offsetX:0,offsetY:-5,position:["above-centered","below-centered"],rtl:!1,constructor:function(a,c){this.content=c&&c.content?c.content:b;var d=this.map.engine.getFactory("Tooltip");d&&m.mixin(this,d);this.init();this.enabled&&this.enable()},init:function(){a||(a=new h._MasterTooltip,i(a.domNode,"mousemove",m.hitch(this,function(a){s=a.clientX;l=a.clientY;q&&q.moveTooltip(a.clientX,a.clientY)})));i(this.map.container,"mousemove",m.hitch(this,function(a){q!=this&&(q=this);s=a.clientX;l=a.clientY;q.c.timeoutId||
q.moveTooltip(a.clientX,a.clientY)}))},pointeroverAction:function(a){this.showTooltip(a)},pointeroutAction:function(){this.hideTooltip()},showTooltip:function(b){this._setAroundRect();var c=b.reg.cs;a.show(c.tooltip?c.tooltip(b):this.content(b),f,this.position,this.rtl)},hideTooltip:function(){a.hide(f)},moveTooltip:function(b,c){var d=this.c.feature;d&&d.handles[this.c.handle][4][this.id]&&(this._setAroundRect(b,c),e.around(a.domNode,f,this.position,!this.rtl,m.hitch(a,"orient")))},_setAroundRect:function(a,
b){var c=o.position(this.map.container,!0),d=o.position(this.map.container,!1);a===void 0&&(a=s,b=l);f.x=Math.round(a+c.x-d.x+this.offsetX);f.y=Math.round(b+c.y-d.y+this.offsetY)}})})},"dijit/main":function(){define("dijit/main",["dojo/_base/kernel"],function(d){return d.dijit})},"dojo/date/stamp":function(){define(["../_base/kernel","../_base/lang","../_base/array"],function(d,m,i){m.getObject("date.stamp",!0,d);d.date.stamp.fromISOString=function(m,h){if(!d.date.stamp._isoRegExp)d.date.stamp._isoRegExp=
/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;var e=d.date.stamp._isoRegExp.exec(m),n=null;if(e){e.shift();e[1]&&e[1]--;e[6]&&(e[6]*=1E3);h&&(h=new Date(h),i.forEach(i.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(a){return h["get"+a]()}),function(a,b){e[b]=e[b]||a}));n=new Date(e[0]||1970,e[1]||0,e[2]||1,e[3]||0,e[4]||0,e[5]||0,e[6]||0);e[0]<100&&n.setFullYear(e[0]||1970);var c=0,b=e[7]&&e[7].charAt(0);
b!="Z"&&(c=(e[8]||0)*60+(Number(e[9])||0),b!="-"&&(c*=-1));b&&(c-=n.getTimezoneOffset());c&&n.setTime(n.getTime()+c*6E4)}return n};d.date.stamp.toISOString=function(d,h){var e=function(a){return a<10?"0"+a:a},h=h||{},i=[],c=h.zulu?"getUTC":"get",b="";h.selector!="time"&&(b=d[c+"FullYear"](),b=["0000".substr((b+"").length)+b,e(d[c+"Month"]()+1),e(d[c+"Date"]())].join("-"));i.push(b);if(h.selector!="date"){b=[e(d[c+"Hours"]()),e(d[c+"Minutes"]()),e(d[c+"Seconds"]())].join(":");c=d[c+"Milliseconds"]();
h.milliseconds&&(b+="."+(c<100?"0":"")+e(c));if(h.zulu)b+="Z";else if(h.selector!="time"){var c=d.getTimezoneOffset(),a=Math.abs(c);b+=(c>0?"-":"+")+e(Math.floor(a/60))+":"+e(a%60)}i.push(b)}return i.join("T")};return d.date.stamp})},"dojo/selector/lite":function(){define(["../has","../_base/kernel"],function(d,m){var i=document.createElement("div"),o=i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector,h=i.querySelectorAll;d.add("dom-matches-selector",
!!o);d.add("dom-qsa",!!h);var e=function(a,d){if(b&&a.indexOf(",")>-1)return b(a,d);var i=(h?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(a),d=d||document;if(i){if(i[2]){var l=m.byId?m.byId(i[2]):document.getElementById(i[2]);if(!l||i[1]&&i[1]!=l.tagName.toLowerCase())return[];if(d!=document)for(var f=l;f!=d;)if(f=f.parentNode,!f)return[];return i[3]?e(i[3],l):[l]}if(i[3]&&d.getElementsByClassName)return d.getElementsByClassName(i[4]);
if(i[5])if(l=d.getElementsByTagName(i[5]),i[4]||i[6])a=(i[4]||"")+i[6];else return l}if(h)return d.nodeType===1&&d.nodeName.toLowerCase()!=="object"?n(d,a,d.querySelectorAll):d.querySelectorAll(a);else l||(l=d.getElementsByTagName("*"));for(var i=[],f=0,o=l.length;f<o;f++){var r=l[f];r.nodeType==1&&c(r,a,d)&&i.push(r)}return i},n=function(a,b,c){var d=a,f=a.getAttribute("id"),e=f||"__dojo__",h=a.parentNode,i=/^\s*[+~]/.test(b);if(i&&!h)return[];f?e=e.replace(/'/g,"\\$&"):a.setAttribute("id",e);if(i&&
h)a=a.parentNode;try{return c.call(a,"[id='"+e+"'] "+b)}finally{f||d.removeAttribute("id")}};if(!d("dom-matches-selector"))var c=function(){function a(a){a=a[h]();return function(b){return b.tagName==a}}function b(a){var c=" "+a+" ";return function(b){return b.className.indexOf(a)>-1&&(" "+b.className+" ").indexOf(c)>-1}}function c(a,b,d){b.match(/['"]/)&&(b=eval(b));var f=n[d||""];return function(c){return(c=c.getAttribute(a))&&f(c,b)}}function d(a){return function(b,c){for(;(b=b.parentNode)!=c;)if(a(b,
c))return!0}}function f(a){return function(b,c){b=b.parentNode;return a?b!=c&&a(b,c):b==c}}function e(a,b){return a?function(c,d){return b(c)&&a(c,d)}:b}var h=i.tagName=="div"?"toLowerCase":"toUpperCase",n={"^=":function(a,b){return a.indexOf(b)==0},"*=":function(a,b){return a.indexOf(b)>-1},"$=":function(a,b){return a.substring(a.length-b.length,a.length)==b},"~=":function(a,b){return(" "+a+" ").indexOf(" "+b+" ")>-1},"|=":function(a,b){return(a+"-").indexOf(b+"-")==0},"=":function(a,b){return a==
b},"":function(){return!0}},m={};return function(h,i,n){var u=m[i];if(!u){if(i.replace(/(?:\s*([> ])\s*)|(\.)?([\w-]+)|\[([\w-]+)\s*(.?=)?\s*([^\]]*)\]/g,function(h,i,n,m,p,r,o){m?u=n=="."?e(u,b(m)):e(u,a(m)):i?u=(i==" "?d:f)(u):p&&(u=e(u,c(p,o,r)));return""}))throw Error("Syntax error in query");if(!u)return!0;m[i]=u}return u(h,n)}}();if(!d("dom-qsa"))var b=function(a,b){for(var a=a.split(/\s*,\s*/),c=[],d=0;d<a.length;d++)for(var f=e(a[d],b),h=0,i=f.length;h<i;h++){var n=f[h];c[n.sourceIndex]=n}f=
[];for(d in c)f.push(c[d]);return f};e.match=o?function(a,b,c){if(c)return n(c,b,function(b){return o.call(a,b)});return o.call(a,b)}:c;return e})},"xstyle/has-class":function(){define("xstyle/has-class",["dojo/has"],function(d){var m={};return function(){for(var i,o=arguments,h=0;h<o.length;h++)if(i=o[h],!m[i]){m[i]=!0;var e=i.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),n=d(e[2]),c=-e[4];if((c>0?c<=n&&(-e[5]||c)>=n:!!n)==!e[1])document.documentElement.className+=" has-"+i}}})},"djeo/dojox/gfx/path":function(){define("djeo/dojox/gfx/path",
["./_base","dojo/_base/lang","dojo/_base/declare","./matrix","./shape"],function(d,m,i,o,h){d.path={};h=i("dojox.gfx.path.Path",h.Shape,{constructor:function(e){this.shape=m.clone(d.defaultPath);this.segments=[];this.tbbox=null;this.absolute=!0;this.last={};this.rawNode=e;this.segmented=!1},setAbsoluteMode:function(d){this._confirmSegmented();this.absolute=typeof d=="string"?d=="absolute":d;return this},getAbsoluteMode:function(){this._confirmSegmented();return this.absolute},getBoundingBox:function(){this._confirmSegmented();
return this.bbox&&"l"in this.bbox?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-this.bbox.t}:null},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox)return this.tbbox;var d=this.bbox,h=this._getRealMatrix();this.bbox=null;for(var c=0,b=this.segments.length;c<b;++c)this._updateWithSegment(this.segments[c],h);h=this.bbox;this.bbox=d;return this.tbbox=h?[{x:h.l,y:h.t},{x:h.r,y:h.t},{x:h.r,y:h.b},{x:h.l,y:h.b}]:null},getLastPosition:function(){this._confirmSegmented();
return"x"in this.last?this.last:null},_applyTransform:function(){this.tbbox=null;return this.inherited(arguments)},_updateBBox:function(d,h,c){if(c)h=o.multiplyPoint(c,d,h),d=h.x,h=h.y;if(this.bbox&&"l"in this.bbox){if(this.bbox.l>d)this.bbox.l=d;if(this.bbox.r<d)this.bbox.r=d;if(this.bbox.t>h)this.bbox.t=h;if(this.bbox.b<h)this.bbox.b=h}else this.bbox={l:d,b:h,r:d,t:h}},_updateWithSegment:function(e,h){var c=e.args,b=c.length,a;switch(e.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(a=
0;a<b;a+=2)this._updateBBox(c[a],c[a+1],h);this.last.x=c[b-2];this.last.y=c[b-1];this.absolute=!0;break;case "H":for(a=0;a<b;++a)this._updateBBox(c[a],this.last.y,h);this.last.x=c[b-1];this.absolute=!0;break;case "V":for(a=0;a<b;++a)this._updateBBox(this.last.x,c[a],h);this.last.y=c[b-1];this.absolute=!0;break;case "m":a=0;if(!("x"in this.last))this._updateBBox(this.last.x=c[0],this.last.y=c[1],h),a=2;for(;a<b;a+=2)this._updateBBox(this.last.x+=c[a],this.last.y+=c[a+1],h);this.absolute=!1;break;case "l":case "t":for(a=
0;a<b;a+=2)this._updateBBox(this.last.x+=c[a],this.last.y+=c[a+1],h);this.absolute=!1;break;case "h":for(a=0;a<b;++a)this._updateBBox(this.last.x+=c[a],this.last.y,h);this.absolute=!1;break;case "v":for(a=0;a<b;++a)this._updateBBox(this.last.x,this.last.y+=c[a],h);this.absolute=!1;break;case "c":for(a=0;a<b;a+=6)this._updateBBox(this.last.x+c[a],this.last.y+c[a+1],h),this._updateBBox(this.last.x+c[a+2],this.last.y+c[a+3],h),this._updateBBox(this.last.x+=c[a+4],this.last.y+=c[a+5],h);this.absolute=
!1;break;case "s":case "q":for(a=0;a<b;a+=4)this._updateBBox(this.last.x+c[a],this.last.y+c[a+1],h),this._updateBBox(this.last.x+=c[a+2],this.last.y+=c[a+3],h);this.absolute=!1;break;case "A":for(a=0;a<b;a+=7)this._updateBBox(c[a+5],c[a+6],h);this.last.x=c[b-2];this.last.y=c[b-1];this.absolute=!0;break;case "a":for(a=0;a<b;a+=7)this._updateBBox(this.last.x+=c[a+5],this.last.y+=c[a+6],h);this.absolute=!1}var i=[e.action];for(a=0;a<b;++a)i.push(d.formatNumber(c[a],!0));typeof this.shape.path=="string"?
this.shape.path+=i.join(""):Array.prototype.push.apply(this.shape.path,i)},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},_pushSegment:function(d,h){this.tbbox=null;var c=this._validSegments[d.toLowerCase()];typeof c=="number"&&(c?h.length>=c&&(c={action:d,args:h.slice(0,h.length-h.length%c)},this.segments.push(c),this._updateWithSegment(c)):(c={action:d,args:[]},this.segments.push(c),this._updateWithSegment(c)))},_collectArgs:function(d,h){for(var c=0;c<h.length;++c){var b=h[c];typeof b==
"boolean"?d.push(b?1:0):typeof b=="number"?d.push(b):b instanceof Array?this._collectArgs(d,b):"x"in b&&"y"in b&&d.push(b.x,b.y)}},moveTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"M":"m",d);return this},lineTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"L":"l",d);return this},hLineTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?
"H":"h",d);return this},vLineTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"V":"v",d);return this},curveTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"C":"c",d);return this},smoothCurveTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"S":"s",d);return this},qCurveTo:function(){this._confirmSegmented();var d=
[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"Q":"q",d);return this},qSmoothCurveTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"T":"t",d);return this},arcTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"A":"a",d);return this},closePath:function(){this._confirmSegmented();this._pushSegment("Z",[]);return this},_confirmSegmented:function(){if(!this.segmented){var d=
this.shape.path;this.shape.path=[];this._setPath(d);this.shape.path=this.shape.path.join("");this.segmented=!0}},_setPath:function(e){e=m.isArray(e)?e:e.match(d.pathSvgRegExp);this.segments=[];this.absolute=!0;this.bbox={};this.last={};if(e){for(var h="",c=[],b=e.length,a=0;a<b;++a){var i=e[a],o=parseFloat(i);isNaN(o)?(h&&this._pushSegment(h,c),c=[],h=i):c.push(o)}this._pushSegment(h,c)}},setShape:function(e){this.inherited(arguments,[typeof e=="string"?{path:e}:e]);this.segmented=!1;this.segments=
[];d.lazyPathSegmentation||this._confirmSegmented();return this},_2PI:Math.PI*2});i=i("dojox.gfx.path.TextPath",h,{constructor:function(){if(!("text"in this))this.text=m.clone(d.defaultTextPath);if(!("fontStyle"in this))this.fontStyle=m.clone(d.defaultFont)},getText:function(){return this.text},setText:function(e){this.text=d.makeParameters(this.text,typeof e=="string"?{text:e}:e);this._setText();return this},getFont:function(){return this.fontStyle},setFont:function(e){this.fontStyle=typeof e=="string"?
d.splitFontString(e):d.makeParameters(d.defaultFont,e);this._setFont();return this}});return{Path:h,TextPath:i}})},"djeo/dojox/gfx":function(){define("djeo/dojox/gfx",["dojo/_base/lang","./gfx/_base","./gfx/renderer!"],function(d,m,i){m.switchTo(i);return m})},"djeo/dojox/gfx/_base":function(){define("djeo/dojox/gfx/_base",["dojo/_base/lang","dojo/_base/html","dojo/_base/Color","dojo/_base/sniff","dojo/_base/window","dojo/_base/array","dojo/dom","dojo/dom-construct","dojo/dom-geometry"],function(d,
m,i,o,h,e,n,c,b){var a=d.getObject("dojox.gfx",!0),q=a._base={};a._hasClass=function(a,b){var c=a.getAttribute("className");return c&&(" "+c+" ").indexOf(" "+b+" ")>=0};a._addClass=function(a,b){var c=a.getAttribute("className")||"";if(!c||(" "+c+" ").indexOf(" "+b+" ")<0)a.setAttribute("className",c+(c?" ":"")+b)};a._removeClass=function(a,b){var c=a.getAttribute("className");c&&a.setAttribute("className",c.replace(RegExp("(^|\\s+)"+b+"(\\s+|$)"),"$1$2"))};q._getFontMeasurements=function(){var a=
{"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},b;if(o("ie"))h.doc.documentElement.style.fontSize="100%";var d=c.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},h.body());for(b in a)d.style.fontSize=b,a[b]=Math.round(d.offsetHeight*12/16)*16/12/1E3;h.body().removeChild(d);return a};var s=null;q._getCachedFontMeasurements=
function(a){if(a||!s)s=q._getFontMeasurements();return s};var l=null,f={};q._getTextBox=function(a,d,e){var i,n,m=arguments.length,u;l||(l=c.create("div",{style:{position:"absolute",top:"-10000px",left:"0"}},h.body()));i=l;i.className="";n=i.style;n.borderWidth="0";n.margin="0";n.padding="0";n.outline="0";if(m>1&&d)for(u in d)u in f||(n[u]=d[u]);if(m>2&&e)i.className=e;i.innerHTML=a;return i.getBoundingClientRect?(i=i.getBoundingClientRect(),{l:i.left,t:i.top,w:i.width||i.right-i.left,h:i.height||
i.bottom-i.top}):b.getMarginBox(i)};var t=0;q._getUniqueId=function(){var a;do a=dojo._scopeName+"xUnique"+ ++t;while(n.byId(a));return a};d.mixin(a,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",
x:0,y:0,text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",
x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:function(){var b={};return function(c){var d=b[c];if(d)return new d;d=b[c]=new Function;d.prototype=a["default"+c];return new d}}(),normalizeColor:function(a){return a instanceof i?a:new i(a)},normalizeParameters:function(a,b){var c;if(b){var d={};for(c in a)c in b&&!(c in d)&&(a[c]=b[c])}return a},makeParameters:function(a,b){var c=null;if(!b)return d.delegate(a);
var f={};for(c in a)c in f||(f[c]=d.clone(c in b?b[c]:a[c]));return f},formatNumber:function(a,b){var c=a.toString();if(c.indexOf("e")>=0)c=a.toFixed(4);else{var d=c.indexOf(".");d>=0&&c.length-d>5&&(c=a.toFixed(4))}if(a<0)return c;return b?" "+c:c},makeFontString:function(a){return a.style+" "+a.variant+" "+a.weight+" "+a.size+" "+a.family},splitFontString:function(b){var c=a.getDefault("Font"),b=b.split(/\s+/);if(!(b.length<5)){c.style=b[0];c.variant=b[1];c.weight=b[2];var d=b[3].indexOf("/");c.size=
d<0?b[3]:b[3].substring(0,d);var f=4;d<0&&(b[4]=="/"?f=6:b[4].charAt(0)=="/"&&(f=5));if(f<b.length)c.family=b.slice(f).join(" ")}return c},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return a._base._getCachedFontMeasurements()["12pt"]/12},pt2px:function(b){return b*a.px_in_pt()},px2pt:function(b){return b/a.px_in_pt()},normalizedLength:function(b){if(b.length===0)return 0;if(b.length>2){var c=a.px_in_pt(),d=parseFloat(b);switch(b.slice(-2)){case "px":return d;case "pt":return d*c;case "in":return d*
72*c;case "pc":return d*12*c;case "mm":return d*a.mm_in_pt*c;case "cm":return d*a.cm_in_pt*c}}return parseFloat(b)},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-Za-z])|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,equalSources:function(a,b){return a&&b&&a===b},switchTo:function(b){var c=typeof b=="string"?a[b]:b;c&&e.forEach(["Group","Rect","Ellipse","Circle","Line","Polyline","Image","Text","Path","TextPath","Surface","createSurface","fixTarget"],
function(b){a[b]=c[b]})}});return a})},"dojo/io-query":function(){define(["./_base/lang"],function(d){var m={};return{objectToQuery:function(i){var o=encodeURIComponent,h=[],e;for(e in i){var n=i[e];if(n!=m[e]){var c=o(e)+"=";if(d.isArray(n))for(var b=0,a=n.length;b<a;++b)h.push(c+o(n[b]));else h.push(c+o(n))}}return h.join("&")},queryToObject:function(i){for(var m=decodeURIComponent,i=i.split("&"),h={},e,n,c=0,b=i.length;c<b;++c)if(n=i[c],n.length){var a=n.indexOf("=");a<0?(e=m(n),n=""):(e=m(n.slice(0,
a)),n=m(n.slice(a+1)));typeof h[e]=="string"&&(h[e]=[h[e]]);d.isArray(h[e])?h[e].push(n):h[e]=n}return h}}})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(d,m,i,o,h){var e=0,n,c=[],b=0,a=function(){if(e&&!b&&c.length){b=1;var d=c.shift();try{d()}finally{b=0}b=0;c.length&&n(a)}};i.on("idle",a);n=function(){i.idle()&&a()};var m=d.ready=d.addOnLoad=function(a,b,f){var e=h._toArray(arguments);typeof a!="number"?(f=b,b=a,a=1E3):e.shift();f=f?
h.hitch.apply(d,e):function(){b()};f.priority=a;for(e=0;e<c.length&&a>=c[e].priority;e++);c.splice(e,0,f);n()},q=d.config.addOnLoad;if(q)m[h.isArray(q)?"apply":"call"](d,q);d.config.parseOnLoad&&!d.isAsync&&m(99,function(){d.parser||(d.deprecated("Add explicit require(['dojo/parser']);","","2.0"),i(["dojo/parser"]))});o(function(){e=1;d._postLoad=d.config.afterOnLoad=!0;c.length&&n(a)});return m})},"dijit/_TemplatedMixin":function(){define("dijit/_TemplatedMixin",["dojo/_base/lang","dojo/touch","./_WidgetBase",
"dojo/string","dojo/cache","dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/sniff","dojo/_base/unload","dojo/_base/window"],function(d,m,i,o,h,e,n,c,b,a,q){var s=n("dijit._TemplatedMixin",null,{templateString:null,templatePath:null,_skipNodeCache:!1,_earlyTemplatedStartup:!1,constructor:function(){this._attachPoints=[];this._attachEvents=[]},_stringRepl:function(a){var b=this.declaredClass,c=this;return o.substitute(a,this,function(a,e){e.charAt(0)=="!"&&(a=d.getObject(e.substr(1),
!1,c));if(typeof a=="undefined")throw Error(b+" template:"+e);if(a==null)return"";return e.charAt(0)=="!"?a:a.toString().replace(/"/g,"&quot;")},this)},buildRendering:function(){if(!this.templateString)this.templateString=h(this.templatePath,{sanitize:!0});var a=s.getCachedTemplate(this.templateString,this._skipNodeCache),b;if(d.isString(a)){if(b=c.toDom(this._stringRepl(a)),b.nodeType!=1)throw Error("Invalid template: "+a);}else b=a.cloneNode(!0);this.domNode=b;this.inherited(arguments);this._attachTemplateNodes(b,
function(a,b){return a.getAttribute(b)});this._beforeFillContent();this._fillContent(this.srcNodeRef)},_beforeFillContent:function(){},_fillContent:function(a){var b=this.containerNode;if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)},_attachTemplateNodes:function(a,b){for(var c=d.isArray(a)?a:a.all||a.getElementsByTagName("*"),e=d.isArray(a)?0:-1;e<c.length;e++){var h=e==-1?a:c[e];if(!this.widgetsInTemplate||!b(h,"dojoType")&&!b(h,"data-dojo-type")){var i=b(h,"dojoAttachPoint")||b(h,"data-dojo-attach-point");
if(i)for(var n=i.split(/\s*,\s*/);i=n.shift();)d.isArray(this[i])?this[i].push(h):this[i]=h,this._attachPoints.push(i);if(i=b(h,"dojoAttachEvent")||b(h,"data-dojo-attach-event"))for(var n=i.split(/\s*,\s*/),o=d.trim;i=n.shift();)if(i){var q=null;i.indexOf(":")!=-1?(q=i.split(":"),i=o(q[0]),q=o(q[1])):i=o(i);q||(q=i);this._attachEvents.push(this.connect(h,m[i]||i,q))}}}},destroyRendering:function(){e.forEach(this._attachPoints,function(a){delete this[a]},this);this._attachPoints=[];e.forEach(this._attachEvents,
this.disconnect,this);this._attachEvents=[];this.inherited(arguments)}});s._templateCache={};s.getCachedTemplate=function(a,b){var d=s._templateCache,e=a,h=d[e];if(h){try{if(!h.ownerDocument||h.ownerDocument==q.doc)return h}catch(i){}c.destroy(h)}a=o.trim(a);if(b||a.match(/\$\{([^\}]+)\}/g))return d[e]=a;else{h=c.toDom(a);if(h.nodeType!=1)throw Error("Invalid template: "+a);return d[e]=h}};b("ie")&&a.addOnWindowUnload(function(){var a=s._templateCache,b;for(b in a){var d=a[b];typeof d=="object"&&
c.destroy(d);delete a[b]}});d.extend(i,{dojoAttachEvent:"",dojoAttachPoint:""});return s})},"djeo/dojox/gfx/vml":function(){define("djeo/dojox/gfx/vml",["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/_base/Color","dojo/_base/sniff","dojo/_base/config","dojo/dom","dojo/dom-geometry","dojo/_base/window","./_base","./shape","./path","./arc","./gradient","./matrix"],function(d,m,i,o,h,e,n,c,b,a,q,s,l,f,t){function r(c,d,f){f=f||b.global;d.call(f,c);(c instanceof a.Surface||c instanceof
a.Group)&&i.forEach(c.children,function(a){r(a,d,f)})}var p=a.vml={};p.xmlns="urn:schemas-microsoft-com:vml";document.namespaces.add("v",p.xmlns);var f=["*","group","roundrect","oval","shape","rect","imagedata","path","textpath","text"],A=0,z=1,x=document.createStyleSheet();if(h("ie")>=8)A=1,z=f.length;for(;A<z;++A)x.addRule("v\\:"+f[A],"behavior:url(#default#VML); display:inline-block");p.text_alignment={start:"left",middle:"center",end:"right"};p._parseFloat=function(a){return a.match(/^\d+f$/i)?
parseInt(a)/65536:parseFloat(a)};p._bool={t:1,"true":1};m("dojox.gfx.vml.Shape",q.Shape,{setFill:function(b){if(!b)return this.fillStyle=null,this.rawNode.filled="f",this;var c,d,f;if(typeof b=="object"&&"type"in b){switch(b.type){case "linear":var e=this._getRealMatrix(),h=this.getBoundingBox(),l=this._getRealBBox?this._getRealBBox():this.getTransformedBoundingBox();f=[];if(this.fillStyle!==b)this.fillStyle=a.makeParameters(a.defaultLinearGradient,b);b=a.gradient.project(e,this.fillStyle,{x:h.x,
y:h.y},{x:h.x+h.width,y:h.y+h.height},l[0],l[2]);d=b.colors;d[0].offset.toFixed(5)!="0.00000"&&f.push("0 "+a.normalizeColor(d[0].color).toHex());for(c=0;c<d.length;++c)f.push(d[c].offset.toFixed(5)+" "+a.normalizeColor(d[c].color).toHex());c=d.length-1;d[c].offset.toFixed(5)!="1.00000"&&f.push("1 "+a.normalizeColor(d[c].color).toHex());c=this.rawNode.fill;c.colors.value=f.join(";");c.method="sigma";c.type="gradient";c.angle=(270-t._radToDeg(b.angle))%360;c.on=!0;break;case "radial":this.fillStyle=
b=a.makeParameters(a.defaultRadialGradient,b);var e=parseFloat(this.rawNode.style.left),h=parseFloat(this.rawNode.style.top),l=parseFloat(this.rawNode.style.width),n=parseFloat(this.rawNode.style.height),m=isNaN(l)?1:2*b.r/l;d=[];b.colors[0].offset>0&&d.push({offset:1,color:a.normalizeColor(b.colors[0].color)});i.forEach(b.colors,function(b){d.push({offset:1-b.offset*m,color:a.normalizeColor(b.color)})});for(c=d.length-1;c>=0&&d[c].offset<0;)--c;if(c<d.length-1){f=d[c];var q=d[c+1];q.color=o.blendColors(f.color,
q.color,f.offset/(f.offset-q.offset));for(q.offset=0;d.length-c>2;)d.pop()}c=d.length-1;f=[];for(d[c].offset>0&&f.push("0 "+d[c].color.toHex());c>=0;--c)f.push(d[c].offset.toFixed(5)+" "+d[c].color.toHex());c=this.rawNode.fill;c.colors.value=f.join(";");c.method="sigma";c.type="gradientradial";c.focusposition=isNaN(l)||isNaN(n)||isNaN(e)||isNaN(h)?"0.5 0.5":((b.cx-e)/l).toFixed(5)+" "+((b.cy-h)/n).toFixed(5);c.focussize="0 0";c.on=!0;break;case "pattern":this.fillStyle=b=a.makeParameters(a.defaultPattern,
b);c=this.rawNode.fill;c.type="tile";c.src=b.src;if(b.width&&b.height)c.size.x=a.px2pt(b.width),c.size.y=a.px2pt(b.height);c.alignShape="f";c.position.x=0;c.position.y=0;c.origin.x=b.width?b.x/b.width:0;c.origin.y=b.height?b.y/b.height:0;c.on=!0}this.rawNode.fill.opacity=1;return this}this.fillStyle=a.normalizeColor(b);(c=this.rawNode.fill)||(c=this.rawNode.ownerDocument.createElement("v:fill"));c.method="any";c.type="solid";c.opacity=this.fillStyle.a;if(f=this.rawNode.filters["DXImageTransform.Microsoft.Alpha"])f.opacity=
Math.round(this.fillStyle.a*100);this.rawNode.fillcolor=this.fillStyle.toHex();this.rawNode.filled=!0;return this},setStroke:function(b){if(!b)return this.strokeStyle=null,this.rawNode.stroked="f",this;if(typeof b=="string"||d.isArray(b)||b instanceof o)b={color:b};b=this.strokeStyle=a.makeParameters(a.defaultStroke,b);b.color=a.normalizeColor(b.color);var c=this.rawNode;c.stroked=!0;c.strokecolor=b.color.toCss();c.strokeweight=b.width+"px";if(c.stroke)c.stroke.opacity=b.color.a,c.stroke.endcap=this._translate(this._capMap,
b.cap),typeof b.join=="number"?(c.stroke.joinstyle="miter",c.stroke.miterlimit=b.join):c.stroke.joinstyle=b.join,c.stroke.dashstyle=b.style=="none"?"Solid":b.style;return this},_capMap:{butt:"flat"},_capMapReversed:{flat:"butt"},_translate:function(a,b){return b in a?a[b]:b},_applyTransform:function(){var a=this._getRealMatrix();if(a){var b=this.rawNode.skew;if(typeof b=="undefined")for(var c=0;c<this.rawNode.childNodes.length;++c)if(this.rawNode.childNodes[c].tagName=="skew"){b=this.rawNode.childNodes[c];
break}if(b){b.on="f";var c=a.xx.toFixed(8)+" "+a.xy.toFixed(8)+" "+a.yx.toFixed(8)+" "+a.yy.toFixed(8)+" 0 0",a=Math.floor(a.dx).toFixed()+"px "+Math.floor(a.dy).toFixed()+"px",d=this.rawNode.style,f=parseFloat(d.left),e=parseFloat(d.top),h=parseFloat(d.width),d=parseFloat(d.height);isNaN(f)&&(f=0);isNaN(e)&&(e=0);if(isNaN(h)||!h)h=1;if(isNaN(d)||!d)d=1;f=(-f/h-0.5).toFixed(8)+" "+(-e/d-0.5).toFixed(8);b.matrix=c;b.origin=f;b.offset=a;b.on=!0}}this.fillStyle&&this.fillStyle.type=="linear"&&this.setFill(this.fillStyle);
return this},_setDimensions:function(){return this},setRawNode:function(a){a.stroked="f";a.filled="f";this.rawNode=a;this.rawNode.__gfxObject__=this.getUID()},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this},_moveToBack:function(){var a=this.rawNode,b=a.parentNode,c=b.firstChild;b.insertBefore(a,c);c.tagName=="rect"&&c.swapNode(a);return this},_getRealMatrix:function(){return this.parentMatrix?new t.Matrix2D([this.parentMatrix,this.matrix]):this.matrix}});m("dojox.gfx.vml.Group",
p.Shape,{constructor:function(){q.Container._init.call(this)},_applyTransform:function(){for(var a=this._getRealMatrix(),b=0;b<this.children.length;++b)this.children[b]._updateParentMatrix(a);return this},_setDimensions:function(a,b){var c=this.rawNode,d=c.style,f=this.bgNode.style;d.width=a;d.height=b;c.coordsize=a+" "+b;f.width=a;f.height=b;for(c=0;c<this.children.length;++c)this.children[c]._setDimensions(a,b);return this}});p.Group.nodeType="group";m("dojox.gfx.vml.Rect",[p.Shape,q.Rect],{setShape:function(b){b=
this.shape=a.makeParameters(this.shape,b);this.bbox=null;var c=Math.min(1,b.r/Math.min(parseFloat(b.width),parseFloat(b.height))).toFixed(8),d=this.rawNode.parentNode,f=null;if(d){if(d.lastChild!==this.rawNode)for(var e=0;e<d.childNodes.length;++e)if(d.childNodes[e]===this.rawNode){f=d.childNodes[e+1];break}d.removeChild(this.rawNode)}h("ie")>7?(e=this.rawNode.ownerDocument.createElement("v:roundrect"),e.arcsize=c,e.style.display="inline-block",this.rawNode=e,this.rawNode.__gfxObject__=this.getUID()):
this.rawNode.arcsize=c;d&&(f?d.insertBefore(this.rawNode,f):d.appendChild(this.rawNode));c=this.rawNode.style;c.left=b.x.toFixed();c.top=b.y.toFixed();c.width=typeof b.width=="string"&&b.width.indexOf("%")>=0?b.width:Math.max(b.width.toFixed(),0);c.height=typeof b.height=="string"&&b.height.indexOf("%")>=0?b.height:Math.max(b.height.toFixed(),0);return this.setTransform(this.matrix).setFill(this.fillStyle).setStroke(this.strokeStyle)}});p.Rect.nodeType="roundrect";m("dojox.gfx.vml.Ellipse",[p.Shape,
q.Ellipse],{setShape:function(b){b=this.shape=a.makeParameters(this.shape,b);this.bbox=null;var c=this.rawNode.style;c.left=(b.cx-b.rx).toFixed();c.top=(b.cy-b.ry).toFixed();c.width=(b.rx*2).toFixed();c.height=(b.ry*2).toFixed();return this.setTransform(this.matrix)}});p.Ellipse.nodeType="oval";m("dojox.gfx.vml.Circle",[p.Shape,q.Circle],{setShape:function(b){b=this.shape=a.makeParameters(this.shape,b);this.bbox=null;var c=this.rawNode.style;c.left=(b.cx-b.r).toFixed();c.top=(b.cy-b.r).toFixed();
c.width=(b.r*2).toFixed();c.height=(b.r*2).toFixed();return this}});p.Circle.nodeType="oval";m("dojox.gfx.vml.Line",[p.Shape,q.Line],{constructor:function(a){a&&a.setAttribute("dojoGfxType","line")},setShape:function(b){b=this.shape=a.makeParameters(this.shape,b);this.bbox=null;this.rawNode.path.v="m"+b.x1.toFixed()+" "+b.y1.toFixed()+"l"+b.x2.toFixed()+" "+b.y2.toFixed()+"e";return this.setTransform(this.matrix)}});p.Line.nodeType="shape";m("dojox.gfx.vml.Polyline",[p.Shape,q.Polyline],{constructor:function(a){a&&
a.setAttribute("dojoGfxType","polyline")},setShape:function(b,c){b&&b instanceof Array?(this.shape=a.makeParameters(this.shape,{points:b}),c&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.shape=a.makeParameters(this.shape,b);this.bbox=null;this._normalizePoints();var d=[],f=this.shape.points;if(f.length>0&&(d.push("m"),d.push(f[0].x.toFixed(),f[0].y.toFixed()),f.length>1)){d.push("l");for(var e=1;e<f.length;++e)d.push(f[e].x.toFixed(),f[e].y.toFixed())}d.push("e");this.rawNode.path.v=
d.join(" ");return this.setTransform(this.matrix)}});p.Polyline.nodeType="shape";m("dojox.gfx.vml.Image",[p.Shape,q.Image],{setShape:function(b){b=this.shape=a.makeParameters(this.shape,b);this.bbox=null;this.rawNode.firstChild.src=b.src;return this.setTransform(this.matrix)},_applyTransform:function(){var a=this._getRealMatrix(),b=this.rawNode,c=b.style,d=this.shape,a=a?t.multiply(a,{dx:d.x,dy:d.y}):t.normalize({dx:d.x,dy:d.y});if(a.xy==0&&a.yx==0&&a.xx>0&&a.yy>0)c.filter="",c.width=Math.floor(a.xx*
d.width),c.height=Math.floor(a.yy*d.height),c.left=Math.floor(a.dx),c.top=Math.floor(a.dy);else{var f=b.parentNode.style;c.left="0px";c.top="0px";c.width=f.width;c.height=f.height;a=t.multiply(a,{xx:d.width/parseInt(c.width),yy:d.height/parseInt(c.height)});(b=b.filters["DXImageTransform.Microsoft.Matrix"])?(b.M11=a.xx,b.M12=a.xy,b.M21=a.yx,b.M22=a.yy,b.Dx=a.dx,b.Dy=a.dy):c.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+a.xx+", M12="+a.xy+", M21="+a.yx+", M22="+a.yy+", Dx="+a.dx+", Dy="+a.dy+
")"}return this},_setDimensions:function(a,b){var c=this.rawNode;if(c.filters["DXImageTransform.Microsoft.Matrix"])return c=c.style,c.width=a,c.height=b,this._applyTransform();return this}});p.Image.nodeType="rect";m("dojox.gfx.vml.Text",[p.Shape,q.Text],{constructor:function(a){a&&a.setAttribute("dojoGfxType","text");this.fontStyle=null},_alignment:{start:"left",middle:"center",end:"right"},setShape:function(b){this.shape=a.makeParameters(this.shape,b);this.bbox=null;var c=this.rawNode,b=this.shape,
d=b.x,f=b.y.toFixed();switch(b.align){case "middle":d-=5;break;case "end":d-=10}for(var f="m"+d.toFixed()+","+f+"l"+(d+10).toFixed()+","+f+"e",e=null,d=null,h=c.childNodes,l=0;l<h.length;++l){var i=h[l].tagName;if(i=="path"){if(e=h[l],d)break}else if(i=="textpath"&&(d=h[l],e))break}e||(e=c.ownerDocument.createElement("v:path"),c.appendChild(e));d||(d=c.ownerDocument.createElement("v:textpath"),c.appendChild(d));e.v=f;e.textPathOk=!0;d.on=!0;c=p.text_alignment[b.align];d.style["v-text-align"]=c?c:
"left";d.style["text-decoration"]=b.decoration;d.style["v-rotate-letters"]=b.rotated;d.style["v-text-kern"]=b.kerning;d.string=b.text;return this.setTransform(this.matrix)},_setFont:function(){for(var b=this.fontStyle,c=this.rawNode.childNodes,d=0;d<c.length;++d)if(c[d].tagName=="textpath"){c[d].style.font=a.makeFontString(b);break}this.setTransform(this.matrix)},_getRealMatrix:function(){var b=this.inherited(arguments);b&&(b=t.multiply(b,{dy:-a.normalizedLength(this.fontStyle?this.fontStyle.size:
"10pt")*0.35}));return b},getTextWidth:function(){var b=this.rawNode,c=b.style.display;b.style.display="inline";var d=a.pt2px(parseFloat(b.currentStyle.width));b.style.display=c;return d}});p.Text.nodeType="shape";m("dojox.gfx.vml.Path",[p.Shape,s.Path],{constructor:function(a){a&&!a.getAttribute("dojoGfxType")&&a.setAttribute("dojoGfxType","path");this.vmlPath="";this.lastControl={}},_updateWithSegment:function(a){var b=d.clone(this.last);this.inherited(arguments);if(!(arguments.length>1))b=this[this.renderers[a.action]](a,
b),typeof this.vmlPath=="string"?(this.vmlPath+=b.join(""),this.rawNode.path.v=this.vmlPath+" r0,0 e"):Array.prototype.push.apply(this.vmlPath,b)},setShape:function(){this.vmlPath=[];this.lastControl.type="";this.inherited(arguments);this.vmlPath=this.vmlPath.join("");this.rawNode.path.v=this.vmlPath+" r0,0 e";return this},_pathVmlToSvgMap:{m:"M",l:"L",t:"m",r:"l",c:"C",v:"c",qb:"Q",x:"z",e:""},renderers:{M:"_moveToA",m:"_moveToR",L:"_lineToA",l:"_lineToR",H:"_hLineToA",h:"_hLineToR",V:"_vLineToA",
v:"_vLineToR",C:"_curveToA",c:"_curveToR",S:"_smoothCurveToA",s:"_smoothCurveToR",Q:"_qCurveToA",q:"_qCurveToR",T:"_qSmoothCurveToA",t:"_qSmoothCurveToR",A:"_arcTo",a:"_arcTo",Z:"_closePath",z:"_closePath"},_addArgs:function(a,b,c,d){for(b=b instanceof Array?b:b.args;c<d;++c)a.push(" ",b[c].toFixed())},_adjustRelCrd:function(a,b,c){var b=b instanceof Array?b:b.args,d=b.length,f=Array(d),e=0,h=a.x,a=a.y;typeof h!="number"&&(f[0]=h=b[0],f[1]=a=b[1],e=2);if(typeof c=="number"&&c!=2)for(var l=c;l<=d;){for(;e<
l;e+=2)f[e]=h+b[e],f[e+1]=a+b[e+1];h=f[l-2];a=f[l-1];l+=c}else for(;e<d;e+=2)f[e]=h+=b[e],f[e+1]=a+=b[e+1];return f},_adjustRelPos:function(a,b){for(var c=b instanceof Array?b:b.args,d=c.length,f=Array(d),e=0;e<d;++e)f[e]=a+=c[e];return f},_moveToA:function(a){var b=[" m"],a=a instanceof Array?a:a.args,c=a.length;this._addArgs(b,a,0,2);c>2&&(b.push(" l"),this._addArgs(b,a,2,c));this.lastControl.type="";return b},_moveToR:function(a,b){return this._moveToA(this._adjustRelCrd(b,a))},_lineToA:function(a){var b=
[" l"],a=a instanceof Array?a:a.args;this._addArgs(b,a,0,a.length);this.lastControl.type="";return b},_lineToR:function(a,b){return this._lineToA(this._adjustRelCrd(b,a))},_hLineToA:function(a,b){for(var c=[" l"],d=" "+b.y.toFixed(),f=a instanceof Array?a:a.args,e=f.length,h=0;h<e;++h)c.push(" ",f[h].toFixed(),d);this.lastControl.type="";return c},_hLineToR:function(a,b){return this._hLineToA(this._adjustRelPos(b.x,a),b)},_vLineToA:function(a,b){for(var c=[" l"],d=" "+b.x.toFixed(),f=a instanceof
Array?a:a.args,e=f.length,h=0;h<e;++h)c.push(d," ",f[h].toFixed());this.lastControl.type="";return c},_vLineToR:function(a,b){return this._vLineToA(this._adjustRelPos(b.y,a),b)},_curveToA:function(a){for(var b=[],a=a instanceof Array?a:a.args,c=a.length,d=this.lastControl,f=0;f<c;f+=6)b.push(" c"),this._addArgs(b,a,f,f+6);d.x=a[c-4];d.y=a[c-3];d.type="C";return b},_curveToR:function(a,b){return this._curveToA(this._adjustRelCrd(b,a,6))},_smoothCurveToA:function(a,b){var c=[],d=a instanceof Array?
a:a.args,f=d.length,e=this.lastControl,h=0;if(e.type!="C")c.push(" c"),this._addArgs(c,[b.x,b.y],0,2),this._addArgs(c,d,0,4),e.x=d[0],e.y=d[1],e.type="C",h=4;for(;h<f;h+=4)c.push(" c"),this._addArgs(c,[2*b.x-e.x,2*b.y-e.y],0,2),this._addArgs(c,d,h,h+4),e.x=d[h],e.y=d[h+1];return c},_smoothCurveToR:function(a,b){return this._smoothCurveToA(this._adjustRelCrd(b,a,4),b)},_qCurveToA:function(a){for(var b=[],a=a instanceof Array?a:a.args,c=a.length,d=this.lastControl,f=0;f<c;f+=4)b.push(" qb"),this._addArgs(b,
a,f,f+4);d.x=a[c-4];d.y=a[c-3];d.type="Q";return b},_qCurveToR:function(a,b){return this._qCurveToA(this._adjustRelCrd(b,a,4))},_qSmoothCurveToA:function(a,b){var c=[],d=a instanceof Array?a:a.args,f=d.length,e=this.lastControl,h=0;if(e.type!="Q")c.push(" qb"),this._addArgs(c,[e.x=b.x,e.y=b.y],0,2),e.type="Q",this._addArgs(c,d,0,2),h=2;for(;h<f;h+=2)c.push(" qb"),this._addArgs(c,[e.x=2*b.x-e.x,e.y=2*b.y-e.y],0,2),this._addArgs(c,d,h,h+2);return c},_qSmoothCurveToR:function(a,b){return this._qSmoothCurveToA(this._adjustRelCrd(b,
a,2),b)},_arcTo:function(a,b){for(var c=[],d=a.args,f=d.length,e=a.action=="a",h=0;h<f;h+=7){var i=d[h+5],n=d[h+6];e&&(i+=b.x,n+=b.y);for(var m=l.arcAsBezier(b,d[h],d[h+1],d[h+2],d[h+3]?1:0,d[h+4]?1:0,i,n),o=0;o<m.length;++o){c.push(" c");var q=m[o];this._addArgs(c,q,0,q.length);this._updateBBox(q[0],q[1]);this._updateBBox(q[2],q[3]);this._updateBBox(q[4],q[5])}b.x=i;b.y=n}this.lastControl.type="";return c},_closePath:function(){this.lastControl.type="";return["x"]}});p.Path.nodeType="shape";m("dojox.gfx.vml.TextPath",
[p.Path,s.TextPath],{constructor:function(b){b&&b.setAttribute("dojoGfxType","textpath");this.fontStyle=null;if(!("text"in this))this.text=d.clone(a.defaultTextPath);if(!("fontStyle"in this))this.fontStyle=d.clone(a.defaultFont)},setText:function(b){this.text=a.makeParameters(this.text,typeof b=="string"?{text:b}:b);this._setText();return this},setFont:function(b){this.fontStyle=typeof b=="string"?a.splitFontString(b):a.makeParameters(a.defaultFont,b);this._setFont();return this},_setText:function(){this.bbox=
null;for(var a=this.rawNode,b=this.text,c=null,d=null,f=a.childNodes,e=0;e<f.length;++e){var h=f[e].tagName;if(h=="path"){if(c=f[e],d)break}else if(h=="textpath"&&(d=f[e],c))break}c||(c=this.rawNode.ownerDocument.createElement("v:path"),a.appendChild(c));d||(d=this.rawNode.ownerDocument.createElement("v:textpath"),a.appendChild(d));c.textPathOk=!0;d.on=!0;a=p.text_alignment[b.align];d.style["v-text-align"]=a?a:"left";d.style["text-decoration"]=b.decoration;d.style["v-rotate-letters"]=b.rotated;d.style["v-text-kern"]=
b.kerning;d.string=b.text},_setFont:function(){for(var b=this.fontStyle,c=this.rawNode.childNodes,d=0;d<c.length;++d)if(c[d].tagName=="textpath"){c[d].style.font=a.makeFontString(b);break}}});p.TextPath.nodeType="shape";m("dojox.gfx.vml.Surface",q.Surface,{constructor:function(){q.Container._init.call(this)},setDimensions:function(b,c){this.width=a.normalizedLength(b);this.height=a.normalizedLength(c);if(!this.rawNode)return this;var d=this.clipNode.style,f=this.rawNode,e=f.style,h=this.bgNode.style,
l=this._parent.style;l.width=b;l.height=c;d.width=b;d.height=c;d.clip="rect(0px "+b+"px "+c+"px 0px)";e.width=b;e.height=c;f.coordsize=b+" "+c;h.width=b;h.height=c;for(d=0;d<this.children.length;++d)this.children[d]._setDimensions(b,c);return this},getDimensions:function(){var b=this.rawNode?{width:a.normalizedLength(this.rawNode.style.width),height:a.normalizedLength(this.rawNode.style.height)}:null;if(b.width<=0)b.width=this.width;if(b.height<=0)b.height=this.height;return b}});p.createSurface=
function(b,d,f){if(!d&&!f)var e=c.position(b),d=d||e.w,f=f||e.h;typeof d=="number"&&(d+="px");typeof f=="number"&&(f+="px");var e=new p.Surface,b=n.byId(b),l=e.clipNode=b.ownerDocument.createElement("div"),i=e.rawNode=b.ownerDocument.createElement("v:group"),m=l.style,o=i.style;if(h("ie")>7)o.display="inline-block";e._parent=b;e._nodes.push(l);b.style.width=d;b.style.height=f;m.position="absolute";m.width=d;m.height=f;m.clip="rect(0px "+d+" "+f+" 0px)";o.position="absolute";o.width=d;o.height=f;i.coordsize=
(d==="100%"?d:parseFloat(d))+" "+(f==="100%"?f:parseFloat(f));i.coordorigin="0 0";var m=e.bgNode=i.ownerDocument.createElement("v:rect"),q=m.style;q.left=q.top=0;q.width=o.width;q.height=o.height;m.filled=m.stroked="f";i.appendChild(m);l.appendChild(i);b.appendChild(l);e.width=a.normalizedLength(d);e.height=a.normalizedLength(f);return e};var y=q.Container,m={add:e.fixVmlAdd===!0?function(a){if(this!=a.getParent()){var b=a.getParent();b&&b.remove(a);this.rawNode.appendChild(a.rawNode);y.add.apply(this,
arguments);r(this,function(a){typeof a.getFont=="function"&&(a.setShape(a.getShape()),a.setFont(a.getFont()));typeof a.setFill=="function"&&(a.setFill(a.getFill()),a.setStroke(a.getStroke()))})}return this}:function(a){this!=a.getParent()&&(this.rawNode.appendChild(a.rawNode),a.getParent()||(a.setFill(a.getFill()),a.setStroke(a.getStroke())),y.add.apply(this,arguments));return this},remove:function(a){this==a.getParent()&&(this.rawNode==a.rawNode.parentNode&&this.rawNode.removeChild(a.rawNode),y.remove.apply(this,
arguments));return this},clear:function(){for(var a=this.rawNode;a.firstChild!=a.lastChild;)a.firstChild!=this.bgNode&&a.removeChild(a.firstChild),a.lastChild!=this.bgNode&&a.removeChild(a.lastChild);return y.clear.apply(this,arguments)},_moveChildToFront:y._moveChildToFront,_moveChildToBack:y._moveChildToBack},e={createGroup:function(){var a=this.createObject(p.Group,null),b=a.rawNode.ownerDocument.createElement("v:rect");b.style.left=b.style.top=0;b.style.width=a.rawNode.style.width;b.style.height=
a.rawNode.style.height;b.filled=b.stroked="f";a.rawNode.appendChild(b);a.bgNode=b;return a},createImage:function(a){if(!this.rawNode)return null;var b=new p.Image,c=this.rawNode.ownerDocument,d=c.createElement("v:rect");d.stroked="f";d.style.width=this.rawNode.style.width;d.style.height=this.rawNode.style.height;c=c.createElement("v:imagedata");d.appendChild(c);b.setRawNode(d);this.rawNode.appendChild(d);b.setShape(a);this.add(b);return b},createRect:function(a){if(!this.rawNode)return null;var b=
new p.Rect,c=this.rawNode.ownerDocument.createElement("v:roundrect");if(h("ie")>7)c.style.display="inline-block";b.setRawNode(c);this.rawNode.appendChild(c);b.setShape(a);this.add(b);return b},createObject:function(a,b){if(!this.rawNode)return null;var c=new a,d=this.rawNode.ownerDocument.createElement("v:"+a.nodeType);c.setRawNode(d);this.rawNode.appendChild(d);switch(a){case p.Group:case p.Line:case p.Polyline:case p.Image:case p.Text:case p.Path:case p.TextPath:this._overrideSize(d)}c.setShape(b);
this.add(c);return c},_overrideSize:function(a){var b=this.rawNode.style,c=b.width,b=b.height;a.style.width=c;a.style.height=b;a.coordsize=parseInt(c)+" "+parseInt(b)}};d.extend(p.Group,m);d.extend(p.Group,q.Creator);d.extend(p.Group,e);d.extend(p.Surface,m);d.extend(p.Surface,q.Creator);d.extend(p.Surface,e);p.fixTarget=function(a){if(!a.gfxTarget)a.gfxTarget=q.byId(a.target.__gfxObject__);return!0};return p})},"dojo/Evented":function(){define(["./aspect","./on"],function(d,m){function i(){}var o=
d.after;i.prototype={on:function(d,e){return m.parse(this,d,e,function(d,c){return o(d,"on"+c,e,!0)})},emit:function(){var d=[this];d.push.apply(d,arguments);return m.emit.apply(m,d)}};return i})},"dojo/window":function(){define(["./_base/lang","./_base/sniff","./_base/window","./dom","./dom-geometry","./dom-style"],function(d,m,i,o,h,e){var n=d.getObject("dojo.window",!0);n.getBox=function(){var c=i.doc.compatMode=="BackCompat"?i.body():i.doc.documentElement,b=h.docScroll(),a;if(m("touch")){var d=
i.doc.parentWindow||i.doc.defaultView;a=d.innerWidth||c.clientWidth;c=d.innerHeight||c.clientHeight}else a=c.clientWidth,c=c.clientHeight;return{l:b.x,t:b.y,w:a,h:c}};n.get=function(c){if(m("ie")&&n!==document.parentWindow){c.parentWindow.execScript("document._parentWindow = window;","Javascript");var b=c._parentWindow;c._parentWindow=null;return b}return c.parentWindow||c.defaultView};n.scrollIntoView=function(c,b){try{var c=o.byId(c),a=c.ownerDocument||i.doc,d=a.body||i.body(),n=a.documentElement||
d.parentNode,l=m("ie"),f=m("webkit");if((!m("mozilla")&&!l&&!f&&!m("opera")||c==d||c==n)&&typeof c.scrollIntoView!="undefined")c.scrollIntoView(!1);else{var t=a.compatMode=="BackCompat",r=l>=9&&c.ownerDocument.parentWindow.frameElement?n.clientHeight>0&&n.clientWidth>0&&(d.clientHeight==0||d.clientWidth==0||d.clientHeight>n.clientHeight||d.clientWidth>n.clientWidth)?n:d:t?d:n,a=f?d:r,p=r.clientWidth,A=r.clientHeight,z=!h.isBodyLtr(),x=b||h.position(c),y=c.parentNode,r=function(a){return l<=6||l&&
t?!1:e.get(a,"position").toLowerCase()=="fixed"};if(!r(c))for(;y;){y==d&&(y=a);var u=h.position(y),w=r(y);if(y==a){u.w=p;u.h=A;a==n&&l&&z&&(u.x+=a.offsetWidth-u.w);if(u.x<0||!l)u.x=0;if(u.y<0||!l)u.y=0}else{var B=h.getPadBorderExtents(y);u.w-=B.w;u.h-=B.h;u.x+=B.l;u.y+=B.t;var I=y.clientWidth,T=u.w-I;if(I>0&&T>0)u.w=I,u.x+=z&&(l||y.clientLeft>B.l)?T:0;I=y.clientHeight;T=u.h-I;if(I>0&&T>0)u.h=I}if(w){if(u.y<0)u.h+=u.y,u.y=0;if(u.x<0)u.w+=u.x,u.x=0;if(u.y+u.h>A)u.h=A-u.y;if(u.x+u.w>p)u.w=p-u.x}var J=
x.x-u.x,H=x.y-Math.max(u.y,0),F=J+x.w-u.w,D=H+x.h-u.h;if(F*J>0){var C=Math[J<0?"max":"min"](J,F);if(z&&(l==8&&!t||l>=9))C=-C;x.x+=y.scrollLeft;y.scrollLeft+=C;x.x-=y.scrollLeft}D*H>0&&(x.y+=y.scrollTop,y.scrollTop+=Math[H<0?"max":"min"](H,D),x.y-=y.scrollTop);y=y!=a&&!w&&y.parentNode}}}catch(E){c.scrollIntoView(!1)}};return n})},"dojo/_base/xhr":function(){define(["./kernel","./sniff","require","../io-query","../dom","../dom-form","./Deferred","./json","./lang","./array","../on"],function(d,m,i,o,
h,e,n,c,b,a,q){m.add("native-xhr",function(){return typeof XMLHttpRequest!=="undefined"});if(i.getXhr)d._xhrObj=i.getXhr;else if(m("native-xhr"))d._xhrObj=function(){try{return new XMLHttpRequest}catch(a){throw Error("XMLHTTP not available: "+a);}};else{for(var i=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],s,l=0;l<3;)try{if(s=i[l++],new ActiveXObject(s))break}catch(f){}d._xhrObj=function(){return new ActiveXObject(s)}}var t=d.config;d.objectToQuery=o.objectToQuery;d.queryToObject=
o.queryToObject;d.fieldToObject=e.fieldToObject;d.formToObject=e.toObject;d.formToQuery=e.toQuery;d.formToJson=e.toJson;d._blockAsync=!1;var r=d._contentHandlers=d.contentHandlers={text:function(a){return a.responseText},json:function(a){return c.fromJson(a.responseText||null)},"json-comment-filtered":function(a){var a=a.responseText,b=a.indexOf("/*"),d=a.lastIndexOf("*/");if(b==-1||d==-1)throw Error("JSON was not comment filtered");return c.fromJson(a.substring(b+2,d))},javascript:function(a){return d.eval(a.responseText)},
xml:function(b){var c=b.responseXML;if(m("ie")&&(!c||!c.documentElement)){var d=function(a){return"MSXML"+a+".DOMDocument"},d=["Microsoft.XMLDOM",d(6),d(4),d(3),d(2)];a.some(d,function(a){try{var d=new ActiveXObject(a);d.async=!1;d.loadXML(b.responseText);c=d}catch(f){return!1}return!0})}return c},"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?r["json-comment-filtered"](a):r.json(a)}};d._ioSetArgs=function(a,c,f,l){var i={args:a,url:a.url},m=null;if(a.form){var m=
h.byId(a.form),q=m.getAttributeNode("action");i.url=i.url||(q?q.value:null);m=e.toObject(m)}q=[{}];m&&q.push(m);a.content&&q.push(a.content);a.preventCache&&q.push({"dojo.preventCache":(new Date).valueOf()});i.query=o.objectToQuery(b.mixin.apply(null,q));i.handleAs=a.handleAs||"text";var p=new n(c);p.addCallbacks(f,function(a){return l(a,p)});var r=a.load;r&&b.isFunction(r)&&p.addCallback(function(b){return r.call(a,b,i)});var s=a.error;s&&b.isFunction(s)&&p.addErrback(function(b){return s.call(a,
b,i)});var w=a.handle;w&&b.isFunction(w)&&p.addBoth(function(b){return w.call(a,b,i)});t.ioPublish&&d.publish&&i.args.ioPublish!==!1&&(p.addCallbacks(function(a){d.publish("/dojo/io/load",[p,a]);return a},function(a){d.publish("/dojo/io/error",[p,a]);return a}),p.addBoth(function(a){d.publish("/dojo/io/done",[p,a]);return a}));p.ioArgs=i;return p};var p=function(a){a.canceled=!0;var b=a.ioArgs.xhr,c=typeof b.abort;(c=="function"||c=="object"||c=="unknown")&&b.abort();a=a.ioArgs.error;if(!a)a=Error("xhr cancelled"),
a.dojoType="cancel";return a},A=function(a){a=r[a.ioArgs.handleAs](a.ioArgs.xhr);return a===void 0?null:a},z=function(a){return a},x=null,y=[],u=0,w=function(a){u<=0&&(u=0,t.ioPublish&&d.publish&&(!a||a&&a.ioArgs.args.ioPublish!==!1)&&d.publish("/dojo/io/stop"))},B=function(){var a=(new Date).getTime();if(!d._blockAsync)for(var b=0,c;b<y.length&&(c=y[b]);b++){var f=c.dfd,e=function(){if(!f||f.canceled||!c.validCheck(f))y.splice(b--,1),u-=1;else if(c.ioCheck(f))y.splice(b--,1),c.resHandle(f),u-=1;
else if(f.startTime&&f.startTime+(f.ioArgs.args.timeout||0)<a){y.splice(b--,1);var d=Error("timeout exceeded");d.dojoType="timeout";f.errback(d);f.cancel();u-=1}};if(d.config.debugAtAllCosts)e.call(this);else try{e.call(this)}catch(h){f.errback(h)}}w(f);y.length||(clearInterval(x),x=null)};d._ioCancelAll=function(){try{a.forEach(y,function(a){try{a.dfd.cancel()}catch(b){}})}catch(b){}};m("ie")&&q(window,"unload",d._ioCancelAll);d._ioNotifyStart=function(a){t.ioPublish&&d.publish&&a.ioArgs.args.ioPublish!==
!1&&(u||d.publish("/dojo/io/start"),u+=1,d.publish("/dojo/io/send",[a]))};d._ioWatch=function(a,b,c,d){var f=a.ioArgs.args;if(f.timeout)a.startTime=(new Date).getTime();y.push({dfd:a,validCheck:b,ioCheck:c,resHandle:d});x||(x=setInterval(B,50));f.sync&&B()};var I=function(a){return a.ioArgs.xhr.readyState},T=function(a){return 4==a.ioArgs.xhr.readyState},J=function(a){var b=a.ioArgs.xhr;if(d._isDocumentOk(b))a.callback(a);else{var c=Error("Unable to load "+a.ioArgs.url+" status:"+b.status);c.status=
b.status;c.responseText=b.responseText;c.xhr=b;a.errback(c)}};d._ioAddQueryToUrl=function(a){if(a.query.length)a.url+=(a.url.indexOf("?")==-1?"?":"&")+a.query,a.query=null};d.xhr=function(a,b,c){var f=d._ioSetArgs(b,p,A,z),e=f.ioArgs,h=e.xhr=d._xhrObj(e.args);if(!h)return f.cancel(),f;"postData"in b?e.query=b.postData:"putData"in b?e.query=b.putData:"rawBody"in b?e.query=b.rawBody:(arguments.length>2&&!c||"POST|PUT".indexOf(a.toUpperCase())==-1)&&d._ioAddQueryToUrl(e);h.open(a,e.url,b.sync!==!0,b.user||
void 0,b.password||void 0);if(b.headers)for(var l in b.headers)l.toLowerCase()==="content-type"&&!b.contentType?b.contentType=b.headers[l]:b.headers[l]&&h.setRequestHeader(l,b.headers[l]);b.contentType!==!1&&h.setRequestHeader("Content-Type",b.contentType||"application/x-www-form-urlencoded");(!b.headers||!("X-Requested-With"in b.headers))&&h.setRequestHeader("X-Requested-With","XMLHttpRequest");d._ioNotifyStart(f);if(d.config.debugAtAllCosts)h.send(e.query);else try{h.send(e.query)}catch(i){e.error=
i,f.cancel()}d._ioWatch(f,I,T,J);return f};d.xhrGet=function(a){return d.xhr("GET",a)};d.rawXhrPost=d.xhrPost=function(a){return d.xhr("POST",a,!0)};d.rawXhrPut=d.xhrPut=function(a){return d.xhr("PUT",a,!0)};d.xhrDelete=function(a){return d.xhr("DELETE",a)};d._isDocumentOk=function(a){a=a.status||0;return a>=200&&a<300||a==304||a==1223||!a};d._getText=function(a){var b;d.xhrGet({url:a,sync:!0,load:function(a){b=a}});return b};b.mixin(d.xhr,{_xhrObj:d._xhrObj,fieldToObject:e.fieldToObject,formToObject:e.toObject,
objectToQuery:o.objectToQuery,formToQuery:e.toQuery,formToJson:e.toJson,queryToObject:o.queryToObject,contentHandlers:r,_ioSetArgs:d._ioSetArgs,_ioCancelAll:d._ioCancelAll,_ioNotifyStart:d._ioNotifyStart,_ioWatch:d._ioWatch,_ioAddQueryToUrl:d._ioAddQueryToUrl,_isDocumentOk:d._isDocumentOk,_getText:d._getText,get:d.xhrGet,post:d.xhrPost,put:d.xhrPut,del:d.xhrDelete});return d.xhr})},"dojo/has":function(){define(["require"],function(d){var m=d.has||function(){},d=navigator.userAgent;m.add("dom-addeventlistener",
!!document.addEventListener);m.add("touch","ontouchstart"in document);m.add("device-width",screen.availWidth||innerWidth);m.add("agent-ios",!!d.match(/iPhone|iP[ao]d/));m.add("agent-android",d.indexOf("android")>1);m.clearElement=function(d){d.innerHTML="";return d};m.normalize=function(d,o){var h=d.match(/[\?:]|[^:\?]*/g),e=0,n=function(c){var b=h[e++];if(b==":")return 0;else{if(h[e++]=="?")return!c&&m(b)?n():(n(!0),n(c));return b||0}};return(d=n())&&o(d)};m.load=function(d,m,h){d?m([d],h):h()};
return m})},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(d,m,i,o){var h=m.getObject("dojo.colors",!0),e=function(c,b,a){a<0&&++a;a>1&&--a;var d=6*a;if(d<1)return c+(b-c)*d;if(2*a<1)return b;if(3*a<2)return c+(b-c)*(2/3-a)*6;return c};d.colorFromRgb=i.fromRgb=function(c,b){var a=c.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(a){var d=a[2].split(/\s*,\s*/),h=d.length,a=a[1];if(a=="rgb"&&h==3||a=="rgba"&&h==4){a=d[0];if(a.charAt(a.length-
1)=="%")return a=o.map(d,function(a){return parseFloat(a)*2.56}),h==4&&(a[3]=d[3]),i.fromArray(a,b);return i.fromArray(d,b)}if(a=="hsl"&&h==3||a=="hsla"&&h==4){var a=(parseFloat(d[0])%360+360)%360/360,l=parseFloat(d[1])/100,f=parseFloat(d[2])/100,l=f<=0.5?f*(l+1):f+l-f*l,f=2*f-l,a=[e(f,l,a+1/3)*256,e(f,l,a)*256,e(f,l,a-1/3)*256,1];h==4&&(a[3]=d[3]);return i.fromArray(a,b)}}return null};var n=function(c,b,a){c=Number(c);return isNaN(c)?a:c<b?b:c>a?a:c};i.prototype.sanitize=function(){this.r=Math.round(n(this.r,
0,255));this.g=Math.round(n(this.g,0,255));this.b=Math.round(n(this.b,0,255));this.a=n(this.a,0,1);return this};h.makeGrey=i.makeGrey=function(c,b){return i.fromArray([c,c,c,b])};m.mixin(i.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,
127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,
206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,
240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,
0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,
232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,
250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]});return i})},"dgrid/Grid":function(){define(["dojo/has","put-selector/put","dojo/_base/declare","dojo/on","./Editor","./List","dojo/_base/sniff"],function(d,m,i,o,h,e){var n=d("ie")<8&&!d("quirks");return i([e],{columns:null,cellNavigation:!0,tabableHeader:!0,showHeader:!0,
column:function(c){return typeof c=="string"?this.columns[c]:this.cell(c).column},listType:"grid",cell:function(c,b){if(c.target&&c.target.nodeType)c=c.target;var a;if(c.nodeType){do{if(this._rowIdToObject[c.id])break;var d=c.columnId;if(d){b=d;a=c;break}c=c.parentNode}while(c&&c!=this.domNode)}if(!a&&b){var e=this.row(c);if(d=e.element)for(var d=d.getElementsByTagName("td"),h=0;h<d.length;h++)if(d[h].columnId==b){a=d[h];break}}if(c!=null)return{row:e||this.row(c),column:b&&this.column(b),element:a}},
_columnsCss:function(c){c.fullSelector=function(){return this.parent.fullSelector()+" .dgrid-cell"};for(var b=0;b<c.children.length;b++){var a=c.children[b];a.field=a.className=a.selector.substring(1)}return c.children},createRowCells:function(c,b){for(var a,e=m("table.dgrid-row-table[role=presentation]"),h=d("ie")<9||d("quirks")?m(e,"tbody"):e,l=this.subRows,f=0,i=l.length;f<i;f++){var o=l[f];a=i==1&&!d("ie")?h:m(h,"tr");for(var p=0,A=o.length;p<A;p++){var z=o[p],x=z.id,y=z.className||z.field&&"field-"+
z.field,y=m(c+".dgrid-cell.dgrid-cell-padding.column-"+x+(y?"."+y:""));y.columnId=x;n?(x=m(y,"!dgrid-cell-padding div.dgrid-cell-padding"),y.contents=x):x=y;var u=z.colSpan;if(u)y.colSpan=u;if(u=z.rowSpan)y.rowSpan=u;b(x,z);a.appendChild(y)}}return e},left:function(c,b){return this.cell(this._move(c,-(b||1),"dgrid-cell"))},right:function(c,b){return this.cell(this._move(c,b||1,"dgrid-cell"))},renderRow:function(c,b){var a=this.createRowCells("td",function(a,d){var e=c;d.get?e=d.get(0,c):"field"in
d&&d.field!="_item"&&(e=e[d.field]);d.formatter?a.innerHTML=d.formatter(e):d.renderCell?(e=d.renderCell(c,e,a,b))&&e.nodeType&&a.appendChild(e):e!=null&&a.appendChild(document.createTextNode(e))});return m("div[role=gridcell]>",a)},renderHeader:function(){for(var c=this,b=this.headerNode,a=b.childNodes.length;a--;)m(b.childNodes[a],"!");a=this.createRowCells("th[role=columnheader]",function(a,b){var c=b.headerNode=a;if(n)a=a.parentNode;var d=b.field;if(d)a.field=d;if(b.renderHeaderCell)(d=b.renderHeaderCell(c))&&
d.nodeType&&c.appendChild(d);else if(b.label||b.field)c.appendChild(document.createTextNode(b.label||b.field));if(b.sortable!==!1)a.sortable=!0,a.className+=" dgrid-sortable"});this._rowIdToObject[a.id=this.id+"-header"]=this.columns;b.appendChild(a);o(a,"click,keydown",function(a){if(a.type=="click"||a.keyCode==32){var a=a.target,d;do if(a.sortable)return c._sortNode=a,a=a.field||a.columnId,d=c.sortOrder&&c.sortOrder[0].attribute==a&&!c.sortOrder[0].descending,c.sort(a,d);while((a=a.parentNode)&&
a!=b)}})},resize:function(){var c=this.headerNode.firstChild,b=this.contentNode,a;this.inherited(arguments);if(!d("ie")||d("ie")>7&&!d("quirks"))if(b.style.width="",b&&c&&(a=c.offsetWidth)!=b.offsetWidth)b.style.width=a+"px"},sort:function(c,b){var a=c,d=b;if(typeof c!="string")a=c[0].attribute,d=c[0].descending;var e=this._sortNode,h,f,i;if(!e)for(i in h=this.columns,h)if(f=h[i],f.field==a)e=f.headerNode;if(e)e=e.contents||e,this._lastSortedArrow&&(m(this._lastSortedArrow,"<!dgrid-sort-up!dgrid-sort-down"),
m(this._lastSortedArrow,"!")),this._lastSortedArrow=m(e.firstChild,"-div.dgrid-sort-arrow.ui-icon[role=presentation]"),this._lastSortedArrow.innerHTML="&nbsp;",m(e,d?".dgrid-sort-down":".dgrid-sort-up"),this.resize(),delete this._sortNode;this.inherited(arguments)},styleColumn:function(c,b){return this.addCssRule("#"+this.domNode.id+" .column-"+c,b)},_configColumns:function(c,b){var a=[],d=b instanceof Array,e;for(e in b){var h=b[e];typeof h=="string"&&(b[e]=h={label:h});if(!d&&!h.field)h.field=e;
e=h.id=h.id||(isNaN(e)?e:c+e);c&&(this.columns[e]=h);h.grid=this;a.push(h)}return d?b:a},configStructure:function(){var c=this.subRows;if(c){this.columns={};for(var b=0;b<c.length;b++)c[b]=this._configColumns(b+"-",c[b])}else this.subRows=[this._configColumns("",this.columns)]},setColumns:function(c){this.subRows=null;this.columns=c;this.configStructure();this._updateColumns()},setSubRows:function(c){this.subRows=c;this.configStructure();this._updateColumns()},_updateColumns:function(){this.renderHeader();
this.refresh();this.lastCollection&&this.renderArray(this.lastCollection);this.resize()}})})},"dojo/_base/sniff":function(){define(["./kernel","../has"],function(d,m){d.isBrowser=!0;d._name="browser";var i=m.add,o=navigator,h=o.userAgent,e=o.appVersion,n=parseFloat(e),c,b,a,q,s,l,f,t,r,p,A,z,x;h.indexOf("AdobeAIR")>=0&&(b=1);a=e.indexOf("Konqueror")>=0?n:0;q=parseFloat(h.split("WebKit/")[1])||void 0;s=parseFloat(h.split("Chrome/")[1])||void 0;l=e.indexOf("Macintosh")>=0;z=/iPhone|iPod|iPad/.test(h);
x=parseFloat(h.split("Android ")[1])||void 0;var y=Math.max(e.indexOf("WebKit"),e.indexOf("Safari"),0);if(y&&!s&&(f=parseFloat(e.split("Version/")[1]),!f||parseFloat(e.substr(y+7))<=419.3))f=2;if(!m("dojo-webkit")&&(h.indexOf("Opera")>=0&&(c=n,c>=9.8&&(c=parseFloat(h.split("Version/")[1])||n)),h.indexOf("Gecko")>=0&&!a&&!q&&(t=r=n),r&&(A=parseFloat(h.split("Firefox/")[1]||h.split("Minefield/")[1])||void 0),document.all&&!c))p=parseFloat(e.split("MSIE ")[1])||void 0,(h=document.documentMode)&&h!=5&&
Math.floor(p)!=h&&(p=h);h=document.compatMode=="BackCompat";i("opera",d.isOpera=c);i("air",d.isAIR=b);i("khtml",d.isKhtml=a);i("webkit",d.isWebKit=q);i("chrome",d.isChrome=s);i("mac",d.isMac=l);i("safari",d.isSafari=f);i("mozilla",d.isMozilla=d.isMoz=t);i("ie",d.isIE=p);i("ff",d.isFF=A);i("quirks",d.isQuirks=h);i("ios",d.isIos=z);i("android",d.isAndroid=x);d.locale=d.locale||(p?o.userLanguage:o.language).toLowerCase();return m})},"dijit/Tooltip":function(){require({cache:{"url:dijit/templates/Tooltip.html":'<div class="dijitTooltip dijitTooltipLeft" id="dojoTooltip"\n\t><div class="dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point="containerNode" role=\'alert\'></div\n\t><div class="dijitTooltipConnector" data-dojo-attach-point="connectorNode"></div\n></div>\n'}});
define("dijit/Tooltip",["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","."],function(d,m,i,o,h,e,n,c,b,a,q,s,l,f,t,r,p){var A=m("dijit._MasterTooltip",[l,f],{duration:q.defaultDuration,templateString:r,postCreate:function(){a.body().appendChild(this.domNode);
this.bgIframe=new t(this.domNode);this.fadeIn=i.fadeIn({node:this.domNode,duration:this.duration,onEnd:c.hitch(this,"_onShow")});this.fadeOut=i.fadeOut({node:this.domNode,duration:this.duration,onEnd:c.hitch(this,"_onHide")})},show:function(a,b,d,f,e){if(!this.aroundNode||!(this.aroundNode===b&&this.containerNode.innerHTML==a))if(this.domNode.width="auto",this.fadeOut.status()=="playing")this._onDeck=arguments;else{this.containerNode.innerHTML=a;this.set("textDir",e);this.containerNode.align=f?"right":
"left";var h=s.around(this.domNode,b,d&&d.length?d:z.defaultPosition,!f,c.hitch(this,"orient")),l=h.aroundNodePos;if(h.corner.charAt(0)=="M"&&h.aroundCorner.charAt(0)=="M")this.connectorNode.style.top=l.y+(l.h-this.connectorNode.offsetHeight>>1)-h.y+"px",this.connectorNode.style.left="";else if(h.corner.charAt(1)=="M"&&h.aroundCorner.charAt(1)=="M")this.connectorNode.style.left=l.x+(l.w-this.connectorNode.offsetWidth>>1)-h.x+"px";n.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=
!0;this.aroundNode=b}},orient:function(a,b,c,d,f){this.connectorNode.style.top="";var h=d.w-this.connectorNode.offsetWidth;a.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[b+
"-"+c];this.domNode.style.width="auto";var l=e.getContentBox(this.domNode),i=Math.min(Math.max(h,1),l.w),m=i<l.w;this.domNode.style.width=i+"px";if(m&&(this.containerNode.style.overflow="auto",m=this.containerNode.scrollWidth,this.containerNode.style.overflow="visible",m>i))m=m+n.get(this.domNode,"paddingLeft")+n.get(this.domNode,"paddingRight"),this.domNode.style.width=m+"px";c.charAt(0)=="B"&&b.charAt(0)=="B"?(a=e.getMarginBox(a),b=this.connectorNode.offsetHeight,a.h>d.h?(this.connectorNode.style.top=
d.h-(f.h+b>>1)+"px",this.connectorNode.style.bottom=""):(this.connectorNode.style.bottom=Math.min(Math.max(f.h/2-b/2,0),a.h-b)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top="",this.connectorNode.style.bottom="");return Math.max(0,l.w-h)},_onShow:function(){if(b("ie"))this.domNode.style.filter=""},hide:function(a){if(this._onDeck&&this._onDeck[1]==a)this._onDeck=null;else if(this.aroundNode===a)this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play()},
_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck)this.show.apply(this,this._onDeck),this._onDeck=null},_setAutoTextDir:function(a){this.applyTextDir(a,b("ie")?a.outerText:a.textContent);d.forEach(a.children,function(a){this._setAutoTextDir(a)},this)},_setTextDirAttr:function(a){this._set("textDir",typeof a!="undefined"?a:"");a=="auto"?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir}});p.showTooltip=function(a,b,c,f,e){c&&
(c=d.map(c,function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));if(!z._masterTT)p._masterTT=z._masterTT=new A;return z._masterTT.show(a,b,c,f,e)};p.hideTooltip=function(a){return z._masterTT&&z._masterTT.hide(a)};var z=m("dijit.Tooltip",l,{label:"",showDelay:400,connectId:[],position:[],_setConnectIdAttr:function(a){d.forEach(this._connections||[],function(a){d.forEach(a,c.hitch(this,"disconnect"))},this);this._connectIds=d.filter(c.isArrayLike(a)?a:a?[a]:[],function(a){return o.byId(a)});
this._connections=d.map(this._connectIds,function(a){a=o.byId(a);return[this.connect(a,"onmouseenter","_onHover"),this.connect(a,"onmouseleave","_onUnHover"),this.connect(a,"onfocus","_onHover"),this.connect(a,"onblur","_onUnHover")]},this);this._set("connectId",a)},addTarget:function(a){a=a.id||a;d.indexOf(this._connectIds,a)==-1&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=d.indexOf(this._connectIds,a.id||a);a>=0&&(this._connectIds.splice(a,1),this.set("connectId",
this._connectIds))},buildRendering:function(){this.inherited(arguments);h.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var a=this.connectId;d.forEach(c.isArrayLike(a)?a:[a],this.addTarget,this)},_onHover:function(a){if(!this._showTimer){var b=a.target;this._showTimer=setTimeout(c.hitch(this,function(){this.open(b)}),this.showDelay)}},_onUnHover:function(){this._focus||(this._showTimer&&(clearTimeout(this._showTimer),delete this._showTimer),this.close())},open:function(a){this._showTimer&&
(clearTimeout(this._showTimer),delete this._showTimer);z.show(this.label||this.domNode.innerHTML,a,this.position,!this.isLeftToRight(),this.textDir);this._connectNode=a;this.onShow(a,this.position)},close:function(){this._connectNode&&(z.hide(this._connectNode),delete this._connectNode,this.onHide());this._showTimer&&(clearTimeout(this._showTimer),delete this._showTimer)},onShow:function(){},onHide:function(){},uninitialize:function(){this.close();this.inherited(arguments)}});z._MasterTooltip=A;z.show=
p.showTooltip;z.hide=p.hideTooltip;z.defaultPosition=["after-centered","before-centered"];return z})},"dojo/_base/window":function(){define(["./kernel","../has","./sniff"],function(d,m){d.doc=this.document||null;d.body=function(){return d.doc.body||d.doc.getElementsByTagName("body")[0]};d.setContext=function(m,h){d.global=i.global=m;d.doc=i.doc=h};d.withGlobal=function(m,h,e,n){var c=d.global;try{return d.global=i.global=m,d.withDoc.call(null,m.document,h,e,n)}finally{d.global=i.global=c}};d.withDoc=
function(o,h,e,n){var c=d.doc,b=d.isQuirks,a=d.isIE,q,s,l;try{d.doc=i.doc=o;d.isQuirks=m.add("quirks",d.doc.compatMode=="BackCompat",!0,!0);if(m("ie")&&(l=o.parentWindow)&&l.navigator)q=parseFloat(l.navigator.appVersion.split("MSIE ")[1])||void 0,(s=o.documentMode)&&s!=5&&Math.floor(q)!=s&&(q=s),d.isIE=m.add("ie",q,!0,!0);e&&typeof h=="string"&&(h=e[h]);return h.apply(e,n||[])}finally{d.doc=i.doc=c,d.isQuirks=m.add("quirks",b,!0,!0),d.isIE=m.add("ie",a,!0,!0)}};var i={global:d.global,doc:d.doc,body:d.body,
setContext:d.setContext,withGlobal:d.withGlobal,withDoc:d.withDoc};return i})},"djeo/Map":function(){define("djeo/Map",["require","dojo/_base/declare","dojo/_base/lang","dojo/has","dojo/dom","dojo/_base/array","dojo/dom-geometry","dojo/_base/xhr","dojo/_base/kernel","dojo/_base/Deferred","./_base","./FeatureContainer","./Placemark"],function(d,m,i,o,h,e,n,c,b,a,q,s){return m(null,{engine:null,engineOptions:null,extent:null,minZoom:0,maxZoom:18,features:null,geometries:null,document:null,layers:null,
useAttrs:!1,renderModels:!0,simulateOrientation:!1,iconBasePath:"",modelBasePath:"",styleById:null,styleByFid:null,styleByClass:null,styleByClassAndFid:null,featuresByClass:null,states:null,_ready:!1,constructor:function(a,c){this.styleById={};this.styleByFid={};this.styleByClass={};this.styleByClassAndFid={};this.featuresByClass={};this.states={highlight:"highlight",normal:null};this.engineOptions={};this.container=h.byId(a);c||(c={});i.mixin(this,c);this.features={};this.geometries={};c.geometries&&
this.loadGeometries(c.geometries);this.document=new s(null,{map:this,parent:this});this.addStyle(q.defaultStyle,!0);c.style&&this.addStyle(c.style,!0);c.features&&this.addFeatures(c.features,!0,!0);this.setEngine(c.engine||b.global.dojoConfig&&b.global.dojoConfig.djeoEngine||d.rawConfig.djeoEngine||q.defaultEngine)},ready:function(b){this._ready?b():(this._readyDeferred=new a,this._readyDeferred.then(b))},_onEngineReady:function(){var a=this.engine,b=[],c=q.dependencies,h;for(h in c)if(c[h]==1||c[h](this)){var n=
a.matchModuleId(h);n&&b.push(n)}var m=this.layers,o=b.length;if(m){i.isString(m)&&(m=[m]);var s=[];e.forEach(m,function(c){if(i.isString(c)){if(a.isValidLayerId(c)){var d=a.getLayerModuleId(c);d&&b.push("djeo/"+d,a._require.toAbsMid("./"+d));s.push(c)}}else s.push(c)});m=s}d(b,i.hitch(this,function(){if(m&&m.length&&!this._layerLoaded){var b=arguments;e.forEach(m,function(c){i.isString(c)&&a.getLayerModuleId(c)&&(a.setLayerConstructor(c,b[o]),o+=2);a.enableLayer(c,!0)})}var c=this.render(null,!0);
c?c.then(i.hitch(this,function(){this._ready=!0;this._readyDeferred&&(this._readyDeferred.resolve(),delete this._readyDeferred)})):(this._ready=!0,this._readyDeferred&&(this._readyDeferred.resolve(),delete this._readyDeferred))}))},addFeatures:function(a,b,c){return this.document.addFeatures(a,b,c)},removeFeatures:function(a){this.document.removeFeatures(a)},render:function(a,b){return this.engine.render(a,b)},renderFeatures:function(a,b,c){this.engine.renderFeatures(a,b,c)},show:function(a,b){if(a===
void 0)a=this.document;if(b===void 0)a===!0||a===!1?(b=a,a=this.document):b=!0;i.isArray(a)||(a=[a]);e.forEach(a,function(a){i.isString(a)&&(a=this.getFeatureById(a));a&&a.show(b)},this)},_show:function(){},toggleVisibility:function(a){if(!a)a=this.document;i.isArray(a)||(a=[a]);e.forEach(a,function(a){i.isString(a)&&(a=this.getFeatureById(a));a&&a.toggleVisibility()},this)},resize:function(){this._calculateViewport()},enableLayer:function(a,b){b===void 0&&(b=!0);this.engine.enableLayer(a,b)},getContainer:function(){return this.engine.getTopContainer()},
_calculateViewport:function(){var a=n.getContentBox(this.container),b=n.position(this.container,!0);this.width=this.width||a.w||100;this.height=this.height||a.h||100;this.x=b.x;this.y=b.y},loadGeometries:function(a){i.isString(a)?c.get({url:a,handleAs:"json",sync:!0,load:i.hitch(this,function(a){this.loadGeometries(a)})}):i.isArray(a)?e.forEach(a,function(a){a.id&&(this.geometries[a.id]=a)},this):this.geometries=a},addStyle:function(a,b){this.document.addStyle(a,b)},getGeometryById:function(a){return this.geometries[a]},
getStyleById:function(a){return this.styleById[a]},registerFeature:function(a){a.id&&(this.features[a.id]=a)},getFeatureById:function(a){return this.features[a]},$:function(a){return this.getFeatureById(a)},on:function(a,b,c){var d=this.engine;return d["_on_"+a]?d["_on_"+a](a,b,c):d.onForMap(a,b,c)},onForHandle:function(a,b){return this.document.onForHandle(a,b)},disconnect:function(a,b,c){this.document.disconnect(a,b,c)},setEngine:function(a,b){if(i.isString(a)){var c=a=="djeo"?"./djeo/Engine":"djeo-"+
a+"/Engine";d(["require",a=="djeo"?"./native":"djeo-"+a+"/"+a],i.hitch(this,function(d){d([c],i.hitch(this,function(c){var d={};this.engineOptions[a]&&i.mixin(d,this.engineOptions[a]);b&&i.mixin(d,b);d.map=this;a=new c(d);this._initializeEngine(a)}))}))}else a.initialized?(this.engine=a,this._onEngineReady()):this._initializeEngine(a)},_initializeEngine:function(a){this._calculateViewport();this.engine=a;a.initialize(i.hitch(this,function(){this._onEngineReady()}))},getBbox:function(){return this.document.getBbox()},
destroy:function(){this.engine.destroy()},getCoords:function(a){return a},executeBatch:function(a){var b=this.engine;b.executeBatch?b.executeBatch(a):a()},zoomTo:function(a){var b;i.isArray(a)?i.isString(a[0])||i.isObject(a[0])?(b=[Infinity,Infinity,-Infinity,-Infinity],e.forEach(a,function(c){i.isString(c)&&(c=this.getFeatureById(a));c&&g.util.bbox.extend(b,c.getBbox())},this)):b=a:i.isString(a)?(b=this.getFeatureById(a))&&(b=b.getBbox()):i.isObject(a)&&(b=a.getBbox());b&&this.engine.zoomTo(b)},
set:function(a,b){var c="_set_"+a,d,e;if(this[c])d=this[c],e=this;else if(this.engine[c])d=this.engine[c],e=this.engine;return d&&d.call(e,b)},get:function(a){var b="_get_"+a,c,d;if(this[b])c=this[b],d=this;else if(this.engine[b])c=this.engine[b],d=this.engine;b=c&&c.call(d);return b!==void 0?b:this[a]},_get_center:function(){return this.engine._get_center()},_get_extent:function(){return this.engine._get_extent()},containerPixelToCoords:function(a,b){return this.engine.containerPixelToCoords(a,b)},
_appendDiv:function(a){this.engine._appendDiv(a)}})})},"djeo/dojox/gfx/shape":function(){define("djeo/dojox/gfx/shape",["./_base","dojo/_base/lang","dojo/_base/declare","dojo/_base/window","dojo/_base/sniff","dojo/_base/connect","dojo/_base/array","dojo/dom-construct","dojo/_base/Color","./matrix"],function(d,m,i,o,h,e,n,c,b,a){var q=d.shape={},s={},l={};q.register=function(a){var b=a.declaredClass.split(".").pop(),c=b in s?++s[b]:s[b]=0;b+=c;l[b]=a;return b};q.byId=function(a){return l[a]};q.dispose=
function(a){delete l[a.getUID()]};i("dojox.gfx.shape.Shape",null,{constructor:function(){this.parentMatrix=this.parent=this.bbox=this.strokeStyle=this.fillStyle=this.matrix=this.shape=this.rawNode=null;var a=q.register(this);this.getUID=function(){return a}},getNode:function(){return this.rawNode},getShape:function(){return this.shape},getTransform:function(){return this.matrix},getFill:function(){return this.fillStyle},getStroke:function(){return this.strokeStyle},getParent:function(){return this.parent},
getBoundingBox:function(){return this.bbox},getTransformedBoundingBox:function(){var b=this.getBoundingBox();if(!b)return null;var c=this._getRealMatrix();return[a.multiplyPoint(c,b.x,b.y),a.multiplyPoint(c,b.x+b.width,b.y),a.multiplyPoint(c,b.x+b.width,b.y+b.height),a.multiplyPoint(c,b.x,b.y+b.height)]},getEventSource:function(){return this.rawNode},setShape:function(a){this.shape=d.makeParameters(this.shape,a);this.bbox=null;return this},setFill:function(a){if(!a)return this.fillStyle=null,this;
var b=null;if(typeof a=="object"&&"type"in a)switch(a.type){case "linear":b=d.makeParameters(d.defaultLinearGradient,a);break;case "radial":b=d.makeParameters(d.defaultRadialGradient,a);break;case "pattern":b=d.makeParameters(d.defaultPattern,a)}else b=d.normalizeColor(a);this.fillStyle=b;return this},setStroke:function(a){if(!a)return this.strokeStyle=null,this;if(typeof a=="string"||m.isArray(a)||a instanceof b)a={color:a};a=this.strokeStyle=d.makeParameters(d.defaultStroke,a);a.color=d.normalizeColor(a.color);
return this},setTransform:function(b){this.matrix=a.clone(b?a.normalize(b):a.identity);return this._applyTransform()},_applyTransform:function(){return this},moveToFront:function(){var a=this.getParent();a&&(a._moveChildToFront(this),this._moveToFront());return this},moveToBack:function(){var a=this.getParent();a&&(a._moveChildToBack(this),this._moveToBack());return this},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(a){return a?this.setTransform([this.matrix,a]):
this},applyLeftTransform:function(a){return a?this.setTransform([a,this.matrix]):this},applyTransform:function(a){return a?this.setTransform([this.matrix,a]):this},removeShape:function(a){this.parent&&this.parent.remove(this,a);return this},_setParent:function(a,b){this.parent=a;return this._updateParentMatrix(b)},_updateParentMatrix:function(b){this.parentMatrix=b?a.clone(b):null;return this._applyTransform()},_getRealMatrix:function(){for(var b=this.matrix,c=this.parent;c;)c.matrix&&(b=a.multiply(c.matrix,
b)),c=c.parent;return b}});q._eventsProcessing={connect:function(a,b,c){return e.connect(this.getEventSource(),a,q.fixCallback(this,d.fixTarget,b,c))},disconnect:function(a){e.disconnect(a)}};q.fixCallback=function(a,b,c,d){d||(d=c,c=null);if(m.isString(d)){c=c||o.global;if(!c[d])throw['dojox.gfx.shape.fixCallback: scope["',d,'"] is null (scope="',c,'")'].join("");return function(e){return b(e,a)?c[d].apply(c,arguments||[]):void 0}}return!c?function(e){return b(e,a)?d.apply(c,arguments):void 0}:function(e){return b(e,
a)?d.apply(c,arguments||[]):void 0}};m.extend(q.Shape,q._eventsProcessing);q.Container={_init:function(){this.children=[]},openBatch:function(){},closeBatch:function(){},add:function(a){var b=a.getParent();b&&b.remove(a,!0);this.children.push(a);return a._setParent(this,this._getRealMatrix())},remove:function(a,b){for(var c=0;c<this.children.length;++c)if(this.children[c]==a){if(!b)a.parent=null,a.parentMatrix=null;this.children.splice(c,1);break}return this},clear:function(){for(var a,b=0;b<this.children.length;++b)a=
this.children[b],a.parent=null,a.parentMatrix=null;this.children=[];return this},_moveChildToFront:function(a){for(var b=0;b<this.children.length;++b)if(this.children[b]==a){this.children.splice(b,1);this.children.push(a);break}return this},_moveChildToBack:function(a){for(var b=0;b<this.children.length;++b)if(this.children[b]==a){this.children.splice(b,1);this.children.unshift(a);break}return this}};i("dojox.gfx.shape.Surface",null,{constructor:function(){this._parent=this.rawNode=null;this._nodes=
[];this._events=[]},destroy:function(){n.forEach(this._nodes,c.destroy);this._nodes=[];n.forEach(this._events,e.disconnect);this._events=[];this.rawNode=null;if(h("ie"))for(;this._parent.lastChild;)c.destroy(this._parent.lastChild);else this._parent.innerHTML="";this._parent=null},getEventSource:function(){return this.rawNode},_getRealMatrix:function(){return null},isLoaded:!0,onLoad:function(){},whenLoaded:function(a,b){var c=m.hitch(a,b);if(this.isLoaded)c(this);else var d=e.connect(this,"onLoad",
function(a){e.disconnect(d);c(a)})}});m.extend(q.Surface,q._eventsProcessing);i("dojox.gfx.Point",null,{});i("dojox.gfx.Rectangle",null,{});i("dojox.gfx.shape.Rect",q.Shape,{constructor:function(a){this.shape=d.getDefault("Rect");this.rawNode=a},getBoundingBox:function(){return this.shape}});i("dojox.gfx.shape.Ellipse",q.Shape,{constructor:function(a){this.shape=d.getDefault("Ellipse");this.rawNode=a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:a.cx-a.rx,y:a.cy-a.ry,width:2*
a.rx,height:2*a.ry}}return this.bbox}});i("dojox.gfx.shape.Circle",q.Shape,{constructor:function(a){this.shape=d.getDefault("Circle");this.rawNode=a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:a.cx-a.r,y:a.cy-a.r,width:2*a.r,height:2*a.r}}return this.bbox}});i("dojox.gfx.shape.Line",q.Shape,{constructor:function(a){this.shape=d.getDefault("Line");this.rawNode=a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:Math.min(a.x1,a.x2),y:Math.min(a.y1,a.y2),
width:Math.abs(a.x2-a.x1),height:Math.abs(a.y2-a.y1)}}return this.bbox}});i("dojox.gfx.shape.Polyline",q.Shape,{constructor:function(a){this.shape=d.getDefault("Polyline");this.rawNode=a},setShape:function(a,b){a&&a instanceof Array?(this.inherited(arguments,[{points:a}]),b&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.inherited(arguments,[a]);return this},_normalizePoints:function(){var a=this.shape.points,b=a&&a.length;if(b&&typeof a[0]=="number"){for(var c=[],d=
0;d<b;d+=2)c.push({x:a[d],y:a[d+1]});this.shape.points=c}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){for(var a=this.shape.points,b=a.length,c=a[0],d={l:c.x,t:c.y,r:c.x,b:c.y},e=1;e<b;++e){c=a[e];if(d.l>c.x)d.l=c.x;if(d.r<c.x)d.r=c.x;if(d.t>c.y)d.t=c.y;if(d.b<c.y)d.b=c.y}this.bbox={x:d.l,y:d.t,width:d.r-d.l,height:d.b-d.t}}return this.bbox}});i("dojox.gfx.shape.Image",q.Shape,{constructor:function(a){this.shape=d.getDefault("Image");this.rawNode=a},getBoundingBox:function(){return this.shape},
setStroke:function(){return this},setFill:function(){return this}});i("dojox.gfx.shape.Text",q.Shape,{constructor:function(a){this.fontStyle=null;this.shape=d.getDefault("Text");this.rawNode=a},getFont:function(){return this.fontStyle},setFont:function(a){this.fontStyle=typeof a=="string"?d.splitFontString(a):d.makeParameters(d.defaultFont,a);this._setFont();return this}});q.Creator={createShape:function(a){switch(a.type){case d.defaultPath.type:return this.createPath(a);case d.defaultRect.type:return this.createRect(a);
case d.defaultCircle.type:return this.createCircle(a);case d.defaultEllipse.type:return this.createEllipse(a);case d.defaultLine.type:return this.createLine(a);case d.defaultPolyline.type:return this.createPolyline(a);case d.defaultImage.type:return this.createImage(a);case d.defaultText.type:return this.createText(a);case d.defaultTextPath.type:return this.createTextPath(a)}return null},createGroup:function(){return this.createObject(d.Group)},createRect:function(a){return this.createObject(d.Rect,
a)},createEllipse:function(a){return this.createObject(d.Ellipse,a)},createCircle:function(a){return this.createObject(d.Circle,a)},createLine:function(a){return this.createObject(d.Line,a)},createPolyline:function(a){return this.createObject(d.Polyline,a)},createImage:function(a){return this.createObject(d.Image,a)},createText:function(a){return this.createObject(d.Text,a)},createPath:function(a){return this.createObject(d.Path,a)},createTextPath:function(a){return this.createObject(d.TextPath,{}).setText(a)},
createObject:function(){return null}};return q})},"djeo/dojox/gfx/matrix":function(){define("djeo/dojox/gfx/matrix",["./_base","dojo/_base/lang"],function(d,m){var i=d.matrix={},o={};i._degToRad=function(d){return o[d]||(o[d]=Math.PI*d/180)};i._radToDeg=function(d){return d/Math.PI*180};i.Matrix2D=function(d){if(d)if(typeof d=="number")this.xx=this.yy=d;else if(d instanceof Array){if(d.length>0){for(var e=i.normalize(d[0]),n=1;n<d.length;++n){var c=e,b=i.normalize(d[n]),e=new i.Matrix2D;e.xx=c.xx*
b.xx+c.xy*b.yx;e.xy=c.xx*b.xy+c.xy*b.yy;e.yx=c.yx*b.xx+c.yy*b.yx;e.yy=c.yx*b.xy+c.yy*b.yy;e.dx=c.xx*b.dx+c.xy*b.dy+c.dx;e.dy=c.yx*b.dx+c.yy*b.dy+c.dy}m.mixin(this,e)}}else m.mixin(this,d)};m.extend(i.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});m.mixin(i,{identity:new i.Matrix2D,flipX:new i.Matrix2D({xx:-1}),flipY:new i.Matrix2D({yy:-1}),flipXY:new i.Matrix2D({xx:-1,yy:-1}),translate:function(d,e){if(arguments.length>1)return new i.Matrix2D({dx:d,dy:e});return new i.Matrix2D({dx:d.x,dy:d.y})},scale:function(d,
e){if(arguments.length>1)return new i.Matrix2D({xx:d,yy:e});if(typeof d=="number")return new i.Matrix2D({xx:d,yy:d});return new i.Matrix2D({xx:d.x,yy:d.y})},rotate:function(d){var e=Math.cos(d),d=Math.sin(d);return new i.Matrix2D({xx:e,xy:-d,yx:d,yy:e})},rotateg:function(d){return i.rotate(i._degToRad(d))},skewX:function(d){return new i.Matrix2D({xy:Math.tan(d)})},skewXg:function(d){return i.skewX(i._degToRad(d))},skewY:function(d){return new i.Matrix2D({yx:Math.tan(d)})},skewYg:function(d){return i.skewY(i._degToRad(d))},
reflect:function(d,e){if(arguments.length==1)e=d.y,d=d.x;var n=d*d,c=e*e,b=n+c,a=2*d*e/b;return new i.Matrix2D({xx:2*n/b-1,xy:a,yx:a,yy:2*c/b-1})},project:function(d,e){if(arguments.length==1)e=d.y,d=d.x;var n=d*d,c=e*e,b=n+c,a=d*e/b;return new i.Matrix2D({xx:n/b,xy:a,yx:a,yy:c/b})},normalize:function(d){return d instanceof i.Matrix2D?d:new i.Matrix2D(d)},clone:function(d){var e=new i.Matrix2D,n;for(n in d)typeof d[n]=="number"&&typeof e[n]=="number"&&e[n]!=d[n]&&(e[n]=d[n]);return e},invert:function(d){var d=
i.normalize(d),e=d.xx*d.yy-d.xy*d.yx;return d=new i.Matrix2D({xx:d.yy/e,xy:-d.xy/e,yx:-d.yx/e,yy:d.xx/e,dx:(d.xy*d.dy-d.yy*d.dx)/e,dy:(d.yx*d.dx-d.xx*d.dy)/e})},_multiplyPoint:function(d,e,i){return{x:d.xx*e+d.xy*i+d.dx,y:d.yx*e+d.yy*i+d.dy}},multiplyPoint:function(d,e,m){d=i.normalize(d);if(typeof e=="number"&&typeof m=="number")return i._multiplyPoint(d,e,m);return i._multiplyPoint(d,e.x,e.y)},multiply:function(d){for(var e=i.normalize(d),m=1;m<arguments.length;++m){var c=e,b=i.normalize(arguments[m]),
e=new i.Matrix2D;e.xx=c.xx*b.xx+c.xy*b.yx;e.xy=c.xx*b.xy+c.xy*b.yy;e.yx=c.yx*b.xx+c.yy*b.yx;e.yy=c.yx*b.xy+c.yy*b.yy;e.dx=c.xx*b.dx+c.xy*b.dy+c.dx;e.dy=c.yx*b.dx+c.yy*b.dy+c.dy}return e},_sandwich:function(d,e,m){return i.multiply(i.translate(e,m),d,i.translate(-e,-m))},scaleAt:function(d,e,m,c){switch(arguments.length){case 4:return i._sandwich(i.scale(d,e),m,c);case 3:if(typeof m=="number")return i._sandwich(i.scale(d),e,m);return i._sandwich(i.scale(d,e),m.x,m.y)}return i._sandwich(i.scale(d),
e.x,e.y)},rotateAt:function(d,e,m){if(arguments.length>2)return i._sandwich(i.rotate(d),e,m);return i._sandwich(i.rotate(d),e.x,e.y)},rotategAt:function(d,e,m){if(arguments.length>2)return i._sandwich(i.rotateg(d),e,m);return i._sandwich(i.rotateg(d),e.x,e.y)},skewXAt:function(d,e,m){if(arguments.length>2)return i._sandwich(i.skewX(d),e,m);return i._sandwich(i.skewX(d),e.x,e.y)},skewXgAt:function(d,e,m){if(arguments.length>2)return i._sandwich(i.skewXg(d),e,m);return i._sandwich(i.skewXg(d),e.x,e.y)},
skewYAt:function(d,e,m){if(arguments.length>2)return i._sandwich(i.skewY(d),e,m);return i._sandwich(i.skewY(d),e.x,e.y)},skewYgAt:function(d,e,m){if(arguments.length>2)return i._sandwich(i.skewYg(d),e,m);return i._sandwich(i.skewYg(d),e.x,e.y)}});d.Matrix2D=i.Matrix2D;return i})},"djeo/util/bbox":function(){define("djeo/util/bbox",["dojo/_base/array"],function(d){var m={extend:function(d,h){h&&(h[0]<d[0]&&(d[0]=h[0]),h[1]<d[1]&&(d[1]=h[1]),h.length==4?(h[2]>d[2]&&(d[2]=h[2]),h[3]>d[3]&&(d[3]=h[3])):
(h[0]>d[2]&&(d[2]=h[0]),h[1]>d[3]&&(d[3]=h[1])));return d},get:function(d){var h=d.getCoords(),e,m=0;switch(d.getCoordsType()){case "Point":m=1;break;case "LineString":m=2;break;case "Polygon":m=3;break;case "MultiLineString":m=3;break;case "MultiPolygon":m=4}if(m)e=[Infinity,Infinity,-Infinity,-Infinity],i(m,h,e),d._bbox=e;return e}},i=function(o,h,e){o==1?m.extend(e,h):d.forEach(h,function(d){i(o-1,d,e)})};return m})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dijit/layout/_ContentPaneResizeMixin",
["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/_base/lang","dojo/query","dojo/_base/sniff","dojo/_base/window","../registry","./utils","../_Contained"],function(d,m,i,o,h,e,n,c,b,a,q){return m("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var a=this.getParent();this._childOfLayoutWidget=a&&a.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);
this._isShown()&&this._onShow();this._childOfLayoutWidget||this.connect(c("ie")?this.domNode:b.global,"onresize",function(){this._needLayout=!this._childOfLayoutWidget;this.resize()})}},_checkIfSingleChild:function(){var b=n("> *",this.containerNode).filter(function(a){return a.tagName!=="SCRIPT"}),c=b.filter(function(a){return i.has(a,"data-dojo-type")||i.has(a,"dojoType")||i.has(a,"widgetId")}),e=d.filter(c.map(a.byNode),function(a){return a&&a.domNode&&a.resize});b.length==c.length&&e.length==
1?this._singleChild=e[0]:delete this._singleChild;o.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)},resize:function(a,b){!this._wasShown&&this.open!==!1&&this._onShow();this._resizeCalled=!0;this._scheduleLayout(a,b)},_scheduleLayout:function(a,b){this._isShown()?this._layout(a,b):(this._needLayout=!0,this._changeSize=a,this._resultSize=b)},_layout:function(a,b){a&&h.setMarginBox(this.domNode,a);var c=this.containerNode;if(c===this.domNode){var d=b||{};e.mixin(d,a||{});
if(!("h"in d)||!("w"in d))d=e.mixin(h.getMarginBox(c),d);this._contentBox=q.marginBox2contentBox(c,d)}else this._contentBox=h.getContentBox(c);this._layoutChildren();delete this._needLayout},_layoutChildren:function(){this.doLayout&&this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||h.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else d.forEach(this.getChildren(),function(a){a.resize&&a.resize()})},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&
"open"in this)return this.open;return this._resizeCalled}else if("open"in this)return this.open;else{var a=this.domNode,b=this.domNode.parentNode;return a.style.display!="none"&&a.style.visibility!="hidden"&&!o.contains(a,"dijitHidden")&&b&&b.style&&b.style.display!="none"}},_onShow:function(){this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments);this._wasShown=!0}})})},"dijit/_WidgetBase":function(){define("dijit/_WidgetBase",["require","dojo/_base/array","dojo/aspect",
"dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./registry"],function(d,m,i,o,h,e,n,c,b,a,q,s,l,f,t,r,p,A,z,x){function y(a){return function(b){c[b?"set":"remove"](this.domNode,a,b);this._set(a,b)}}l.isAsync||r(0,function(){d(["dijit/_base/manager"])});var u={};return e("dijit._WidgetBase",
p,{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:y("lang"),dir:"",_setDirAttr:y("dir"),textDir:"","class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{},_blankGif:o.blankGif||d.toUrl("dojo/resources/blank.gif"),postscript:function(a,b){this.create(a,b)},create:function(a,b){this.srcNodeRef=n.byId(b);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&typeof this.srcNodeRef.id==
"string")this.id=this.srcNodeRef.id;if(a)this.params=a,f.mixin(this,a);this.postMixInProperties();if(!this.id)this.id=x.getUniqueId(this.declaredClass.replace(/\./g,"_"));x.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var c=this.srcNodeRef;c&&c.parentNode&&this.domNode!==c&&c.parentNode.replaceChild(this.domNode,c)}this.domNode&&this.domNode.setAttribute("widgetId",this.id);this.postCreate();this.srcNodeRef&&!this.srcNodeRef.parentNode&&delete this.srcNodeRef;this._created=
!0},_applyAttributes:function(){var a=this.constructor,b=a._setterAttrs;if(!b){var b=a._setterAttrs=[],c;for(c in this.attributeMap)b.push(c);var a=a.prototype,d;for(d in a)d in this.attributeMap||"_set"+d.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()})+"Attr"in a&&b.push(d)}m.forEach(b,function(a){this.params&&a in this.params||this[a]&&this.set(a,this[a])},this);for(var e in this.params)this.set(e,this[e])},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode)this.domNode=
this.srcNodeRef||a.create("div");if(this.baseClass){var c=this.baseClass.split(" ");this.isLeftToRight()||(c=c.concat(m.map(c,function(a){return a+"Rtl"})));b.add(this.domNode,c)}},postCreate:function(){},startup:function(){if(!this._started)this._started=!0,m.forEach(this.getChildren(),function(a){if(!a._started&&!a._destroyed&&f.isFunction(a.startup))a.startup(),a._started=!0})},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){this._beingDestroyed=
!0;this.uninitialize();for(var b;b=this._connects.pop();)b.remove();for(;b=this._supportingWidgets.pop();)b.destroyRecursive?b.destroyRecursive():b.destroy&&b.destroy();this.destroyRendering(a);x.remove(this.id);this._destroyed=!0},destroyRendering:function(b){this.bgIframe&&(this.bgIframe.destroy(b),delete this.bgIframe);this.domNode&&(b?c.remove(this.domNode,"widgetId"):a.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(b||a.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){m.forEach(this.getChildren(),
function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=this.domNode;f.isObject(a)?s.set(b,a):b.style.cssText?b.style.cssText+="; "+a:b.style.cssText=a;this._set("style",a)},_attrToDom:function(a,d,e){e=arguments.length>=3?e:this.attributeMap[a];m.forEach(f.isArray(e)?e:[e],function(e){var h=this[e.node||e||"domNode"];switch(e.type||"attribute"){case "attribute":f.isFunction(d)&&(d=f.hitch(this,d));e=e.attribute?e.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?
a.toLowerCase():a;c.set(h,e,d);break;case "innerText":h.innerHTML="";h.appendChild(z.doc.createTextNode(d));break;case "innerHTML":h.innerHTML=d;break;case "class":b.replace(h,d,this[a])}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?this[b.g]():this[a]},set:function(a,b){if(typeof a==="object"){for(var c in a)this.set(c,a[c]);return this}c=this._getAttrNames(a);var d=this[c.s];if(f.isFunction(d))var e=d.apply(this,Array.prototype.slice.call(arguments,1));else{var d=this.focusNode&&
!f.isFunction(this.focusNode)?"focusNode":"domNode",h=this[d].tagName,i;if(!(i=u[h])){i=this[d];var l={},m;for(m in i)l[m.toLowerCase()]=!0;i=u[h]=l}m=a in this.attributeMap?this.attributeMap[a]:c.s in this?this[c.s]:c.l in i&&typeof b!="function"||/^aria-|^data-|^role$/.test(a)?d:null;m!=null&&this._attrToDom(a,b,m);this._set(a,b)}return e||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var c=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-
1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+c+"Attr",g:"_get"+c+"Attr",l:c.toLowerCase()}},_set:function(a,b){var c=this[a];this[a]=b;this._watchCallbacks&&this._created&&b!==c&&this._watchCallbacks(a,c,b)},on:function(a,b){return i.after(this,this._onMap(a),b,!0)},_onMap:function(a){var b=this.constructor,c=b._onMap;if(!c){var c=b._onMap={},d;for(d in b.prototype)/^on/.test(d)&&(c[d.replace(/^on/,"").toLowerCase()]=d)}return c[a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+
", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?x.findWidgets(this.containerNode):[]},getParent:function(){return x.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,b,c){a=h.connect(a,b,this,c);this._connects.push(a);return a},disconnect:function(a){var b=m.indexOf(this._connects,a);b!=-1&&(a.remove(),this._connects.splice(b,1))},subscribe:function(a,b){var c=A.subscribe(a,f.hitch(this,b));this._connects.push(c);return c},unsubscribe:function(a){this.disconnect(a)},
isLeftToRight:function(){return this.dir?this.dir=="ltr":q.isBodyLtr()},isFocusable:function(){return this.focus&&s.get(this.domNode,"display")!="none"},placeAt:function(b,c){b.declaredClass&&b.addChild?b.addChild(this,c):a.place(this.domNode,b,c);return this},getTextDir:function(a,b){return b},applyTextDir:function(){},defer:function(a,b){var c=setTimeout(f.hitch(this,function(){c=null;this._destroyed||f.hitch(this,a)()}),b||0);return{remove:function(){c&&(clearTimeout(c),c=null);return null}}}})})},
"djeo/dojox/gfx/arc":function(){define("djeo/dojox/gfx/arc",["./_base","dojo/_base/lang","./matrix"],function(d,m,i){function o(a){var b=Math.cos(a),a=Math.sin(a),c={x:b+4/3*(1-b),y:a-4/3*b*(1-b)/a};return{s:{x:b,y:-a},c1:{x:c.x,y:-c.y},c2:c,e:{x:b,y:a}}}var h=2*Math.PI,e=Math.PI/4,n=Math.PI/8,c=e+n,b=o(n);return d.arc={unitArcAsBezier:o,curvePI4:b,arcAsBezier:function(a,d,m,l,f,t,r,p){var f=Boolean(f),t=Boolean(t),A=i._degToRad(l),l=d*d,z=m*m,x=i.multiplyPoint(i.rotate(-A),{x:(a.x-r)/2,y:(a.y-p)/
2}),y=x.x*x.x,u=x.y*x.y,l=Math.sqrt((l*z-l*u-z*y)/(l*u+z*y));isNaN(l)&&(l=0);l={x:l*d*x.y/m,y:-l*m*x.x/d};f==t&&(l={x:-l.x,y:-l.y});l=i.multiplyPoint([i.translate((a.x+r)/2,(a.y+p)/2),i.rotate(A)],l);d=i.normalize([i.translate(l.x,l.y),i.rotate(A),i.scale(d,m)]);l=i.invert(d);a=i.multiplyPoint(l,a);p=i.multiplyPoint(l,r,p);r=Math.atan2(a.y,a.x);l=r-Math.atan2(p.y,p.x);t&&(l=-l);l<0?l+=h:l>h&&(l-=h);m=n;p=b;m=t?m:-m;a=[];for(f=l;f>0;f-=e)f<c&&(m=f/2,p=o(m),m=t?m:-m,f=0),x=i.normalize([d,i.rotate(r+
m)]),t?(l=i.multiplyPoint(x,p.c1),A=i.multiplyPoint(x,p.c2),x=i.multiplyPoint(x,p.e)):(l=i.multiplyPoint(x,p.c2),A=i.multiplyPoint(x,p.c1),x=i.multiplyPoint(x,p.s)),a.push([l.x,l.y,A.x,A.y,x.x,x.y]),r+=2*m;return a}}})},"dojo/html":function(){define(["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(d,m,i,o,h,e,n){m.getObject("html",!0,d);var c=0;d.html._secureForInnerHtml=function(b){return b.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,
"")};d.html._emptyNode=e.empty;d.html._setNodeContent=function(b,a){e.empty(b);if(a)if(typeof a=="string"&&(a=e.toDom(a,b.ownerDocument)),!a.nodeType&&m.isArrayLike(a))for(var c=a.length,d=0;d<a.length;d=c==a.length?d+1:0)e.place(a[d],b,"last");else e.place(a,b,"last");return b};o("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:d._scopeName,startup:!0,constructor:function(b,a){m.mixin(this,b||{});a=this.node=h.byId(this.node||
a);if(!this.id)this.id=["Setter",a?a.id||a.tagName:"",c++].join("_")},set:function(b,a){if(void 0!==b)this.content=b;a&&this._mixin(a);this.onBegin();this.setContent();this.onEnd();return this.node},setContent:function(){var b=this.node;if(!b)throw Error(this.declaredClass+": setContent given no node");try{b=d.html._setNodeContent(b,this.content)}catch(a){var c=this.onContentError(a);try{b.innerHTML=c}catch(e){}}this.node=b},empty:function(){this.parseResults&&this.parseResults.length&&(i.forEach(this.parseResults,
function(b){b.destroy&&b.destroy()}),delete this.parseResults);d.html._emptyNode(this.node)},onBegin:function(){var b=this.content;if(m.isString(b)&&(this.cleanContent&&(b=d.html._secureForInnerHtml(b)),this.extractContent)){var a=b.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);a&&(b=a[1])}this.empty();this.content=b;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.node;delete this.content},onContentError:function(b){return"Error occured setting content: "+
b},_mixin:function(b){var a={},c;for(c in b)c in a||(this[c]=b[c])},_parse:function(){var b=this.node;try{var a={};i.forEach(["dir","lang","textDir"],function(b){this[b]&&(a[b]=this[b])},this);this.parseResults=n.parse({rootNode:b,noStart:!this.startup,inherited:a,scope:this.parserScope})}catch(c){this._onError("Content",c,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(b,a,c){b=this["on"+b+"Error"].call(this,a);c||b&&d.html._setNodeContent(this.node,b,!0)}});d.html.set=function(b,
a,c){void 0==a&&(a="");return c?(new d.html._ContentSetter(m.mixin(c,{content:a,node:b}))).set():d.html._setNodeContent(b,a,!0)};return d.html})},"*now":function(d){d(['dojo/i18n!*preload*dojo/nls/dojo*["ar","ca","cs","da","de-de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});(function(){var d=this.require;d({cache:{}});!d.async&&d(["dojo"]);d.boot&&d.apply(null,d.boot)})();